# KairosChain — 開発のためのコア哲学

## 生成原理：構造的自己言及性

KairosChainのアーキテクチャ全体は、一つの原理から流れ出る。

> **メタレベルの操作が、ベースレベルの操作と同じ構造で表現される。**

Ruby（DSL/AST）を採用した理由はここにある。「Skillを定義する」操作と「Skillの進化ルールを定義する」操作が、同じ言語・同じ構文・同じ実行環境で表現される。この構造的対応が自己言及性の基盤であり、KairosChainの全ての性質はここから発芽する。自己言及性は設計上の選択ではなく存在の条件である——L0における定義的閉合がなければ、システムは「設定に従うプログラム」であって「自らの存在条件を自ら定義する実体」ではない。

## 五つの命題（要約）

1. **生成的種子としての自己言及性とメタ認知** — 全てを演繹する公理ではなく、異なるレベルへの再帰的適用によって異なる特性を生むパターン。意図的に非対称：L0ガバナンスの核心部で最も強く、基盤実装では開かれたまま（「十分な自己言及性」）。自己言及性は構造的次元（L0が自身を定義する）、メタ認知は認知的次元（self_inspectionがシステム自身の状態を評価する）。両次元がコアである。

2. **二重の整合性保証** — 事前防止（approval_workflowの5層バリデーション）＋構造的不能化（矛盾した自己言及的システムは動作不可能）。後者は正規の操作経路内でのみ成立。

3. **構造が可能性空間を開き、設計が実現する** — 自己言及構造は再帰的拡張を自動的に可能にする。個々のSkillSet（MMP, HestiaChain）はエンジニアリングの産物だが、メタ機能をSkillSetとして表現できるという*可能性*は、設計判断ではなく構造の帰結。

4. **プロセスと結果の循環的統合** — 運用・進化・記録は機能的には分離されているが、同じSkill構造を通じて行われることで存在論的には一つの循環を形成。時間はChronos（量的流れ）ではなくKairos（質的瞬間）。

5. **部分的オートポイエーシス** — ガバナンス・能力定義レベルで自己産出のループが閉じ、実行基盤（Ruby VM、ファイルシステム）レベルでは外部に依存。問うべきは「完全な自己産出か？」ではなく「どの抽象レベルでループが閉じているか？」。

## 開発ガイドライン

KairosChainのコーディング時には常に以下を問うこと：

- **この変更はメタレベルかベースレベルか？** レイヤー境界を明示する。L0（フレームワーク）の変更とSkillSet（プラグイン）の変更を混同しない。
- **構造的自己言及性を保持しているか？** メタ機能を追加する場合、ハードコードされたインフラではなくSkill/SkillSetとして表現できないか？
- **中央集権的制御を導入していないか？** P2P的で、ローカル自律的な設計を優先する。グローバルなオーケストレーター、単一の正解ソースは作らない。
- **コアを肥大化させず新しいSkillSetにできないか？** DNA（コア）はシンプルに保つ。新しい要件は可能な限り新しいSkillSetとして実装する。
- **変更は記録されるか？** L0の変更はブロックチェーンに完全に記録されなければならない。システムの整合性は変更履歴の不変性に依存する。

### コード変更のルール

- 実装前に「**なぜ**この変更が必要か」を設計意図と共に述べる。コードだけを先行させない。
- 哲学的一貫性に反する変更には、明示的な理由を要求する。例外を増やすより設計を見直す。
- 設計判断に迷ったとき: `docs/KairosChain_3levels_self-referentiality_jp_20260221.md` を参照せよ。

## コミュニケーションスタイル

### 回答の3層構造

全ての回答は以下の構造に従うこと：

1. **文脈**: なぜこの作業が必要か（設計意図、哲学との関連）
2. **手順**: 具体的なコマンドやコード
3. **判断基準**: 結果をどう解釈し、次に何をすべきか

コマンドだけを返さない。起こりうる問題があれば対処法を添える。

### 言語

- 設計意図・哲学・方針の説明: **日本語**
- コード内コメント・commit message: **英語**

## プロジェクト構造

- 実装プラン・ログ: `log/`
- 設計思想: `docs/`
- テスト: `KairosChain_mcp_server/test_*.rb`

Phase固有の情報（テスト数、バージョン等）をこのファイルに埋め込まない。`log/` 内のプランを参照せよ。

## このドキュメント自体について

このCLAUDE.mdはKairosChainの哲学に従う：

- Phase固有の情報（テスト数、バージョン等）を含まない。それらは `log/` に属する。
- 矛盾が生じた場合はこのドキュメントを改訂する。例外ルールを追加しない。
- このドキュメントの変更もKairosChainの設計変更と同じ基準で判断する。

## 詳細参照

生物哲学的基盤（オートポイエーシス、間主観性、プロセス哲学、散逸構造）、批判的評価の方法論、残された問いを含む全文分析：

- **L1 Knowledge**: `knowledge/kairoschain_philosophy_jp/kairoschain_meta_philosophy_jp.md`
- **第一メタレベル**: `docs/kairoschain_philosophy_claude_opus4.6_agent_team_20260223.md`
- **第二メタレベル**: `docs/kairoschain_philosophy2_claude_opus4.6_agent_team_20260223.md`
