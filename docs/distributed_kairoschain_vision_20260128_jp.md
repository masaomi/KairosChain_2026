# 分散 KairosChain ネットワーク構想

**自律的・連合的な知識進化のための将来ロードマップ**

Version 1.0 — 2026年1月28日

---

## エグゼクティブサマリー

本ドキュメントは、KairosChainの将来構想を概説します：複数のKairosChain MCPサーバーがインターネット上で公開MCPプロトコルを介して通信し合い、各サーバーがL0憲法に従って自律的に知識を進化させる分散ネットワークです。

核心的なイノベーションは、Minimum-Nomic原則をネットワーク規模で適用することです：**ルールは変更可能だが、変更履歴は消去できない — すべての参加ノードにおいて。**

---

## 構想の概要

```
┌─────────────────────────────────────────────────────────────────────────┐
│                         インターネット / 公開ネットワーク                   │
│                                                                           │
│  ┌─────────────────────┐  ┌─────────────────────┐  ┌─────────────────────┐
│  │ KairosChain Node A  │  │ KairosChain Node B  │  │ KairosChain Node C  │
│  │                     │  │                     │  │                     │
│  │ L0: 憲法            │  │ L0: 憲法            │  │ L0: 憲法            │
│  │ L1: ゲノミクス知識   │  │ L1: バイオインフォ   │  │ L1: AI倫理          │
│  │ L2: コンテキスト     │  │ L2: コンテキスト     │  │ L2: コンテキスト     │
│  │ ブロックチェーン     │  │ ブロックチェーン     │  │ ブロックチェーン     │
│  └──────────┬──────────┘  └──────────┬──────────┘  └──────────┬──────────┘
│             │                        │                        │           │
│             └────────── 公開 MCP API ─────────────────────────┘           │
│                                                                           │
└─────────────────────────────────────────────────────────────────────────┘
                    │                  │                  │
                    ▼                  ▼                  ▼
               Claude/Cursor      Claude/Cursor      Claude/Cursor
```

---

## 核心コンセプト

### 1. 分散ガバナンスとしてのL0憲法

- 全ノードが共通のL0憲法を共有（または互換性のあるL0を保持）
- L0は「このノードが他のノードとどう通信すべきか」を定義
- L0変更には分散合意が必要（フォークの可能性も許容）

**重要な原則**: 憲法はローカルな振る舞いだけでなく、ノード間の関係も規定する。

### 2. 知識の相互受粉（クロスポリネーション）

- L1知識のハッシュ参照をノード間で共有
- 各ノードが専門領域で知識を発展（ゲノミクス、バイオインフォマティクス、AI倫理など）
- サーバー間で知識の「引用」と「検証」が可能

**結果**: 専門知識が専門化されたノード間を流れる知識エコシステム。

### 3. 憲法の範囲内での自律的進化

- 各ノードはL0に従って自律的にL1/L2を更新
- L0変更にはネットワーク合意が必要
- これはMinimum-Nomic原則の分散版

---

## 技術的要件

### Phase 1: Docker化（基盤整備）

**目的**: 環境の再現性とデプロイメント容易化

**成果物**:
- `Dockerfile`（Ruby 3.3+、依存関係）
- `docker-compose.yml`（ストレージ永続化）
- `.env.example`（環境設定）

**理由**: 分散化の前に、各ノードが確実にデプロイ可能である必要がある。

### Phase 2: HTTP/WebSocket API追加

**目的**: stdioに加えてHTTPベースの通信をサポート

**新規コンポーネント**:
- `lib/kairos_mcp/http_server.rb` - HTTPサーバー
- `lib/kairos_mcp/websocket_handler.rb` - WebSocket対応

**APIエンドポイント**（例）:
```
POST /mcp/v1/tools/call
GET  /mcp/v1/tools/list
GET  /mcp/v1/chain/status
GET  /mcp/v1/knowledge/{name}
```

**理由**: stdioはローカル接続に適しているが、HTTPはリモートアクセスを可能にする。

### Phase 3: サーバー間通信プロトコル

**目的**: ノード間での知識共有の基盤

**新規概念**:
- **ノードディスカバリ**: 他ノードの発見と登録
- **知識同期**: L1ハッシュ参照の同期
- **チェーンアンカー**: チェーン状態の相互検証

**新規ツール**:
- `network_discover` - ノード発見
- `network_peers` - ピア一覧
- `knowledge_fetch` - 他ノードから知識取得
- `chain_anchor` - チェーン状態のアンカリング

### Phase 4: 分散合意メカニズム

**目的**: L0変更時のネットワーク合意

**オプション**:
1. **Raft-like Consensus**: リーダー選出型
2. **Gossip Protocol**: 最終的整合性
3. **PoC (Proof of Contribution)**: GenomicsChain連携

**新規ツール**:
- `governance_propose` - L0変更提案
- `governance_vote` - 投票
- `governance_status` - 提案状態

### Phase 5: L0分散ガバナンス

**目的**: L0憲法の分散管理

**課題**:
- L0フォークの許容度
- 「正統な」L0の定義
- 憲法改正の合意形成

**設計オプション**:
1. **単一L0連合**: 全ノードが同一のL0を共有
2. **互換L0ネットワーク**: 互換性のあるL0バリアントを許容
3. **L0フォーク許容**: フォークを許容し、互換性で接続

---

## セキュリティ考慮事項

### 認証と認可

- ノード間の相互認証（TLS + 証明書）
- APIキーまたは署名ベースの認証
- 認証ポリシーをL0で定義

### 知識汚染（ポイズニング）の防止

- 知識のハッシュ検証
- 信頼スコアシステム
- L0における悪意ある知識の定義

### プライバシー

- L1コンテンツの共有はオプション（ハッシュのみ vs 全文）
- L2は常にローカルのみ
- ZK Proofによる知識存在証明

---

## GenomicsChainとの統合

```
┌─────────────────────────────────────────────────────────────────────────┐
│                         KairosChain ネットワーク                         │
│  ┌─────────────────────┐         ┌─────────────────────┐                │
│  │   ゲノミクスノード   │         │  バイオインフォノード │                │
│  └──────────┬──────────┘         └──────────┬──────────┘                │
└─────────────│────────────────────────────────│──────────────────────────┘
              │                                │
              │   知識の貢献                    │
              ▼                                ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                         GenomicsChain プラットフォーム                    │
│  ┌─────────────────────┐         ┌─────────────────────┐                │
│  │   PoC コンセンサス   │◄───────►│     データ NFT      │                │
│  └─────────────────────┘         └─────────────────────┘                │
│              │                                                           │
│              │ GCT トークン報酬                                           │
│              ▼                                                           │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │                    DAO ガバナンス                                 │    │
│  └─────────────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────────────┘
```

- PoC（Proof of Contribution）コンセンサスとの統合
- 知識貢献に対するGCTトークン報酬
- DAOガバナンスとの連携

---

## なぜこれが重要か

### 1. 知識エコシステム
専門知識がネットワーク全体で相互参照可能になる。ゲノミクスノードは、別のノードからのバイオインフォマティクス知識を引用・検証できる。

### 2. 分散監査証跡
監査証跡に単一障害点がない。ネットワークが集合的に知識進化の履歴を維持する。

### 3. 自律的進化
各ノードがL0憲法に従って進化し、検証可能な能力を持つAIエージェントの連合を形成する。

### 4. GenomicsChainとのシナジー
GenomicsChainのPoC/DAO概念との自然な統合。知識貢献が認識され報酬される。

---

## 解決すべき課題

### 1. 合意形成のオーバーヘッド
分散合意はレイテンシと複雑性を追加する。一般的な操作のオーバーヘッドを最小化しつつ、重要な変更のセキュリティを維持する設計が必要。

### 2. ネットワーク分断
ネットワークが分断された場合のノードの振る舞い。独立して進化を続けるべきか？乖離した状態をどう調整するか？

### 3. L0フォークの管理
L0フォークが発生した場合、異なる「憲法系統」間の互換性をどう管理するか？

### 4. スケーラビリティ
ノード数が増加するにつれて、パフォーマンスと整合性をどう維持するか？

---

## 未解決の問い

これらの問いにはコミュニティでのさらなる議論が必要です：

1. **L0の正統性**: どのL0を「正統」とみなすか？民主的投票？オリジナルの著者権？技術的互換性？

2. **知識の信頼度**: 他ノードからの知識の「信頼度」をどう測定するか？レピュテーションシステム？検証メカニズム？

3. **PoC統合レベル**: どのレベルでPoC統合を行うか？知識ハッシュのアンカリング？フルコンセンサス参加？

4. **経済モデル**: ノード運用に経済的インセンティブを設けるべきか？シビル攻撃をどう防ぐか？

---

## 実装優先順位

```
Phase 1: Docker化
    ↓ （デプロイメントの基盤）
Phase 2: HTTP/WebSocket API
    ↓ （リモートアクセスの有効化）
Phase 3: サーバー間通信（読み取り専用）
    ↓ （2ノード間のL1ハッシュ共有をPoCとして）
Phase 4: サーバー間通信（書き込み）
    ↓ （共有知識のための合意メカニズム）
Phase 5: L0分散ガバナンス
    （最も複雑、広範な設計が必要）
```

**推奨される最初のステップ**: 2ノード間での読み取り専用L1知識共有をProof of Conceptとして実装する。

---

## 結論

分散KairosChainネットワークは、KairosChainの哲学の自然な進化を表しています：変更が記録され監査可能でなければならないなら、その監査証跡は分散化され、耐障害性を持つべきです。

Minimum-Nomic原則と分散システムを組み合わせることで、以下を実現するAIエージェントのネットワークを構築できます：
- 憲法の範囲内で自律的に進化する
- ノード間で知識を共有・検証する
- 能力進化の集合的で不変の履歴を維持する

この構想は、KairosChainの根本的な問いに合致しています：**「この知性はどのように形成されたか？」** — 単一のサーバーではなく、ピアのネットワークによって答えられる。

---

## 関連ドキュメント

- [KairosChain Short Paper（英語）](KairosChain_Short_Paper_20260118_en.md)
- [KairosChain Short Paper（日本語）](KairosChain_Short_Paper_20260118_jp.md)
- [README（英語）](../README.md)
- [README（日本語）](../README_jp.md)

---

*本ドキュメントは将来の開発に向けたビジョンステートメントです。プロジェクトの進化に伴い、実装の詳細は変更される可能性があります。*
