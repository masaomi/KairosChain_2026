# KairosChain Skills Configuration
# This file defines the layered architecture settings

# General settings
enabled: true
evolution_enabled: false
max_evolutions_per_session: 3
require_human_approval: true

# Skill-tool unification
# When enabled, skills with 'tool' block in kairos.rb are exposed as MCP tools
# This allows adding/modifying tools by editing kairos.rb (subject to L0 constraints)
skill_tools_enabled: false

# Vector Search (RAG) settings
# Enables semantic search for skills and knowledge when optional gems are installed
# Requires: gem install hnswlib informers (or bundle install with Gemfile)
vector_search:
  enabled: true                                      # Enable vector search if gems available
  model: "sentence-transformers/all-MiniLM-L6-v2"    # Sentence transformer model
  dimension: 384                                     # Embedding dimension (must match model)
  index_path: "storage/embeddings"                   # Path to store index files
  auto_index: true                                   # Auto-rebuild index on skill changes

# Immutable skills (cannot be modified even with evolution_enabled)
immutable_skills:
  - core_safety

# Layer configuration
layers:
  L0_constitution:
    enabled: true
    mutable: false
    description: "Kairos philosophy and principles (read-only)"

  L0_law:
    enabled: true
    mutable: true
    require_blockchain: full
    require_human_approval: true
    description: "Kairos meta-rules (self-modifying constraints)"

  L1:
    enabled: true
    mutable: true
    require_blockchain: hash_only
    require_human_approval: false
    description: "Project knowledge (Anthropic skills format)"

  L2:
    enabled: true
    mutable: true
    require_blockchain: none
    require_human_approval: false
    description: "Temporary context (free modification)"

# L0 meta-skills (only these can be placed in skills/kairos.rb)
kairos_meta_skills:
  - core_safety
  - evolution_rules
  - layer_awareness
  - approval_workflow
  - self_inspection
  - chain_awareness
