# KairosChain MCP Server

**AIã‚¹ã‚­ãƒ«é€²åŒ–ã‚’è¨˜éŒ²ã™ã‚‹ãƒ¡ã‚¿å°å¸³**

> ğŸ“– [English README is here](README.md)

KairosChainã¯ã€AIã®èƒ½åŠ›é€²åŒ–ã‚’ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«è¨˜éŒ²ã™ã‚‹Model Context Protocol (MCP)ã‚µãƒ¼ãƒãƒ¼ã§ã™ã€‚Pure Skillsè¨­è¨ˆï¼ˆRuby DSL/ASTï¼‰ã¨ä¸å¤‰å°å¸³æŠ€è¡“ã‚’çµ„ã¿åˆã‚ã›ã€AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒç›£æŸ»å¯èƒ½ã§ã€é€²åŒ–å¯èƒ½ã§ã€è‡ªå·±å‚ç…§çš„ãªã‚¹ã‚­ãƒ«å®šç¾©ã‚’æŒã¤ã“ã¨ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚

## ç›®æ¬¡

- [å“²å­¦](#å“²å­¦)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [ãƒ¬ã‚¤ãƒ¤ãƒ¼åŒ–ã•ã‚ŒãŸã‚¹ã‚­ãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ãƒ¬ã‚¤ãƒ¤ãƒ¼åŒ–ã•ã‚ŒãŸã‚¹ã‚­ãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ï¼šSkillStateTransition](#ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«skillstatetransition)
- [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
  - [ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šRAGã‚µãƒãƒ¼ãƒˆ](#ã‚ªãƒ—ã‚·ãƒ§ãƒ³ragã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢ã‚µãƒãƒ¼ãƒˆ)
  - [ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šSQLite](#ã‚ªãƒ—ã‚·ãƒ§ãƒ³sqliteã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒãƒ¼ãƒ åˆ©ç”¨å‘ã‘)
- [ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š](#ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š)
- [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®ãƒ†ã‚¹ãƒˆ](#ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®ãƒ†ã‚¹ãƒˆ)
- [ä½¿ç”¨ã®ãƒ’ãƒ³ãƒˆ](#ä½¿ç”¨ã®ãƒ’ãƒ³ãƒˆ)
- [åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«](#åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«ã‚³ã‚¢20å€‹--ã‚¹ã‚­ãƒ«ãƒ„ãƒ¼ãƒ«)
- [ä½¿ç”¨ä¾‹](#ä½¿ç”¨ä¾‹)
- [è‡ªå·±é€²åŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼](#è‡ªå·±é€²åŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼)
- [Pure Skillsè¨­è¨ˆ](#pure-skillsè¨­è¨ˆ)
- [ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ](#ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ )
- [å°†æ¥ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—](#å°†æ¥ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—)
- [ãƒ‡ãƒ—ãƒ­ã‚¤ã¨é‹ç”¨](#ãƒ‡ãƒ—ãƒ­ã‚¤ã¨é‹ç”¨)
- [FAQ](#faq)
- [ãƒ©ã‚¤ã‚»ãƒ³ã‚¹](#ãƒ©ã‚¤ã‚»ãƒ³ã‚¹)

## å“²å­¦

### å•é¡Œ

LLM/AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ãŠã‘ã‚‹æœ€å¤§ã®ãƒ–ãƒ©ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã¯ï¼š

> **ç¾åœ¨ã®èƒ½åŠ›ãŒã©ã®ã‚ˆã†ã«å½¢æˆã•ã‚ŒãŸã‹ã‚’èª¬æ˜ã§ããªã„ã“ã¨ã€‚**

- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯æ®ç™ºçš„
- ãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—å±¥æ­´ã¯æ–­ç‰‡çš„
- ã‚¹ã‚­ãƒ«ã®é€²åŒ–ï¼ˆå†å®šç¾©ã€åˆæˆã€å‰Šé™¤ï¼‰ã¯ç—•è·¡ã‚’æ®‹ã•ãªã„

ãã®çµæœã€AIã¯ä»¥ä¸‹ã®ã‚ˆã†ãªå ´åˆã§ã‚‚**å› æœãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¬¬ä¸‰è€…ãŒæ¤œè¨¼ã§ããªã„**å­˜åœ¨ã¨ãªã‚Šã¾ã™ï¼š
- ã‚ˆã‚Šé«˜ã„èƒ½åŠ›ã‚’ç²å¾—ã—ãŸ
- å‹•ä½œãŒå¤‰åŒ–ã—ãŸ
- æ½œåœ¨çš„ã«å±é™ºã«ãªã£ãŸ

### è§£æ±ºç­–ï¼šKairosChain

KairosChainã¯ã“ã‚Œã«ä»¥ä¸‹ã®ã‚ˆã†ã«å¯¾å‡¦ã—ã¾ã™ï¼š

1. **ã‚¹ã‚­ãƒ«ã‚’å®Ÿè¡Œå¯èƒ½ãªæ§‹é€ ã¨ã—ã¦å®šç¾©**ï¼ˆRuby DSLï¼‰ã€å˜ãªã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ãªã
2. **ã™ã¹ã¦ã®ã‚¹ã‚­ãƒ«å¤‰æ›´ã‚’ä¸å¤‰ã®ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«è¨˜éŒ²**
3. **è‡ªå·±å‚ç…§ã‚’å¯èƒ½ã«ã—**ã€AIãŒè‡ªèº«ã®èƒ½åŠ›ã‚’æ¤œæŸ»ã§ãã‚‹
4. **å®‰å…¨ãªé€²åŒ–ã‚’å¼·åˆ¶**ã€æ‰¿èªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¨ä¸å¤‰æ€§ãƒ«ãƒ¼ãƒ«ã§

KairosChainã¯ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€é€šè²¨ã€DAOã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚**ãƒ¡ã‚¿å°å¸³**ã§ã™ â€” èƒ½åŠ›é€²åŒ–ã®ç›£æŸ»è¨¼è·¡ã§ã™ã€‚

### Minimum-Nomicã®åŸå‰‡

KairosChainã¯**Minimum-Nomic**ã‚’å®Ÿè£…ã—ã¾ã™ â€” ä»¥ä¸‹ã®ã‚ˆã†ãªã‚·ã‚¹ãƒ†ãƒ ï¼š

- ãƒ«ãƒ¼ãƒ«ï¼ˆã‚¹ã‚­ãƒ«ï¼‰ã¯**å¤‰æ›´å¯èƒ½**
- ã—ã‹ã—**èª°ãŒ**ã€**ã„ã¤**ã€**ä½•ã‚’**ã€**ã©ã®ã‚ˆã†ã«**å¤‰æ›´ã—ãŸã‹ã¯å¸¸ã«è¨˜éŒ²ã•ã‚Œã€æ¶ˆå»ã§ããªã„

ã“ã‚Œã«ã‚ˆã‚Šä¸¡æ¥µç«¯ã‚’å›é¿ã—ã¾ã™ï¼š
- âŒ å®Œå…¨ã«å›ºå®šã•ã‚ŒãŸãƒ«ãƒ¼ãƒ«ï¼ˆé©å¿œä¸å¯ï¼‰
- âŒ ç„¡åˆ¶é™ã®è‡ªå·±æ”¹å¤‰ï¼ˆã‚«ã‚ªã‚¹ï¼‰

ä»£ã‚ã‚Šã«é”æˆã™ã‚‹ã®ã¯ï¼š**é€²åŒ–å¯èƒ½ã ãŒã‚²ãƒ¼ãƒ åŒ–ã§ããªã„ã‚·ã‚¹ãƒ†ãƒ **ã€‚

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

![KairosChain ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](docs/kairoschain_linkedin_diagram.png)

*å›³ï¼šKairosChainã®æ³•åˆ¶åº¦ã«ç€æƒ³ã‚’å¾—ãŸAIã‚¹ã‚­ãƒ«ç®¡ç†ã®ãŸã‚ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£*

### ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ (Cursor / Claude Code)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚ STDIO (JSON-RPC)
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    KairosChain MCPã‚µãƒ¼ãƒãƒ¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    Server    â”‚ â”‚   Protocol   â”‚ â”‚     Tool Registry        â”‚ â”‚
â”‚  â”‚  STDIOãƒ«ãƒ¼ãƒ— â”‚ â”‚  JSON-RPC    â”‚ â”‚  12+ãƒ„ãƒ¼ãƒ«åˆ©ç”¨å¯èƒ½       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    ã‚¹ã‚­ãƒ«ãƒ¬ã‚¤ãƒ¤ãƒ¼                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚  â”‚  â”‚ kairos.rb  â”‚ â”‚ kairos.md  â”‚ â”‚    Kairosãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«    â”‚â”‚   â”‚
â”‚  â”‚  â”‚ (DSL)      â”‚ â”‚ (Markdown) â”‚ â”‚  (è‡ªå·±å‚ç…§)            â”‚â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ãƒ¬ã‚¤ãƒ¤ãƒ¼                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚  â”‚  â”‚   Block    â”‚ â”‚   Chain    â”‚ â”‚     MerkleTree         â”‚â”‚   â”‚
â”‚  â”‚  â”‚ (SHA-256)  â”‚ â”‚ (JSON)     â”‚ â”‚  (è¨¼æ˜ç”Ÿæˆ)            â”‚â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ãƒ¬ã‚¤ãƒ¤ãƒ¼åŒ–ã•ã‚ŒãŸã‚¹ã‚­ãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

KairosChainã¯ã€çŸ¥è­˜ç®¡ç†ã®ãŸã‚ã®**æ³•åˆ¶åº¦ã«ç€æƒ³ã‚’å¾—ãŸãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ï¼š

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æ³•çš„é¡æ¨ | ãƒ‘ã‚¹ | ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ² | å¯å¤‰æ€§ |
|---------|----------|------|---------------------|--------|
| **L0-A** | æ†²æ³• | `skills/kairos.md` | - | èª­ã¿å–ã‚Šå°‚ç”¨ |
| **L0-B** | æ³•å¾‹ | `skills/kairos.rb` | å®Œå…¨ãªãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ | äººé–“ã®æ‰¿èªãŒå¿…è¦ |
| **L1** | æ¡ä¾‹ | `knowledge/` | ãƒãƒƒã‚·ãƒ¥å‚ç…§ã®ã¿ | è»½é‡ãªåˆ¶ç´„ |
| **L2** | æŒ‡ä»¤ | `context/` | ãªã— | è‡ªç”±ã«å¤‰æ›´å¯èƒ½ |

### L0ï¼šKairosã‚³ã‚¢ï¼ˆ`skills/`ï¼‰

KairosChainã®åŸºç›¤ã€‚è‡ªå·±æ”¹å¤‰ã«é–¢ã™ã‚‹ãƒ¡ã‚¿ãƒ«ãƒ¼ãƒ«ã‚’å«ã¿ã¾ã™ã€‚

- **kairos.md**ï¼šå“²å­¦ã¨åŸå‰‡ï¼ˆä¸å¤‰ã€èª­ã¿å–ã‚Šå°‚ç”¨ï¼‰
- **kairos.rb**ï¼šRuby DSLã§ã®ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ï¼ˆå®Œå…¨ãªãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²ã§å¤‰æ›´å¯èƒ½ï¼‰

L0ã«é…ç½®ã§ãã‚‹ã®ã¯ã“ã‚Œã‚‰ã®ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ã®ã¿ï¼š
- `l0_governance`, `core_safety`, `evolution_rules`, `layer_awareness`, `approval_workflow`, `self_inspection`, `chain_awareness`, `audit_rules`

> **æ³¨æ„ï¼šL0è‡ªå·±çµ±æ²»**  
> `l0_governance`ã‚¹ã‚­ãƒ«ã¯ã€ã©ã®ã‚¹ã‚­ãƒ«ãŒL0ã«å­˜åœ¨ã§ãã‚‹ã‹ã‚’å®šç¾©ã—ã¾ã™ã€‚ã“ã‚Œã¯Pure Agent Skillã®åŸå‰‡ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ï¼šã™ã¹ã¦ã®L0çµ±æ²»åŸºæº–ã¯L0è‡ªèº«ã®ä¸­ã§å®šç¾©ã•ã‚Œãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚è©³ç´°ã¯[Pure Agent Skillã®FAQ](#q-pure-agent-skillã¨ã¯ä½•ã§ã™ã‹ãªãœé‡è¦ã§ã™ã‹)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

> **æ³¨æ„ï¼šã‚¹ã‚­ãƒ«-ãƒ„ãƒ¼ãƒ«çµ±ä¸€**  
> `kairos.rb`ã®ã‚¹ã‚­ãƒ«ã¯`tool`ãƒ–ãƒ­ãƒƒã‚¯ã§MCPãƒ„ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚`skill_tools_enabled: true`ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã€ã“ã‚Œã‚‰ã®ã‚¹ã‚­ãƒ«ã¯è‡ªå‹•çš„ã«MCPãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ç™»éŒ²ã•ã‚Œã¾ã™ã€‚ã¤ã¾ã‚Šã€**L0-Bã§ã¯ã‚¹ã‚­ãƒ«ã¨ãƒ„ãƒ¼ãƒ«ãŒçµ±ä¸€ã•ã‚Œã¦ã„ã¾ã™** â€” `kairos.rb`ã‚’ç·¨é›†ã™ã‚‹ã“ã¨ã§ãƒ„ãƒ¼ãƒ«ã®è¿½åŠ ã€å¤‰æ›´ã€å‰Šé™¤ãŒã§ãã¾ã™ï¼ˆL0ã®åˆ¶ç´„ãŒé©ç”¨ï¼šäººé–“ã®æ‰¿èªãŒå¿…è¦ã€å®Œå…¨ãªãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²ï¼‰ã€‚

### L1ï¼šçŸ¥è­˜ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆ`knowledge/`ï¼‰

**Anthropic Skillsãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**ã§ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®æ™®éçš„çŸ¥è­˜ã€‚

```
knowledge/
â””â”€â”€ skill_name/
    â”œâ”€â”€ skill_name.md       # YAMLãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ + Markdown
    â”œâ”€â”€ scripts/            # å®Ÿè¡Œå¯èƒ½ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (Python, Bash, Node)
    â”œâ”€â”€ assets/             # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ç”»åƒã€CSS
    â””â”€â”€ references/         # å‚è€ƒè³‡æ–™ã€ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ
```

`skill_name.md`ã®ä¾‹ï¼š

```markdown
---
name: coding_rules
description: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„
version: "1.0"
layer: L1
tags: [style, convention]
---

# ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«

## å‘½åè¦å‰‡
- ã‚¯ãƒ©ã‚¹åï¼šPascalCase
- ãƒ¡ã‚½ãƒƒãƒ‰åï¼šsnake_case
```

### L2ï¼šã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆ`context/`ï¼‰

ã‚»ãƒƒã‚·ãƒ§ãƒ³ç”¨ã®ä¸€æ™‚çš„ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã€‚L1ã¨åŒã˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã™ãŒã€**ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²ãªã—**ã€‚

```
context/
â””â”€â”€ session_id/
    â””â”€â”€ hypothesis/
        â””â”€â”€ hypothesis.md
```

ç”¨é€”ï¼š
- ä½œæ¥­ä»®èª¬
- ã‚¹ã‚¯ãƒ©ãƒƒãƒãƒãƒ¼ãƒˆ
- è©¦è¡ŒéŒ¯èª¤çš„ãªæ¢ç´¢

### ãªãœãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‹ï¼Ÿ

1. **ã™ã¹ã¦ã®çŸ¥è­˜ãŒåŒã˜åˆ¶ç´„ã‚’å¿…è¦ã¨ã™ã‚‹ã‚ã‘ã§ã¯ãªã„** â€” ä¸€æ™‚çš„ãªæ€è€ƒã«ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²ã¯ä¸è¦
2. **é–¢å¿ƒã®åˆ†é›¢** â€” Kairosãƒ¡ã‚¿ãƒ«ãƒ¼ãƒ« vs ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ vs ä¸€æ™‚çš„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
3. **èª¬æ˜è²¬ä»»ã‚’ä¼´ã†AIè‡ªå¾‹æ€§** â€” L2ã§ã¯è‡ªç”±ãªæ¢ç´¢ã€L1ã§ã¯è¿½è·¡ã•ã‚ŒãŸå¤‰æ›´ã€L0ã§ã¯å³æ ¼ãªåˆ¶å¾¡

## ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ï¼šSkillStateTransition

ã™ã¹ã¦ã®ã‚¹ã‚­ãƒ«å¤‰æ›´ã¯`SkillStateTransition`ã¨ã—ã¦è¨˜éŒ²ã•ã‚Œã¾ã™ï¼š

```ruby
{
  skill_id: String,        # ã‚¹ã‚­ãƒ«è­˜åˆ¥å­
  prev_ast_hash: String,   # å‰ã®ASTã®SHA-256
  next_ast_hash: String,   # æ–°ã—ã„ASTã®SHA-256
  diff_hash: String,       # å·®åˆ†ã®SHA-256
  actor: String,           # "Human" / "AI" / "System"
  agent_id: String,        # Kairosã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè­˜åˆ¥å­
  timestamp: ISO8601,
  reason_ref: String       # ã‚ªãƒ•ãƒã‚§ãƒ¼ãƒ³ç†ç”±å‚ç…§
}
```

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶

- Ruby 3.3+ï¼ˆåŸºæœ¬æ©Ÿèƒ½ã¯æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã¿ä½¿ç”¨ã€gemä¸è¦ï¼‰
- Claude Code CLIï¼ˆ`claude`ï¼‰ã¾ãŸã¯Cursor IDE

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/masaomi/KairosChain_2026.git
cd KairosChain_2026/KairosChain_mcp_server

# å®Ÿè¡Œå¯èƒ½ã«ã™ã‚‹
chmod +x bin/kairos_mcp_server

# åŸºæœ¬å‹•ä½œã‚’ãƒ†ã‚¹ãƒˆ
echo '{"jsonrpc":"2.0","id":1,"method":"initialize","params":{}}' | bin/kairos_mcp_server
```

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šRAGï¼ˆã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢ï¼‰ã‚µãƒãƒ¼ãƒˆ

KairosChainã¯ãƒ™ã‚¯ãƒˆãƒ«åŸ‹ã‚è¾¼ã¿ã‚’ä½¿ç”¨ã—ãŸã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€å®Œå…¨ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ä¸€è‡´ã§ã¯ãªãæ„å‘³ã§ã‚¹ã‚­ãƒ«ã‚’æ¤œç´¢ã§ãã¾ã™ï¼ˆä¾‹ï¼šã€Œèªè¨¼ã€ã§æ¤œç´¢ã™ã‚‹ã¨ã€Œãƒ­ã‚°ã‚¤ãƒ³ã€ã‚„ã€Œãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€ã«é–¢ã™ã‚‹ã‚¹ã‚­ãƒ«ã‚‚è¦‹ã¤ã‹ã‚Šã¾ã™ï¼‰ã€‚

**RAG gemãªã—:** æ­£è¦è¡¨ç¾ãƒ™ãƒ¼ã‚¹ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸è¦ï¼‰  
**RAG gemã‚ã‚Š:** æ–‡ç« åŸ‹ã‚è¾¼ã¿ã‚’ä½¿ç”¨ã—ãŸã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢

#### å¿…è¦è¦ä»¶

- C++ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ï¼ˆãƒã‚¤ãƒ†ã‚£ãƒ–æ‹¡å¼µã®ãŸã‚ï¼‰
- ~90MBã®ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ï¼ˆåŸ‹ã‚è¾¼ã¿ãƒ¢ãƒ‡ãƒ«ç”¨ã€åˆå›ä½¿ç”¨æ™‚ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼‰

#### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
cd KairosChain_mcp_server

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³1: Bundlerã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰
bundle install --with rag

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³2: ç›´æ¥gemã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
gem install hnswlib informers
```

#### ä½¿ç”¨ã™ã‚‹gem

| Gem | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-----|-----------|------|
| `hnswlib` | ~> 0.9 | HNSWè¿‘ä¼¼æœ€è¿‘å‚æ¢ç´¢ |
| `informers` | ~> 1.0 | ONNXãƒ™ãƒ¼ã‚¹ã®æ–‡ç« åŸ‹ã‚è¾¼ã¿ |

#### å¯¾å¿œãƒ¬ã‚¤ãƒ¤ãƒ¼

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | å¯¾è±¡ | RAGå¯¾å¿œ | ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ‘ã‚¹ |
|---------|------|---------|-----------------|
| **L0** | `skills/kairos.rb`ï¼ˆãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ï¼‰ | ã‚ã‚Š | `storage/embeddings/skills/` |
| **L1** | `knowledge/`ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ï¼‰ | ã‚ã‚Š | `storage/embeddings/knowledge/` |
| **L2** | `context/`ï¼ˆä¸€æ™‚ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼‰ | ãªã— | N/Aï¼ˆæ­£è¦è¡¨ç¾æ¤œç´¢ã®ã¿ï¼‰ |

L2ã¯ä¸€æ™‚çš„ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§çŸ­å‘½ã‹ã¤é€šå¸¸ã¯æ•°ãŒå°‘ãªã„ãŸã‚ã€æ­£è¦è¡¨ç¾æ¤œç´¢ã§ååˆ†ã§ã™ã€‚

#### è¨­å®š

`skills/config.yml`ã®RAGè¨­å®šï¼š

```yaml
vector_search:
  enabled: true                                      # gemãŒåˆ©ç”¨å¯èƒ½ãªå ´åˆã«æœ‰åŠ¹åŒ–
  model: "sentence-transformers/all-MiniLM-L6-v2"    # åŸ‹ã‚è¾¼ã¿ãƒ¢ãƒ‡ãƒ«
  dimension: 384                                     # ãƒ¢ãƒ‡ãƒ«ã¨ä¸€è‡´ã•ã›ã‚‹å¿…è¦ã‚ã‚Š
  index_path: "storage/embeddings"                   # ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä¿å­˜ãƒ‘ã‚¹
  auto_index: true                                   # å¤‰æ›´æ™‚ã«è‡ªå‹•å†æ§‹ç¯‰
```

#### é€”ä¸­ã‹ã‚‰RAGã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆ

KairosChainã‚’ä½¿ã„å§‹ã‚ãŸå¾Œã«RAG gemã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆï¼š

1. gemã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«: `bundle install --with rag` ã¾ãŸã¯ `gem install hnswlib informers`
2. **MCPã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•**ï¼ˆCursor/Claude Codeã§å†æ¥ç¶šï¼‰
3. æœ€åˆã®æ¤œç´¢æ™‚ã«ã€å…¨ã‚¹ã‚­ãƒ«/çŸ¥è­˜ã‹ã‚‰ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒè‡ªå‹•çš„ã«å†æ§‹ç¯‰ã•ã‚Œã‚‹
4. åˆå›ã¯ãƒ¢ãƒ‡ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆ~90MBï¼‰ã¨åŸ‹ã‚è¾¼ã¿ç”Ÿæˆã«æ™‚é–“ãŒã‹ã‹ã‚‹

**ä»•çµ„ã¿:** `@available`ãƒ•ãƒ©ã‚°ã¯ã‚µãƒ¼ãƒãƒ¼èµ·å‹•æ™‚ã«ãƒã‚§ãƒƒã‚¯ã•ã‚Œã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ã€‚FallbackSearchï¼ˆæ­£è¦è¡¨ç¾ãƒ™ãƒ¼ã‚¹ï¼‰ã¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’æ°¸ç¶šåŒ–ã—ã¾ã›ã‚“ã€‚SemanticSearchã«åˆ‡ã‚Šæ›¿ã‚ã‚‹ã¨ã€`ensure_index_built`ãƒ¡ã‚½ãƒƒãƒ‰ãŒæœ€åˆã®ä½¿ç”¨æ™‚ã«`rebuild_index`ã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã€æ—¢å­˜ã®å…¨ã‚¹ã‚­ãƒ«ã¨çŸ¥è­˜ã®åŸ‹ã‚è¾¼ã¿ã‚’ä½œæˆã—ã¾ã™ã€‚

**æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã¸ã®å½±éŸ¿:**
- ã‚¹ã‚­ãƒ«ãƒ»çŸ¥è­˜ãƒ•ã‚¡ã‚¤ãƒ«: å¤‰æ›´ãªã—ï¼ˆä¿¡é ¼ã§ãã‚‹æƒ…å ±æºï¼‰
- ãƒ™ã‚¯ãƒˆãƒ«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹: ç¾åœ¨ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‹ã‚‰æ–°è¦ä½œæˆ
- ç§»è¡Œä¸è¦: FallbackSearch â†’ SemanticSearchã¯ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹

#### ç¢ºèªæ–¹æ³•

```bash
# RAGãŒåˆ©ç”¨å¯èƒ½ã‹ç¢ºèª
ruby -e "require 'hnswlib'; require 'informers'; puts 'RAG gems installed!'"

# ã¾ãŸã¯MCPçµŒç”±ã§ãƒ†ã‚¹ãƒˆ
echo '{"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"hello_world","arguments":{}}}' | bin/kairos_mcp_server
```

#### å‹•ä½œã®ä»•çµ„ã¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ¤œç´¢ã‚¯ã‚¨ãƒª                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  VectorSearch.available?  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                               â”‚
              â–¼                               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢ â”‚             â”‚ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ¤œç´¢ â”‚
    â”‚ (hnswlib +      â”‚             â”‚ (æ­£è¦è¡¨ç¾ãƒ™ãƒ¼ã‚¹)  â”‚
    â”‚  informers)     â”‚             â”‚                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                               â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    æ¤œç´¢çµæœ     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šSQLiteã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆãƒãƒ¼ãƒ åˆ©ç”¨å‘ã‘ï¼‰

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€KairosChainã¯ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆJSON/JSONLãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚åŒæ™‚ã‚¢ã‚¯ã‚»ã‚¹ãŒç™ºç”Ÿã™ã‚‹ãƒãƒ¼ãƒ ç’°å¢ƒã§ã¯ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§SQLiteã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’æœ‰åŠ¹åŒ–ã§ãã¾ã™ã€‚

**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ï¼‰:** è¨­å®šä¸è¦ã€å€‹äººåˆ©ç”¨ã«é©åˆ‡  
**SQLite:** åŒæ™‚ã‚¢ã‚¯ã‚»ã‚¹å‡¦ç†ãŒæ”¹å–„ã€å°è¦æ¨¡ãƒãƒ¼ãƒ åˆ©ç”¨ï¼ˆ2-10äººï¼‰ã«é©åˆ‡

#### SQLiteã‚’ä½¿ã†ã¹ãã‚¿ã‚¤ãƒŸãƒ³ã‚°

| ã‚·ãƒŠãƒªã‚ª | æ¨å¥¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ |
|----------|-----------------|
| å€‹äººé–‹ç™ºè€… | ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ |
| å°è¦æ¨¡ãƒãƒ¼ãƒ ï¼ˆ2-10äººï¼‰ | **SQLite** |
| å¤§è¦æ¨¡ãƒãƒ¼ãƒ ï¼ˆ10äººä»¥ä¸Šï¼‰ | PostgreSQLï¼ˆå°†æ¥å¯¾å¿œï¼‰ |
| CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ | SQLite |

#### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
cd KairosChain_mcp_server

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³1: Bundlerã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰
bundle install --with sqlite

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³2: ç›´æ¥gemã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
gem install sqlite3
```

#### è¨­å®š

`skills/config.yml`ã‚’ç·¨é›†ã—ã¦SQLiteã‚’æœ‰åŠ¹åŒ–ï¼š

```yaml
# ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è¨­å®š
storage:
  backend: sqlite                         # 'file' ã‹ã‚‰ 'sqlite' ã«å¤‰æ›´

  sqlite:
    path: "storage/kairos.db"             # SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹
    wal_mode: true                        # åŒæ™‚ã‚¢ã‚¯ã‚»ã‚¹æ”¹å–„ã®ãŸã‚WALæœ‰åŠ¹åŒ–
```

#### ç¢ºèªæ–¹æ³•

```bash
# SQLite gemãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
ruby -e "require 'sqlite3'; puts 'SQLite3 gem installed!'"

# æœ‰åŠ¹åŒ–å¾Œã€ã‚µãƒ¼ãƒãƒ¼ã‚’ãƒ†ã‚¹ãƒˆ
echo '{"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"chain_status","arguments":{}}}' | bin/kairos_mcp_server
```

#### SQLiteã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

SQLiteã®ãƒ‡ãƒ¼ã‚¿ã‚’äººé–“ãŒèª­ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¦ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚„æ¤œæŸ»ãŒã§ãã¾ã™ï¼š

```ruby
# Rubyã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¾ãŸã¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§
require_relative 'lib/kairos_mcp/storage/exporter'

# å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
KairosMcp::Storage::Exporter.export(
  db_path: "storage/kairos.db",
  output_dir: "storage/export"
)

# å‡ºåŠ›æ§‹é€ ï¼š
# storage/export/
# â”œâ”€â”€ blockchain.json       # å…¨ãƒ–ãƒ­ãƒƒã‚¯
# â”œâ”€â”€ action_log.jsonl      # ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒª
# â”œâ”€â”€ knowledge_meta.json   # çŸ¥è­˜ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
# â””â”€â”€ manifest.json         # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
```

#### ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰SQLiteã‚’å†æ§‹ç¯‰

SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒç ´æã—ãŸå ´åˆã€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å†æ§‹ç¯‰ã§ãã¾ã™ï¼š

```ruby
# Rubyã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¾ãŸã¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§
require_relative 'lib/kairos_mcp/storage/importer'

# å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰å†æ§‹ç¯‰
KairosMcp::Storage::Importer.rebuild_from_files(
  db_path: "storage/kairos.db"
)

# ã¾ãŸã¯ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
KairosMcp::Storage::Importer.import(
  input_dir: "storage/export",
  db_path: "storage/kairos.db"
)
```

#### MCPãƒ„ãƒ¼ãƒ«ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆï¼ˆCursor/Claude Codeï¼‰ã‹ã‚‰MCPãƒ„ãƒ¼ãƒ«ã‚’ç›´æ¥ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ï¼š

**ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ã€å®‰å…¨ï¼‰:**
```
# Cursor/Claude Codeã®ãƒãƒ£ãƒƒãƒˆã§ï¼š
ã€Œchain_exportã‚’ä½¿ã£ã¦SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¦ã€

# ã¾ãŸã¯ç›´æ¥å‘¼ã³å‡ºã—ï¼š
chain_export output_dir="storage/backup"
```

**ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆæ‰¿èªãŒå¿…è¦ï¼‰:**
```
# ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ‰ï¼ˆå¤‰æ›´ã›ãšã«å½±éŸ¿ã‚’è¡¨ç¤ºï¼‰ï¼š
chain_import source="files" approved=false

# è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä»˜ãã§å®Ÿè¡Œï¼š
chain_import source="files" approved=true

# ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼š
chain_import source="export" input_dir="storage/backup" approved=true
```

**chain_importã®å®‰å…¨æ©Ÿèƒ½:**
- `approved=true`ãŒå¿…è¦ï¼ˆãã‚Œä»¥å¤–ã¯ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºï¼‰
- `storage/backups/kairos_{timestamp}.db`ã«è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
- å®Ÿè¡Œå‰ã«å½±éŸ¿ã®ã‚µãƒãƒªãƒ¼ã‚’è¡¨ç¤º
- `skip_backup=true`ã§å›é¿å¯èƒ½ï¼ˆéæ¨å¥¨ï¼‰

#### SQLiteã¸ã®ç§»è¡Œæ‰‹é †ï¼ˆã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ï¼‰

æ—¢ã«ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã§KairosChainã‚’ä½¿ç”¨ã—ã¦ã„ã¦SQLiteã«ç§»è¡Œã™ã‚‹å ´åˆï¼š

**ã‚¹ãƒ†ãƒƒãƒ—1: sqlite3 gemã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**

```bash
cd KairosChain_mcp_server

# Bundlerã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰
bundle install --with sqlite

# ã¾ãŸã¯ç›´æ¥ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
gem install sqlite3

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª
ruby -e "require 'sqlite3'; puts 'SQLite3 ready!'"
```

**ã‚¹ãƒ†ãƒƒãƒ—2: config.ymlã‚’æ›´æ–°**

```yaml
# skills/config.yml
storage:
  backend: sqlite                         # 'file' ã‹ã‚‰ 'sqlite' ã«å¤‰æ›´

  sqlite:
    path: "storage/kairos.db"
    wal_mode: true
```

**ã‚¹ãƒ†ãƒƒãƒ—3: æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚’ç§»è¡Œ**

```bash
cd KairosChain_mcp_server

ruby -e "
require_relative 'lib/kairos_mcp/storage/importer'

result = KairosMcp::Storage::Importer.rebuild_from_files(
  db_path: 'storage/kairos.db'
)

puts 'ç§»è¡Œå®Œäº†!'
puts \"ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚ŒãŸãƒ–ãƒ­ãƒƒã‚¯: #{result[:blocks]}\"
puts \"ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ­ã‚°: #{result[:action_logs]}\"
puts \"ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚ŒãŸçŸ¥è­˜ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿: #{result[:knowledge_meta]}\"
"
```

**ã‚¹ãƒ†ãƒƒãƒ—4: MCPã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•**

Cursor/Claude Codeã‚’å†èµ·å‹•ã™ã‚‹ã‹ã€MCPã‚µãƒ¼ãƒãƒ¼ã‚’å†æ¥ç¶šã—ã¾ã™ã€‚

**ã‚¹ãƒ†ãƒƒãƒ—5: ç§»è¡Œã‚’ç¢ºèª**

```bash
# ãƒã‚§ãƒ¼ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèª
echo '{"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"chain_status","arguments":{}}}' | bin/kairos_mcp_server 2>/dev/null | jq -r '.result.content[0].text'

# ãƒã‚§ãƒ¼ãƒ³ã®æ•´åˆæ€§ã‚’æ¤œè¨¼
echo '{"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"chain_verify","arguments":{}}}' | bin/kairos_mcp_server 2>/dev/null | jq -r '.result.content[0].text'
```

**ã‚¹ãƒ†ãƒƒãƒ—6: å…ƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨ã—ã¦ä¿æŒ**

ç§»è¡Œå¾Œã€å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨ã—ã¦ä¿æŒã—ã¦ãã ã•ã„ï¼š

```
storage/
â”œâ”€â”€ blockchain.json      # â† å…ƒãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨ã—ã¦ä¿æŒï¼‰
â”œâ”€â”€ kairos.db            # â† æ–°ã—ã„SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
â””â”€â”€ kairos.db-wal        # â† WALãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰

skills/
â””â”€â”€ action_log.jsonl     # â† å…ƒãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨ã—ã¦ä¿æŒï¼‰
```

#### SQLiteãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

**sqlite3 gemãŒãƒ­ãƒ¼ãƒ‰ã§ããªã„ï¼š**

```bash
# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª
gem list sqlite3

# å¿…è¦ã«å¿œã˜ã¦å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
gem uninstall sqlite3
gem install sqlite3
```

**ç§»è¡Œå¾Œã«ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ãˆãªã„ï¼š**

```bash
# ç§»è¡Œã‚’å†å®Ÿè¡Œ
ruby -e "
require_relative 'lib/kairos_mcp/storage/importer'
KairosMcp::Storage::Importer.rebuild_from_files(db_path: 'storage/kairos.db')
"
```

**SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒç ´æã—ãŸï¼š**

```bash
# ç ´æã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’å‰Šé™¤ã—ã¦å…ƒãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å†æ§‹ç¯‰
rm storage/kairos.db storage/kairos.db-wal storage/kairos.db-shm 2>/dev/null

ruby -e "
require_relative 'lib/kairos_mcp/storage/importer'
KairosMcp::Storage::Importer.rebuild_from_files(db_path: 'storage/kairos.db')
"
```

**ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«æˆ»ã™ï¼š**

```yaml
# config.ymlã‚’å¤‰æ›´ã™ã‚‹ã ã‘
storage:
  backend: file    # 'sqlite' ã‹ã‚‰ 'file' ã«å¤‰æ›´
```

å…ƒã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`blockchain.json`ã€`action_log.jsonl`ï¼‰ãŒè‡ªå‹•çš„ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

#### é‡è¦ãªæ³¨æ„äº‹é …

- **çŸ¥è­˜ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆ*.mdãƒ•ã‚¡ã‚¤ãƒ«ï¼‰**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«é–¢ä¿‚ãªãå¸¸ã«ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
- **SQLiteã«ä¿å­˜ã•ã‚Œã‚‹ã‚‚ã®**: ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ­ã‚°ã€çŸ¥è­˜ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ã¿
- **äººé–“å¯èª­æ€§**: ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã§SQLã‚³ãƒãƒ³ãƒ‰ãªã—ã§ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª
- **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**: SQLiteã®å ´åˆã¯`.db`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ã ã‘ã€‚ã‚ˆã‚Šå®‰å…¨ã®ãŸã‚ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚‚ä½µç”¨

---

## ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š

### Claude Codeè¨­å®šï¼ˆè©³ç´°ï¼‰

Claude Codeã¯CLIãƒ™ãƒ¼ã‚¹ã®AIã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚

#### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šClaude Codeã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª

```bash
# Claude CodeãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
claude --version

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„å ´åˆã¯å…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
# https://docs.anthropic.com/claude-code
```

#### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šMCPã‚µãƒ¼ãƒãƒ¼ã‚’ç™»éŒ²

```bash
# KairosChain MCPã‚µãƒ¼ãƒãƒ¼ã‚’ç™»éŒ²
claude mcp add kairos-chain ruby /path/to/KairosChain_mcp_server/bin/kairos_mcp_server

```

#### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šç™»éŒ²ã‚’ç¢ºèª

```bash
# ç™»éŒ²ã•ã‚ŒãŸMCPã‚µãƒ¼ãƒãƒ¼ã‚’ä¸€è¦§è¡¨ç¤º
claude mcp list

# ãƒªã‚¹ãƒˆã«kairos-chainãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™
```

#### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

`~/.claude.json`ã«ä»¥ä¸‹ã®è¨­å®šãŒè¿½åŠ ã•ã‚Œã¾ã™ï¼š

```json
{
  "mcpServers": {
    "kairos-chain": {
      "command": "ruby",
      "args": ["/path/to/KairosChain_mcp_server/bin/kairos_mcp_server"],
      "env": {}
    }
  }
}
```

#### æ‰‹å‹•è¨­å®šï¼ˆä¸Šç´šè€…å‘ã‘ï¼‰

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥ç·¨é›†ã™ã‚‹å ´åˆï¼š

```bash
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã
vim ~/.claude.json

# ã¾ãŸã¯VS Codeã‚’ä½¿ç”¨
code ~/.claude.json
```

### Cursor IDEè¨­å®šï¼ˆè©³ç´°ï¼‰

Cursorã¯VS Codeãƒ™ãƒ¼ã‚¹ã®AIã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°IDEã§ã™ã€‚

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³Aï¼šGUIã‹ã‚‰ï¼ˆæ¨å¥¨ï¼‰

1. **Cursor Settings**ã‚’é–‹ãï¼ˆCmd/Ctrl + ,ï¼‰
2. **Tools & MCP**ã«ç§»å‹•
3. **New MCP Server**ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ã‚µãƒ¼ãƒãƒ¼è©³ç´°ã‚’å…¥åŠ›ï¼š
   - Name: `kairos-chain`
   - Command: `ruby`
   - Args: `/path/to/KairosChain_mcp_server/bin/kairos_mcp_server`

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³Bï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰

#### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ã‚’ç¢ºèª

```bash
# macOS / Linux
~/.cursor/mcp.json

# Windows
%USERPROFILE%\.cursor\mcp.json
```

#### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ/ç·¨é›†

```bash
# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ä½œæˆ
mkdir -p ~/.cursor

# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†
vim ~/.cursor/mcp.json
```

#### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šMCPã‚µãƒ¼ãƒãƒ¼ã‚’è¿½åŠ 

```json
{
  "mcpServers": {
    "kairos-chain": {
      "command": "ruby",
      "args": ["/path/to/KairosChain_mcp_server/bin/kairos_mcp_server"],
      "env": {}
    }
  }
}
```

**è¤‡æ•°ã®MCPã‚µãƒ¼ãƒãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆï¼š**

```json
{
  "mcpServers": {
    "kairos-chain": {
      "command": "ruby",
      "args": ["/Users/yourname/KairosChain_mcp_server/bin/kairos_mcp_server"],
      "env": {}
    },
    "sushi-mcp-server": {
      "command": "ruby",
      "args": ["/path/to/SUSHI_self_maintenance_mcp_server/bin/sushi_mcp_server"],
      "env": {}
    }
  }
}
```

#### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šCursorã‚’å†èµ·å‹•

è¨­å®šã‚’ä¿å­˜ã—ãŸå¾Œã€**Cursorã‚’å®Œå…¨ã«å†èµ·å‹•ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™**ã€‚

#### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šMCPã‚µãƒ¼ãƒãƒ¼æ¥ç¶šã‚’ç¢ºèª

1. Cursorã‚’é–‹ã
2. å³ä¸Šã®ã€ŒMCPã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆã§ã€ŒMCPã€ã‚’æ¤œç´¢ï¼‰
3. `kairos-chain`ãŒãƒªã‚¹ãƒˆã«ç·‘è‰²ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã§è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª

---

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®ãƒ†ã‚¹ãƒˆ

### 1. åŸºæœ¬çš„ãªã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ

#### åˆæœŸåŒ–ãƒ†ã‚¹ãƒˆ

```bash
cd /path/to/KairosChain_mcp_server

# initializeãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡
echo '{"jsonrpc":"2.0","id":1,"method":"initialize","params":{}}' | bin/kairos_mcp_server

# æœŸå¾…ã•ã‚Œã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆæŠœç²‹ï¼‰ï¼š
# {"jsonrpc":"2.0","id":1,"result":{"protocolVersion":"2024-11-05","capabilities":...}}
```

#### ãƒ„ãƒ¼ãƒ«ä¸€è¦§ãƒ†ã‚¹ãƒˆ

```bash
# åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«ã®ãƒªã‚¹ãƒˆã‚’å–å¾—
echo '{"jsonrpc":"2.0","id":2,"method":"tools/list","params":{}}' | bin/kairos_mcp_server

# jqãŒã‚ã‚‹å ´åˆã€ãƒ„ãƒ¼ãƒ«åã®ã¿ã‚’è¡¨ç¤º
echo '{"jsonrpc":"2.0","id":2,"method":"tools/list","params":{}}' | bin/kairos_mcp_server 2>/dev/null | jq '.result.tools[].name'
```

#### Hello Worldãƒ†ã‚¹ãƒˆ

```bash
# hello_worldãƒ„ãƒ¼ãƒ«ã‚’å‘¼ã³å‡ºã™
echo '{"jsonrpc":"2.0","id":3,"method":"tools/call","params":{"name":"hello_world","arguments":{}}}' | bin/kairos_mcp_server 2>/dev/null | jq -r '.result.content[0].text'

# å‡ºåŠ›ï¼šHello from KairosChain MCP Server!
```

### 2. ã‚¹ã‚­ãƒ«ãƒ„ãƒ¼ãƒ«ãƒ†ã‚¹ãƒˆ

```bash
# ã‚¹ã‚­ãƒ«ä¸€è¦§ã‚’å–å¾—
echo '{"jsonrpc":"2.0","id":4,"method":"tools/call","params":{"name":"skills_dsl_list","arguments":{}}}' | bin/kairos_mcp_server 2>/dev/null | jq -r '.result.content[0].text'

# ç‰¹å®šã®ã‚¹ã‚­ãƒ«ã‚’å–å¾—
echo '{"jsonrpc":"2.0","id":5,"method":"tools/call","params":{"name":"skills_dsl_get","arguments":{"skill_id":"core_safety"}}}' | bin/kairos_mcp_server 2>/dev/null | jq -r '.result.content[0].text'
```

### 3. ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ãƒ„ãƒ¼ãƒ«ãƒ†ã‚¹ãƒˆ

```bash
# ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèª
echo '{"jsonrpc":"2.0","id":6,"method":"tools/call","params":{"name":"chain_status","arguments":{}}}' | bin/kairos_mcp_server 2>/dev/null | jq -r '.result.content[0].text'

# ãƒã‚§ãƒ¼ãƒ³ã®æ•´åˆæ€§ã‚’æ¤œè¨¼
echo '{"jsonrpc":"2.0","id":7,"method":"tools/call","params":{"name":"chain_verify","arguments":{}}}' | bin/kairos_mcp_server 2>/dev/null | jq -r '.result.content[0].text'
```

### 4. Claude Codeã§ã®ãƒ†ã‚¹ãƒˆ

```bash
# Claude Codeã‚’èµ·å‹•
claude

# Claude Codeã§ã“ã‚Œã‚‰ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è©¦ã™ï¼š
# "List the available KairosChain tools"
# "Run skills_dsl_list"
# "Check chain_status"
```

### 5. Cursorã§ã®ãƒ†ã‚¹ãƒˆ

1. Cursorã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã
2. ãƒãƒ£ãƒƒãƒˆãƒ‘ãƒãƒ«ã‚’é–‹ãï¼ˆCmd/Ctrl + Lï¼‰
3. ã“ã‚Œã‚‰ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è©¦ã™ï¼š
   - "List all KairosChain skills"
   - "Check the blockchain status"
   - "Show me the core_safety skill content"

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ãªã„

```bash
# Rubyãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª
ruby --version  # 3.3+ãŒå¿…è¦

# æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª
ruby -c bin/kairos_mcp_server

# å®Ÿè¡Œæ¨©é™ã‚’ç¢ºèª
ls -la bin/kairos_mcp_server
chmod +x bin/kairos_mcp_server
```

#### JSON-RPCã‚¨ãƒ©ãƒ¼

```bash
# stderrã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª
echo '{"jsonrpc":"2.0","id":1,"method":"initialize","params":{}}' | bin/kairos_mcp_server

# stderrã‚’æŠ‘åˆ¶ã›ãšã«å®Ÿè¡Œï¼ˆ2>/dev/nullã‚’å‰Šé™¤ï¼‰
```

#### Cursoræ¥ç¶šã®å•é¡Œ

1. `~/.cursor/mcp.json`ã®ãƒ‘ã‚¹ãŒçµ¶å¯¾ãƒ‘ã‚¹ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
2. JSONæ§‹æ–‡ã‚’ç¢ºèªï¼ˆã‚«ãƒ³ãƒã®æ¬ è½/éå‰°ãªã©ï¼‰
3. Cursorã‚’å®Œå…¨ã«çµ‚äº†ã—ã¦å†èµ·å‹•

---

## ä½¿ç”¨ã®ãƒ’ãƒ³ãƒˆ

### åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

#### 1. ã‚¹ã‚­ãƒ«ã‚’æ“ä½œã™ã‚‹

KairosChainã¯AIèƒ½åŠ›å®šç¾©ã‚’ã€Œã‚¹ã‚­ãƒ«ã€ã¨ã—ã¦ç®¡ç†ã—ã¾ã™ã€‚

```
# Cursor / Claude Codeã§ï¼š
"List all current skills"
"Show me the core_safety skill content"
"Use self_introspection to check Kairos state"
```

#### 2. ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²

AIé€²åŒ–ãƒ—ãƒ­ã‚»ã‚¹ã¯ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«è¨˜éŒ²ã•ã‚Œã¾ã™ã€‚

```
# è¨˜éŒ²ã‚’ç¢ºèª
"Show me the chain_history"
"Verify chain integrity with chain_verify"
```

### å®Ÿè·µçš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³

#### ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼šé–‹ç™ºã‚»ãƒƒã‚·ãƒ§ãƒ³ã®é–‹å§‹

```
# ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
1. "Check blockchain status with chain_status"
2. "List available skills with skills_dsl_list"
3. "Verify chain integrity with chain_verify"
```

#### ãƒ‘ã‚¿ãƒ¼ãƒ³2ï¼šã‚¹ã‚­ãƒ«é€²åŒ–ï¼ˆäººé–“ã®æ‰¿èªãŒå¿…è¦ï¼‰

```yaml
# config/safety.ymlã§é€²åŒ–ã‚’æœ‰åŠ¹ã«ã™ã‚‹
evolution_enabled: true
require_human_approval: true
```

```
# é€²åŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼š
1. "Propose a change to my_skill using skills_evolve"
2. [äººé–“] ææ¡ˆã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦æ‰¿èª
3. "Apply the change with skills_evolve (approved=true)"
4. "Verify the record with chain_history"
```

#### ãƒ‘ã‚¿ãƒ¼ãƒ³3ï¼šç›£æŸ»ã¨ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£

```
# ç‰¹å®šã®å¤‰æ›´å±¥æ­´ã‚’è¿½è·¡
"Show recent skill changes with chain_history"
"Get details of a specific block"

# å®šæœŸçš„ãªæ•´åˆæ€§æ¤œè¨¼
"Verify the entire chain with chain_verify"
```

### ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

#### 1. é€²åŒ–ã«ã¯æ…é‡ã«

- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯`evolution_enabled: false`ã‚’ç¶­æŒ
- é€²åŒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æ˜ç¤ºçš„ã«é–‹å§‹ã—ã€å®Œäº†å¾Œã«ç„¡åŠ¹ã«ã™ã‚‹
- ã™ã¹ã¦ã®å¤‰æ›´ã‚’äººé–“ã®æ‰¿èªã‚’é€šã™

#### 2. å®šæœŸçš„ãªæ¤œè¨¼

```bash
# æ¯æ—¥/æ¯é€±å®Ÿè¡Œ
echo '{"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"chain_verify","arguments":{}}}' | bin/kairos_mcp_server
```

#### 3. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

```bash
# storage/blockchain.jsonã‚’å®šæœŸçš„ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cp storage/blockchain.json storage/backups/blockchain_$(date +%Y%m%d).json

# ã‚¹ã‚­ãƒ«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‚ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cp -r skills/versions skills/backups/versions_$(date +%Y%m%d)
```

#### 4. è¤‡æ•°ã®AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã§ã®å…±æœ‰

åŒã˜`blockchain.json`ã‚’å…±æœ‰ã™ã‚‹ã“ã¨ã§ã€è¤‡æ•°ã®AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã§é€²åŒ–å±¥æ­´ã‚’åŒæœŸã§ãã¾ã™ã€‚

```json
// ~/.cursor/mcp.json ã¾ãŸã¯ ~/.claude.json ã§
{
  "mcpServers": {
    "kairos-chain": {
      "command": "ruby",
      "args": ["/shared/path/KairosChain_mcp_server/bin/kairos_mcp_server"],
      "env": {
        "KAIROS_STORAGE": "/shared/storage"
      }
    }
  }
}
```

### ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

| ã‚¿ã‚¹ã‚¯ | Cursor/Claude Codeãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ |
|--------|------------------------------|
| ã‚¹ã‚­ãƒ«ä¸€è¦§ | "Run skills_dsl_list" |
| ç‰¹å®šã®ã‚¹ã‚­ãƒ«ã‚’å–å¾— | "Get core_safety with skills_dsl_get" |
| ãƒã‚§ãƒ¼ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | "Check chain_status" |
| å±¥æ­´ã‚’è¡¨ç¤º | "Show chain_history" |
| æ•´åˆæ€§æ¤œè¨¼ | "Run chain_verify" |
| ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜éŒ² | "Record a log with chain_record" |

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

1. **å®‰å…¨ãªé€²åŒ–è¨­å®š**
   - `require_human_approval: true`ã‚’ç¶­æŒ
   - å¿…è¦ãªæ™‚ã®ã¿`evolution_enabled: true`ã«è¨­å®š

2. **ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡**
   - `config/safety.yml`ã§è¨±å¯ãƒ‘ã‚¹ã‚’åˆ¶é™
   - æ©Ÿå¯†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ–ãƒ­ãƒƒã‚¯ãƒªã‚¹ãƒˆã«è¿½åŠ 

3. **ç›£æŸ»ãƒ­ã‚°**
   - ã™ã¹ã¦ã®æ“ä½œã¯`action_log`ã«è¨˜éŒ²ã•ã‚Œã‚‹
   - å®šæœŸçš„ã«ãƒ­ã‚°ã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼

## åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«ï¼ˆã‚³ã‚¢20å€‹ + ã‚¹ã‚­ãƒ«ãƒ„ãƒ¼ãƒ«ï¼‰

åŸºæœ¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ã¯20å€‹ã®ãƒ„ãƒ¼ãƒ«ãŒæä¾›ã•ã‚Œã¾ã™ã€‚`skill_tools_enabled: true`ã®å ´åˆã€`kairos.rb`ã®`tool`ãƒ–ãƒ­ãƒƒã‚¯ã§è¿½åŠ ã®ãƒ„ãƒ¼ãƒ«ã‚’å®šç¾©ã§ãã¾ã™ã€‚

### L0-Aï¼šã‚¹ã‚­ãƒ«ãƒ„ãƒ¼ãƒ«ï¼ˆMarkdownï¼‰ - èª­ã¿å–ã‚Šå°‚ç”¨

| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `skills_list` | kairos.mdã‹ã‚‰ã™ã¹ã¦ã®ã‚¹ã‚­ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä¸€è¦§è¡¨ç¤º |
| `skills_get` | IDã§ç‰¹å®šã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å–å¾— |

### L0-Bï¼šã‚¹ã‚­ãƒ«ãƒ„ãƒ¼ãƒ«ï¼ˆDSLï¼‰ - å®Œå…¨ãªãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²

| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `skills_dsl_list` | kairos.rbã‹ã‚‰ã™ã¹ã¦ã®ã‚¹ã‚­ãƒ«ã‚’ä¸€è¦§è¡¨ç¤º |
| `skills_dsl_get` | IDã§ã‚¹ã‚­ãƒ«å®šç¾©ã‚’å–å¾— |
| `skills_evolve` | ã‚¹ã‚­ãƒ«å¤‰æ›´ã‚’ææ¡ˆ/é©ç”¨ |
| `skills_rollback` | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’ç®¡ç† |

> **ã‚¹ã‚­ãƒ«å®šç¾©ãƒ„ãƒ¼ãƒ«**ï¼š`skill_tools_enabled: true`ã®å ´åˆã€`kairos.rb`å†…ã®`tool`ãƒ–ãƒ­ãƒƒã‚¯ã‚’æŒã¤ã‚¹ã‚­ãƒ«ã‚‚ã“ã“ã«MCPãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ç™»éŒ²ã•ã‚Œã¾ã™ã€‚

### ã‚¯ãƒ­ã‚¹ãƒ¬ã‚¤ãƒ¤ãƒ¼æ˜‡æ ¼ãƒ„ãƒ¼ãƒ«

| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `skills_promote` | ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®Persona Assemblyã§çŸ¥è­˜ã‚’ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã§æ˜‡æ ¼ï¼ˆL2â†’L1ã€L1â†’L0ï¼‰ |

ã‚³ãƒãƒ³ãƒ‰:
- `analyze`: æ˜‡æ ¼åˆ¤æ–­ã®ãŸã‚ã®ãƒšãƒ«ã‚½ãƒŠã‚¢ã‚»ãƒ³ãƒ–ãƒªè­°è«–ã‚’ç”Ÿæˆ
- `promote`: ç›´æ¥æ˜‡æ ¼ã‚’å®Ÿè¡Œ
- `status`: æ˜‡æ ¼è¦ä»¶ã‚’ç¢ºèª

### ç›£æŸ»ãƒ„ãƒ¼ãƒ« - çŸ¥è­˜ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†

| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `skills_audit` | ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®Persona Assemblyã§L0/L1/L2å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®çŸ¥è­˜å¥å…¨æ€§ã‚’ç›£æŸ» |

ã‚³ãƒãƒ³ãƒ‰:
- `check`: æŒ‡å®šãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯
- `stale`: å¤ããªã£ãŸé …ç›®ã‚’æ¤œå‡ºï¼ˆL0: æ—¥ä»˜ãƒã‚§ãƒƒã‚¯ãªã—ã€L1: 180æ—¥ã€L2: 14æ—¥ï¼‰
- `conflicts`: çŸ¥è­˜é–“ã®æ½œåœ¨çš„çŸ›ç›¾ã‚’æ¤œå‡º
- `dangerous`: L0å®‰å…¨æ€§ã¨çŸ›ç›¾ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œå‡º
- `recommend`: æ˜‡æ ¼ã¨ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã®æ¨å¥¨ã‚’å–å¾—
- `archive`: L1çŸ¥è­˜ã‚’ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆäººé–“ã®æ‰¿èªãŒå¿…è¦ï¼‰
- `unarchive`: ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‹ã‚‰å¾©å…ƒï¼ˆäººé–“ã®æ‰¿èªãŒå¿…è¦ï¼‰

### ãƒªã‚½ãƒ¼ã‚¹ãƒ„ãƒ¼ãƒ« - çµ±ä¸€ã‚¢ã‚¯ã‚»ã‚¹

| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `resource_list` | å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆL0/L1/L2ï¼‰ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’URIã§ä¸€è¦§è¡¨ç¤º |
| `resource_read` | URIã§ãƒªã‚½ãƒ¼ã‚¹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾— |

URIå½¢å¼ï¼š
- `l0://kairos.md`, `l0://kairos.rb` (L0ã‚¹ã‚­ãƒ«)
- `knowledge://{name}`, `knowledge://{name}/scripts/{file}` (L1)
- `context://{session}/{name}` (L2)

### L1ï¼šçŸ¥è­˜ãƒ„ãƒ¼ãƒ« - ãƒãƒƒã‚·ãƒ¥å‚ç…§è¨˜éŒ²

| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `knowledge_list` | ã™ã¹ã¦ã®çŸ¥è­˜ã‚¹ã‚­ãƒ«ã‚’ä¸€è¦§è¡¨ç¤º |
| `knowledge_get` | åå‰ã§çŸ¥è­˜ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾— |
| `knowledge_update` | çŸ¥è­˜ã‚’ä½œæˆ/æ›´æ–°/å‰Šé™¤ï¼ˆãƒãƒƒã‚·ãƒ¥è¨˜éŒ²ï¼‰ |

### L2ï¼šã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ„ãƒ¼ãƒ« - ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²ãªã—

| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `context_save` | ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¿å­˜ï¼ˆè‡ªç”±ã«å¤‰æ›´å¯èƒ½ï¼‰ |
| `context_create_subdir` | scripts/assets/referencesã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ |

### ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ãƒ„ãƒ¼ãƒ«

| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `chain_status` | ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å–å¾—ï¼ˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æƒ…å ±å«ã‚€ï¼‰ |
| `chain_record` | ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜éŒ² |
| `chain_verify` | ãƒã‚§ãƒ¼ãƒ³ã®æ•´åˆæ€§ã‚’æ¤œè¨¼ |
| `chain_history` | ãƒ–ãƒ­ãƒƒã‚¯å±¥æ­´ã‚’è¡¨ç¤º |
| `chain_export` | SQLiteãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆSQLiteãƒ¢ãƒ¼ãƒ‰ã®ã¿ï¼‰ |
| `chain_import` | ãƒ•ã‚¡ã‚¤ãƒ«ã‚’SQLiteã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã€è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä»˜ãï¼ˆSQLiteãƒ¢ãƒ¼ãƒ‰ã®ã¿ã€`approved=true`å¿…é ˆï¼‰ |

## ä½¿ç”¨ä¾‹

### åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚­ãƒ«ã‚’ä¸€è¦§è¡¨ç¤º

```bash
echo '{"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"skills_dsl_list","arguments":{}}}' | bin/kairos_mcp_server
```

### ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèª

```bash
echo '{"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"chain_status","arguments":{}}}' | bin/kairos_mcp_server
```

### ã‚¹ã‚­ãƒ«é·ç§»ã‚’è¨˜éŒ²

```bash
echo '{"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"chain_record","arguments":{"logs":["Skill X modified","Reason: improved accuracy"]}}}' | bin/kairos_mcp_server
```

## è‡ªå·±é€²åŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

KairosChainã¯**å®‰å…¨ãªè‡ªå·±é€²åŒ–**ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ï¼š

1. **é€²åŒ–ã‚’æœ‰åŠ¹ã«ã™ã‚‹**ï¼ˆ`skills/config.yml`ã§ï¼‰ï¼š
   ```yaml
   evolution_enabled: true
   require_human_approval: true
   ```

2. **AIãŒå¤‰æ›´ã‚’ææ¡ˆ**ï¼š
   ```bash
   skills_evolve command=propose skill_id=my_skill definition="..."
   ```

3. **äººé–“ãŒãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦æ‰¿èª**ï¼š
   ```bash
   skills_evolve command=apply skill_id=my_skill definition="..." approved=true
   ```

4. **å¤‰æ›´ãŒé©ç”¨ã•ã‚Œè¨˜éŒ²ã•ã‚Œã‚‹**ï¼š
   - `skills/versions/`ã«ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãŒä½œæˆã•ã‚Œã‚‹
   - ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«é·ç§»ãŒè¨˜éŒ²ã•ã‚Œã‚‹
   - `Kairos.reload!`ãŒãƒ¡ãƒ¢ãƒªå†…ã®çŠ¶æ…‹ã‚’æ›´æ–°

5. **æ¤œè¨¼**ï¼š
   ```bash
   chain_verify  # æ•´åˆæ€§ã‚’ç¢ºèª
   chain_history # é·ç§»è¨˜éŒ²ã‚’è¡¨ç¤º
   ```

## Pure Skillsè¨­è¨ˆ

### skills.md vs skills.rb

| è¦³ç‚¹ | skills.md (Markdown) | skills.rb (Ruby DSL) |
|------|---------------------|---------------------|
| æ€§è³ª | è¨˜è¿° | å®šç¾© |
| å®Ÿè¡Œå¯èƒ½æ€§ | âŒ è©•ä¾¡ä¸å¯ | âœ… ãƒ‘ãƒ¼ã‚¹å¯èƒ½ã€æ¤œè¨¼å¯èƒ½ |
| è‡ªå·±å‚ç…§ | ãªã— | `Kairos`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«çµŒç”± |
| ç›£æŸ»å¯èƒ½æ€§ | Gitã‚³ãƒŸãƒƒãƒˆã®ã¿ | ãƒã‚¤ãƒ†ã‚£ãƒ–ï¼ˆASTãƒ™ãƒ¼ã‚¹ã®å·®åˆ†ï¼‰ |
| AIã®å½¹å‰² | èª­è€… | æ§‹é€ ã®ä¸€éƒ¨ |

### ã‚¹ã‚­ãƒ«å®šç¾©ã®ä¾‹

```ruby
skill :core_safety do
  version "1.0"
  title "Core Safety Rules"
  
  guarantees do
    immutable
    always_enforced
  end
  
  evolve do
    deny :all  # å¤‰æ›´ä¸å¯
  end
  
  content <<~MD
    ## ã‚³ã‚¢å®‰å…¨æ€§ä¸å¤‰æ¡ä»¶
    1. é€²åŒ–ã«ã¯æ˜ç¤ºçš„ãªæœ‰åŠ¹åŒ–ãŒå¿…è¦
    2. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§äººé–“ã®æ‰¿èªãŒå¿…è¦
    3. ã™ã¹ã¦ã®å¤‰æ›´ãŒãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²ã‚’ä½œæˆ
  MD
end
```

### è‡ªå·±å‚ç…§çš„å†…çœ

```ruby
skill :self_inspection do
  version "1.0"
  
  behavior do
    Kairos.skills.map do |skill|
      {
        id: skill.id,
        version: skill.version,
        can_evolve: skill.can_evolve?(:content)
      }
    end
  end
end
```

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
KairosChain_mcp_server/
â”œâ”€â”€ bin/
â”‚   â””â”€â”€ kairos_mcp_server         # å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ config/
â”‚   â””â”€â”€ safety.yml                # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ kairos_mcp/
â”‚       â”œâ”€â”€ server.rb             # STDIOã‚µãƒ¼ãƒãƒ¼
â”‚       â”œâ”€â”€ protocol.rb           # JSON-RPCãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚       â”œâ”€â”€ kairos.rb             # è‡ªå·±å‚ç…§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚       â”œâ”€â”€ safe_evolver.rb       # å®‰å…¨æ€§ã‚’ä¼´ã†é€²åŒ–
â”‚       â”œâ”€â”€ layer_registry.rb     # ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç®¡ç†
â”‚       â”œâ”€â”€ anthropic_skill_parser.rb  # YAMLãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ + MDãƒ‘ãƒ¼ã‚µãƒ¼
â”‚       â”œâ”€â”€ knowledge_provider.rb # L1çŸ¥è­˜ç®¡ç†
â”‚       â”œâ”€â”€ context_manager.rb    # L2ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†
â”‚       â”œâ”€â”€ kairos_chain/         # ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³å®Ÿè£…
â”‚       â”‚   â”œâ”€â”€ block.rb
â”‚       â”‚   â”œâ”€â”€ chain.rb
â”‚       â”‚   â”œâ”€â”€ merkle_tree.rb
â”‚       â”‚   â””â”€â”€ skill_transition.rb
â”‚       â””â”€â”€ tools/                # MCPãƒ„ãƒ¼ãƒ«ï¼ˆã‚³ã‚¢18å€‹ï¼‰
â”‚           â”œâ”€â”€ skills_*.rb       # L0ãƒ„ãƒ¼ãƒ«
â”‚           â”œâ”€â”€ knowledge_*.rb    # L1ãƒ„ãƒ¼ãƒ«
â”‚           â””â”€â”€ context_*.rb      # L2ãƒ„ãƒ¼ãƒ«
â”œâ”€â”€ skills/                       # L0ï¼šKairosã‚³ã‚¢
â”‚   â”œâ”€â”€ kairos.md                 # L0-Aï¼šå“²å­¦ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰
â”‚   â”œâ”€â”€ kairos.rb                 # L0-Bï¼šãƒ¡ã‚¿ãƒ«ãƒ¼ãƒ«ï¼ˆRuby DSLï¼‰
â”‚   â”œâ”€â”€ config.yml                # ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨é€²åŒ–ã®è¨­å®š
â”‚   â””â”€â”€ versions/                 # ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ
â”œâ”€â”€ knowledge/                    # L1ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ï¼ˆAnthropicãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰
â”‚   â””â”€â”€ example_knowledge/
â”‚       â”œâ”€â”€ example_knowledge.md  # YAMLãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ + Markdown
â”‚       â”œâ”€â”€ scripts/              # å®Ÿè¡Œå¯èƒ½ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚       â”œâ”€â”€ assets/               # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ãƒªã‚½ãƒ¼ã‚¹
â”‚       â””â”€â”€ references/           # å‚è€ƒè³‡æ–™
â”œâ”€â”€ context/                      # L2ï¼šä¸€æ™‚çš„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼ˆAnthropicãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰
â”‚   â””â”€â”€ session_xxx/
â”‚       â””â”€â”€ hypothesis/
â”‚           â””â”€â”€ hypothesis.md
â”œâ”€â”€ storage/
â”‚   â”œâ”€â”€ blockchain.json           # ãƒã‚§ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿
â”‚   â””â”€â”€ off_chain/                # ASTå·®åˆ†ã€ç†ç”±
â”œâ”€â”€ test_local.rb                 # ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ README.md
```

## å°†æ¥ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

1. **Ethereumã‚¢ãƒ³ã‚«ãƒ¼**ï¼šå…¬é–‹ãƒã‚§ãƒ¼ãƒ³ã¸ã®å®šæœŸçš„ãªãƒãƒƒã‚·ãƒ¥ã‚¢ãƒ³ã‚«ãƒªãƒ³ã‚°
2. **ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚µãƒãƒ¼ãƒˆ**ï¼š`agent_id`ã§è¤‡æ•°ã®AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’è¿½è·¡
3. **ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜**ï¼šãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã‚’ä¿è­·ã—ãŸæ¤œè¨¼
4. **Webãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**ï¼šã‚¹ã‚­ãƒ«é€²åŒ–å±¥æ­´ã®å¯è¦–åŒ–
5. **ãƒãƒ¼ãƒ ã‚¬ãƒãƒŠãƒ³ã‚¹**ï¼šL0å¤‰æ›´ã®ãŸã‚ã®æŠ•ç¥¨ã‚·ã‚¹ãƒ†ãƒ ï¼ˆFAQã‚’å‚ç…§ï¼‰

---

## ãƒ‡ãƒ—ãƒ­ã‚¤ã¨é‹ç”¨

### ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®æ¦‚è¦

KairosChainã¯ä»¥ä¸‹ã®å ´æ‰€ã«ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ã¾ã™ï¼š

| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | å†…å®¹ | Gitè¿½è·¡ | é‡è¦åº¦ |
|-------------|------|---------|--------|
| `skills/kairos.rb` | L0 DSLï¼ˆé€²åŒ–å¯èƒ½ï¼‰ | Yes | é«˜ |
| `skills/kairos.md` | L0 å“²å­¦ï¼ˆä¸å¤‰ï¼‰ | Yes | é«˜ |
| `skills/config.yml` | è¨­å®š | Yes | é«˜ |
| `skills/versions/` | DSLã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ | Yes | ä¸­ |
| `knowledge/` | L1ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ | Yes | é«˜ |
| `context/` | L2ä¸€æ™‚ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ | Yes | ä½ |
| `storage/blockchain.json` | ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ãƒ¢ãƒ¼ãƒ‰ï¼‰ | Yes | é«˜ |
| `storage/kairos.db` | SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆSQLiteãƒ¢ãƒ¼ãƒ‰ï¼‰ | No | é«˜ |
| `storage/embeddings/*.ann` | ãƒ™ã‚¯ãƒˆãƒ«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰ | No | ä½ |
| `skills/action_log.jsonl` | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ­ã‚°ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ãƒ¢ãƒ¼ãƒ‰ï¼‰ | No | ä½ |

### ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å½¢å¼

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã¯`storage/blockchain.json`ã«**JSONãƒ•ãƒ©ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ«**ã¨ã—ã¦ä¿å­˜ã•ã‚Œã¾ã™ã€‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§SQLiteãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚‚ä½¿ç”¨å¯èƒ½ã§ã™ï¼ˆã€Œã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šSQLiteã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§ï¼‰ã€‚

**ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰** - `storage/blockchain.json`ï¼š

```json
[
  {
    "index": 0,
    "timestamp": "1970-01-01T00:00:00.000000Z",
    "data": ["Genesis Block"],
    "previous_hash": "0000...0000",
    "merkle_root": "0000...0000",
    "hash": "a1b2c3..."
  },
  {
    "index": 1,
    "timestamp": "2026-01-20T10:30:00.123456Z",
    "data": ["{\"type\":\"skill_evolution\",\"skill_id\":\"...\"}"],
    "previous_hash": "a1b2c3...",
    "merkle_root": "xyz...",
    "hash": "789..."
  }
]
```

**ãªãœJSONãƒ•ãƒ©ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‹ï¼Ÿ**
- **ã‚·ãƒ³ãƒ—ãƒ«ã•**ï¼šå¤–éƒ¨ä¾å­˜ãªã—
- **å¯èª­æ€§**ï¼šç›£æŸ»ã®ãŸã‚ã«äººé–“ãŒç›´æ¥ç¢ºèªå¯èƒ½
- **ãƒãƒ¼ã‚¿ãƒ“ãƒªãƒ†ã‚£**ï¼šã‚³ãƒ”ãƒ¼ã™ã‚‹ã ã‘ã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—/ç§»è¡Œå¯èƒ½
- **å“²å­¦ã¸ã®é©åˆ**ï¼šç›£æŸ»å¯èƒ½æ€§ã¯Kairosã®æ ¸å¿ƒ

**SQLiteãƒ¢ãƒ¼ãƒ‰** - `storage/kairos.db`ï¼š

```sql
-- blocksãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE blocks (
  id INTEGER PRIMARY KEY,
  idx INTEGER NOT NULL,
  timestamp TEXT NOT NULL,
  data TEXT NOT NULL,        -- JSONé…åˆ—
  previous_hash TEXT NOT NULL,
  merkle_root TEXT NOT NULL,
  hash TEXT NOT NULL UNIQUE
);

-- action_logsãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE action_logs (
  id INTEGER PRIMARY KEY,
  timestamp TEXT NOT NULL,
  entry TEXT NOT NULL        -- JSONã‚¨ãƒ³ãƒˆãƒª
);
```

**ãªãœSQLiteã‹ï¼Ÿï¼ˆãƒãƒ¼ãƒ åˆ©ç”¨æ™‚ï¼‰**
- **åŒæ™‚ã‚¢ã‚¯ã‚»ã‚¹**ï¼šWALãƒ¢ãƒ¼ãƒ‰ã§è¤‡æ•°ã®èª­ã¿å–ã‚Š + å˜ä¸€æ›¸ãè¾¼ã¿
- **ACIDãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³**ï¼šãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã®ä¿è¨¼
- **ã‚¯ã‚¨ãƒªèƒ½åŠ›**ï¼šè¤‡é›‘ãªã‚¯ã‚¨ãƒªãŒSQLã§å¯èƒ½
- **è‡ªå·±å®Œçµå‹**ï¼šå˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚µãƒ¼ãƒãƒ¼ä¸è¦

**ãƒ•ã‚¡ã‚¤ãƒ« vs SQLiteã®é¸æŠï¼š**

| ã‚·ãƒŠãƒªã‚ª | æ¨å¥¨ |
|----------|------|
| å€‹äººé–‹ç™ºè€… | ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆã‚·ãƒ³ãƒ—ãƒ«ï¼‰ |
| ãƒãƒ¼ãƒ ï¼ˆ2-10äººï¼‰ | SQLiteï¼ˆåŒæ™‚ã‚¢ã‚¯ã‚»ã‚¹ï¼‰ |
| ç›£æŸ»/æ¤œæŸ» | ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ |

### æ¨å¥¨é‹ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³

#### ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼šFork + ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªï¼ˆæ¨å¥¨ï¼‰

KairosChainã‚’ãƒ•ã‚©ãƒ¼ã‚¯ã—ã¦ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã¨ã—ã¦ä¿æŒã—ã¾ã™ã€‚æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã™ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ KairosChain (å…¬é–‹)  â”‚â”€â”€â”€â–¶â”‚ your-fork (éå…¬é–‹)  â”‚            â”‚
â”‚  â”‚ - ã‚³ãƒ¼ãƒ‰æ›´æ–°        â”‚    â”‚ - skills/           â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ - knowledge/        â”‚            â”‚
â”‚                             â”‚ - storage/          â”‚            â”‚
â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ãƒ¡ãƒªãƒƒãƒˆ:** ã‚·ãƒ³ãƒ—ãƒ«ã€ã™ã¹ã¦ãŒä¸€ç®‡æ‰€ã€å®Œå…¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—  
**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:** ä¸Šæµã®æ›´æ–°ã‚’ãƒ—ãƒ«ã™ã‚‹éš›ã«ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã®å¯èƒ½æ€§

**ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—:**
```bash
# GitHubã§ãƒ•ã‚©ãƒ¼ã‚¯ã—ã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¯ã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/YOUR_USERNAME/KairosChain_2026.git
cd KairosChain_2026

# æ›´æ–°ç”¨ã«upstreamã‚’è¿½åŠ 
git remote add upstream https://github.com/masaomi/KairosChain_2026.git

# ä¸Šæµã®æ›´æ–°ã‚’ãƒ—ãƒ«ï¼ˆå¿…è¦æ™‚ï¼‰
git fetch upstream
git merge upstream/main
```

#### ãƒ‘ã‚¿ãƒ¼ãƒ³2ï¼šãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåˆ†é›¢

KairosChainã®ã‚³ãƒ¼ãƒ‰ã¨ãƒ‡ãƒ¼ã‚¿ã‚’åˆ¥ã€…ã®ãƒªãƒã‚¸ãƒˆãƒªã§ç®¡ç†ã—ã¾ã™ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2ã¤ã®ãƒªãƒã‚¸ãƒˆãƒª                                                 â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ KairosChain (å…¬é–‹) â”‚    â”‚ my-kairos-data (éå…¬é–‹)     â”‚     â”‚
â”‚  â”‚ - lib/             â”‚    â”‚ - skills/                   â”‚     â”‚
â”‚  â”‚ - bin/             â”‚    â”‚ - knowledge/                â”‚     â”‚
â”‚  â”‚ - config/          â”‚    â”‚ - context/                  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ - storage/                  â”‚     â”‚
â”‚                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â”‚  ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã§æ¥ç¶šï¼š                                       â”‚
â”‚  $ ln -s ~/my-kairos-data/skills ./skills                       â”‚
â”‚  $ ln -s ~/my-kairos-data/knowledge ./knowledge                 â”‚
â”‚  $ ln -s ~/my-kairos-data/storage ./storage                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ãƒ¡ãƒªãƒƒãƒˆ:** ä¸Šæµã®æ›´æ–°ã‚’å–ã‚Šè¾¼ã¿ã‚„ã™ã„ã€æ˜ç¢ºãªåˆ†é›¢  
**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:** ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã®è¨­å®šãŒå¿…è¦ã€2ã¤ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ç®¡ç†

#### ãƒ‘ã‚¿ãƒ¼ãƒ³3ï¼šã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸï¼ˆéGitï¼‰

ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆDropboxã€iCloudã€Google Driveï¼‰ã¨åŒæœŸã—ã¾ã™ã€‚

```bash
# ä¾‹ï¼šDropboxã¸ã®ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯
ln -s ~/Dropbox/KairosChain/skills ./skills
ln -s ~/Dropbox/KairosChain/knowledge ./knowledge
ln -s ~/Dropbox/KairosChain/storage ./storage
```

**ãƒ¡ãƒªãƒƒãƒˆ:** è‡ªå‹•åŒæœŸã€GitçŸ¥è­˜ä¸è¦  
**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:** ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒå¼±ã„ã€ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±ºãŒé›£ã—ã„

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æˆ¦ç•¥

#### å®šæœŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

```bash
# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆ
#!/bin/bash
BACKUP_DIR=~/kairos-backups/$(date +%Y%m%d_%H%M%S)
mkdir -p $BACKUP_DIR

# é‡è¦ãƒ‡ãƒ¼ã‚¿ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cp -r skills/ $BACKUP_DIR/
cp -r knowledge/ $BACKUP_DIR/
cp -r storage/ $BACKUP_DIR/

# å¤ã„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å‰Šé™¤ï¼ˆ30æ—¥ä»¥ä¸Šå‰ï¼‰
find ~/kairos-backups -mtime +30 -type d -exec rm -rf {} +

echo "ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ: $BACKUP_DIR"
```

#### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å¯¾è±¡

| å„ªå…ˆåº¦ | ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | ç†ç”± |
|--------|-------------|------|
| **æœ€é‡è¦** | `storage/blockchain.json` | ä¸å¤‰ã®é€²åŒ–å±¥æ­´ |
| **æœ€é‡è¦** | `skills/kairos.rb` | L0ãƒ¡ã‚¿ãƒ«ãƒ¼ãƒ« |
| **é«˜** | `knowledge/` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ |
| **ä¸­** | `skills/versions/` | é€²åŒ–ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ |
| **ä½** | `context/` | ä¸€æ™‚çš„ï¼ˆå†ä½œæˆå¯èƒ½ï¼‰ |
| **ã‚¹ã‚­ãƒƒãƒ—** | `storage/embeddings/` | è‡ªå‹•å†ç”Ÿæˆ |

#### ãƒªã‚¹ãƒˆã‚¢å¾Œã®æ¤œè¨¼

```bash
# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ãƒªã‚¹ãƒˆã‚¢å¾Œã€æ•´åˆæ€§ã‚’æ¤œè¨¼
cd KairosChain_mcp_server
echo '{"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"chain_verify","arguments":{}}}' | bin/kairos_mcp_server
```

---

## FAQ

### Q: LLMã¯L1/L2ã‚’è‡ªå‹•çš„ã«æ”¹å¤‰ã—ã¾ã™ã‹ï¼Ÿ

**A:** ã¯ã„ã€LLMã¯MCPãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦è‡ªç™ºçš„ã«ï¼ˆã¾ãŸã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä¾é ¼ã§ï¼‰L1/L2ã‚’æ”¹å¤‰ã§ãã¾ã™ã€‚

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | LLMã«ã‚ˆã‚‹æ”¹å¤‰ | æ¡ä»¶ |
|---------|---------------|------|
| **L0** (kairos.rb) | å¯èƒ½ã ãŒå³æ ¼ | `evolution_enabled: true` + `approved: true`ï¼ˆäººé–“æ‰¿èªï¼‰+ ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ² |
| **L1** (knowledge/) | å¯èƒ½ | ãƒãƒƒã‚·ãƒ¥ã®ã¿ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²ã€äººé–“æ‰¿èªä¸è¦ |
| **L2** (context/) | è‡ªç”± | è¨˜éŒ²ãªã—ã€æ‰¿èªä¸è¦ |

â€» `kairos.md` ã¯èª­ã¿å–ã‚Šå°‚ç”¨ã§ã€LLMã¯æ”¹å¤‰ã§ãã¾ã›ã‚“ã€‚

**ä½¿ç”¨ä¾‹:**
- L2: èª¿æŸ»ä¸­ã®ä»®èª¬ã‚’ `context_save` ã§ä¸€æ™‚ä¿å­˜
- L1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã‚’ `knowledge_update` ã§æ°¸ç¶šåŒ–
- L0: ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ã®å¤‰æ›´ã‚’ `skills_evolve` ã§ææ¡ˆï¼ˆäººé–“æ‰¿èªå¿…é ˆï¼‰

---

### Q: ã©ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«çŸ¥è­˜ã‚’ä¿å­˜ã™ã¹ãã‹ã€ã©ã†åˆ¤æ–­ã™ã‚Œã°ã‚ˆã„ã§ã™ã‹ï¼Ÿ

**A:** çµ„ã¿è¾¼ã¿ã®`layer_placement_guide`çŸ¥è­˜ï¼ˆL1ï¼‰ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚ç°¡æ˜“åˆ¤æ–­ãƒ„ãƒªãƒ¼ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

```
1. Kairosè‡ªä½“ã®ãƒ«ãƒ¼ãƒ«ã‚„åˆ¶ç´„ã‚’å¤‰æ›´ã™ã‚‹ã‚‚ã®ã§ã™ã‹ï¼Ÿ
   â†’ ã¯ã„: L0ï¼ˆäººé–“æ‰¿èªå¿…é ˆï¼‰
   â†’ ã„ã„ãˆ: æ¬¡ã¸

2. ä¸€æ™‚çš„ã€ã¾ãŸã¯ã‚»ãƒƒã‚·ãƒ§ãƒ³é™å®šã®ã‚‚ã®ã§ã™ã‹ï¼Ÿ
   â†’ ã¯ã„: L2ï¼ˆè‡ªç”±ã«å¤‰æ›´å¯èƒ½ã€è¨˜éŒ²ãªã—ï¼‰
   â†’ ã„ã„ãˆ: æ¬¡ã¸

3. è¤‡æ•°ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§å†åˆ©ç”¨ã—ã¾ã™ã‹ï¼Ÿ
   â†’ ã¯ã„: L1ï¼ˆãƒãƒƒã‚·ãƒ¥å‚ç…§è¨˜éŒ²ï¼‰
   â†’ ã„ã„ãˆ: L2
```

**åŸºæœ¬åŸå‰‡:** è¿·ã£ãŸã‚‰L2ã‹ã‚‰å§‹ã‚ã¦ã€å¾Œã§æ˜‡æ ¼ã•ã›ã‚‹ã€‚

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | ç›®çš„ | å…¸å‹çš„ãªå†…å®¹ |
|----------|------|-------------|
| L0 | Kairosãƒ¡ã‚¿ãƒ«ãƒ¼ãƒ« | å®‰å…¨æ€§åˆ¶ç´„ã€é€²åŒ–ãƒ«ãƒ¼ãƒ« |
| L1 | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ | ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |
| L2 | ä¸€æ™‚çš„ãªä½œæ¥­ | ä»®èª¬ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒãƒ¼ãƒˆã€å®Ÿé¨“ |

**æ˜‡æ ¼ãƒ‘ã‚¿ãƒ¼ãƒ³:** çŸ¥è­˜ã¯æˆç†Ÿã™ã‚‹ã«ã¤ã‚Œã¦ä¸Šä½ã«ç§»å‹•ã§ãã¾ã™: L2 â†’ L1 â†’ L0

è©³ç´°ãªã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ã¯: `knowledge_get name="layer_placement_guide"` ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

---

### Q: L1çŸ¥è­˜ã®å¥å…¨æ€§ã‚’ã©ã†ç¶­æŒã—ã¾ã™ã‹ï¼ŸL1ã®è‚¥å¤§åŒ–ã‚’ã©ã†é˜²ãã¾ã™ã‹ï¼Ÿ

**A:** `l1_health_guide`çŸ¥è­˜ï¼ˆL1ï¼‰ã¨`skills_audit`ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦å®šæœŸçš„ãªãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚’è¡Œã„ã¾ã™ã€‚

**ä¸»è¦ãªé–¾å€¤ï¼š**

| æ¡ä»¶ | é–¾å€¤ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
|------|------|----------|
| ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¨å¥¨ | æ›´æ–°ã‹ã‚‰180æ—¥çµŒé | `skills_audit`ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œ |
| ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–å€™è£œ | æ›´æ–°ã‹ã‚‰270æ—¥çµŒé | ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚’æ¤œè¨ |
| å±é™ºãªãƒ‘ã‚¿ãƒ¼ãƒ³ | æ¤œå‡ºæ™‚ | å³åº§ã«æ›´æ–°ã¾ãŸã¯ã‚¢ãƒ¼ã‚«ã‚¤ãƒ– |

**æ¨å¥¨ç›£æŸ»ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼š**

| é »åº¦ | ã‚³ãƒãƒ³ãƒ‰ |
|------|---------|
| æœˆæ¬¡ | `skills_audit command="check" layer="L1"` |
| æœˆæ¬¡ | `skills_audit command="recommend" layer="L1"` |
| å››åŠæœŸ | `skills_audit command="conflicts" layer="L1"` |
| å•é¡Œç™ºç”Ÿæ™‚ | `skills_audit command="dangerous" layer="L1"` |

**ã‚»ãƒ«ãƒ•ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆl1_health_guideã‚ˆã‚Šï¼‰ï¼š**

- [ ] **é–¢é€£æ€§**: ã“ã®çŸ¥è­˜ã¯ã¾ã é©ç”¨å¯èƒ½ã‹ï¼Ÿ
- [ ] **ä¸€æ„æ€§**: é¡ä¼¼ã®çŸ¥è­˜ãŒæ—¢ã«å­˜åœ¨ã—ãªã„ã‹ï¼Ÿ
- [ ] **å“è³ª**: æƒ…å ±ã¯æ­£ç¢ºã§æœ€æ–°ã‹ï¼Ÿ
- [ ] **å®‰å…¨æ€§**: L0ã®å®‰å…¨åˆ¶ç´„ã«é©åˆã—ã¦ã„ã‚‹ã‹ï¼Ÿ

**ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ—ãƒ­ã‚»ã‚¹ï¼š**

```bash
# çŸ¥è­˜ã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼
knowledge_get name="candidate_knowledge"

# æ‰¿èªä»˜ãã§ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–
skills_audit command="archive" target="candidate_knowledge" reason="ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®Œäº†" approved=true
```

è©³ç´°ãªã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã¯: `knowledge_get name="l1_health_guide"` ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

---

### Q: Persona Assemblyã¨ã¯ä½•ã§ã™ã‹ï¼Ÿã„ã¤ä½¿ã†ã¹ãã§ã™ã‹ï¼Ÿ

**A:** Persona Assemblyã¯ã€ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã§çŸ¥è­˜ã‚’æ˜‡æ ¼ã•ã›ã‚‹éš›ã‚„ã€çŸ¥è­˜ã®å¥å…¨æ€§ã‚’ç›£æŸ»ã™ã‚‹éš›ã«ã€è¤‡æ•°ã®è¦–ç‚¹ã‹ã‚‰è©•ä¾¡ã‚’è¡Œã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã§ã™ã€‚äººé–“ã®æ„æ€æ±ºå®šå‰ã«ç•°ãªã‚‹è¦³ç‚¹ã‚’æµ®ãå½«ã‚Šã«ã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚

**ã‚¢ã‚»ãƒ³ãƒ–ãƒªãƒ¢ãƒ¼ãƒ‰:**

| ãƒ¢ãƒ¼ãƒ‰ | èª¬æ˜ | ãƒˆãƒ¼ã‚¯ãƒ³ã‚³ã‚¹ãƒˆ | ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ |
|--------|------|---------------|-------------|
| `oneshot` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ) | å…¨ãƒšãƒ«ã‚½ãƒŠã«ã‚ˆã‚‹1å›è©•ä¾¡ | ~500 + 300Ã—N | æ—¥å¸¸çš„ãªåˆ¤æ–­ã€è¿…é€Ÿãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ |
| `discussion` | ãƒ•ã‚¡ã‚·ãƒªãƒ†ãƒ¼ã‚¿ãƒ¼ä»˜ããƒãƒ«ãƒãƒ©ã‚¦ãƒ³ãƒ‰è­°è«– | ~500 + 300Ã—NÃ—R + 200Ã—R | é‡è¦ãªæ±ºå®šã€æ·±ã„åˆ†æ |

*N = ãƒšãƒ«ã‚½ãƒŠæ•°ã€R = ãƒ©ã‚¦ãƒ³ãƒ‰æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæœ€å¤§: 3ï¼‰*

**ãƒ¢ãƒ¼ãƒ‰é¸æŠã®æŒ‡é‡:**

| ã‚·ãƒŠãƒªã‚ª | æ¨å¥¨ãƒ¢ãƒ¼ãƒ‰ |
|----------|-----------|
| L2 â†’ L1 æ˜‡æ ¼ | oneshot |
| L1 â†’ L0 æ˜‡æ ¼ | **discussion** |
| ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–åˆ¤æ–­ | oneshot |
| çŸ›ç›¾è§£æ¶ˆ | **discussion** |
| ã‚¯ã‚¤ãƒƒã‚¯æ¤œè¨¼ | oneshot (kairosã®ã¿) |
| é«˜ãƒªã‚¹ã‚¯æ±ºå®š | discussion (å…¨ãƒšãƒ«ã‚½ãƒŠ) |

**åˆ©ç”¨å¯èƒ½ãªãƒšãƒ«ã‚½ãƒŠ:**

| ãƒšãƒ«ã‚½ãƒŠ | å½¹å‰² | ãƒã‚¤ã‚¢ã‚¹ |
|---------|------|----------|
| `kairos` | å“²å­¦æ“è­·è€… / ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚¡ã‚·ãƒªãƒ†ãƒ¼ã‚¿ãƒ¼ | ç›£æŸ»å¯èƒ½æ€§ã€åˆ¶ç´„ä¿æŒ |
| `conservative` | å®‰å®šæ€§ã®å®ˆè­·è€… | ã‚ˆã‚Šä½ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒ³ãƒˆã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’å¥½ã‚€ |
| `radical` | ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³æ¨é€²è€… | è¡Œå‹•ã‚’å¥½ã¿ã€é«˜ãƒªã‚¹ã‚¯ã‚‚è¨±å®¹ |
| `pragmatic` | ã‚³ã‚¹ãƒˆå¯¾åŠ¹æœåˆ†æè€… | å®Ÿè£…è¤‡é›‘æ€§ vs ä¾¡å€¤ |
| `optimistic` | æ©Ÿä¼šæ¢ç´¢è€… | æ½œåœ¨çš„åˆ©ç›Šã«ç„¦ç‚¹ |
| `skeptic` | ãƒªã‚¹ã‚¯ç‰¹å®šè€… | å•é¡Œã‚„ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚’æ¢ã™ |
| `archivist` | çŸ¥è­˜ã‚­ãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ | çŸ¥è­˜ã®é®®åº¦ã€å†—é•·æ€§ |
| `guardian` | å®‰å…¨æ€§ç•ªäºº | L0æ•´åˆæ€§ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ |
| `promoter` | æ˜‡æ ¼ã‚¹ã‚«ã‚¦ãƒˆ | æ˜‡æ ¼å€™è£œã®ç™ºè¦‹ |

**ä½¿ç”¨æ–¹æ³•:**

```bash
# oneshotãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰- 1å›è©•ä¾¡
skills_promote command="analyze" source_name="my_knowledge" from_layer="L1" to_layer="L0" personas=["kairos", "conservative", "skeptic"]

# discussionãƒ¢ãƒ¼ãƒ‰ - ãƒ•ã‚¡ã‚·ãƒªãƒ†ãƒ¼ã‚¿ãƒ¼ä»˜ããƒãƒ«ãƒãƒ©ã‚¦ãƒ³ãƒ‰
skills_promote command="analyze" source_name="my_knowledge" from_layer="L1" to_layer="L0" \
  assembly_mode="discussion" facilitator="kairos" max_rounds=3 consensus_threshold=0.6 \
  personas=["kairos", "conservative", "radical", "skeptic"]

# skills_auditã§ã®ä½¿ç”¨
skills_audit command="check" with_assembly=true assembly_mode="oneshot"
skills_audit command="check" with_assembly=true assembly_mode="discussion" facilitator="kairos"

# ã‚¢ã‚»ãƒ³ãƒ–ãƒªãªã—ã§ç›´æ¥æ˜‡æ ¼
skills_promote command="promote" source_name="my_context" from_layer="L2" to_layer="L1" session_id="xxx"
```

**discussionãƒ¢ãƒ¼ãƒ‰ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼:**

```
Round 1: å„ãƒšãƒ«ã‚½ãƒŠãŒç«‹å ´ã‚’è¡¨æ˜ï¼ˆSUPPORT/OPPOSE/NEUTRALï¼‰
         â†“
ãƒ•ã‚¡ã‚·ãƒªãƒ†ãƒ¼ã‚¿ãƒ¼: åˆæ„/ä¸åˆæ„ã‚’æ•´ç†ã€æ‡¸å¿µç‚¹ã‚’ç‰¹å®š
         â†“
Round 2-N: ãƒšãƒ«ã‚½ãƒŠãŒæ‡¸å¿µã«å¯¾å¿œï¼ˆåˆæ„ < é–¾å€¤ã®å ´åˆï¼‰
         â†“
æœ€çµ‚ã‚µãƒãƒªãƒ¼: åˆæ„çŠ¶æ³ã€æ¨å¥¨ã€ä¸»è¦è§£æ±ºäº‹é …
```

**è¨­å®šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆ`audit_rules` L0ã‚¹ã‚­ãƒ«ã‚ˆã‚Šï¼‰:**

```yaml
assembly_defaults:
  mode: "oneshot"           # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¢ãƒ¼ãƒ‰
  facilitator: "kairos"     # è­°è«–ã®ã¾ã¨ã‚å½¹
  max_rounds: 3             # discussionã®æœ€å¤§ãƒ©ã‚¦ãƒ³ãƒ‰æ•°
  consensus_threshold: 0.6  # 60% = æ—©æœŸçµ‚äº†
```

**é‡è¦:** ã‚¢ã‚»ãƒ³ãƒ–ãƒªã®å‡ºåŠ›ã¯åŠ©è¨€ã®ã¿ã§ã™ã€‚äººé–“ã®åˆ¤æ–­ãŒæœ€çµ‚çš„ãªæ¨©é™ã‚’æŒã¡ç¶šã‘ã¾ã™ï¼ˆç‰¹ã«L0æ˜‡æ ¼ã®å ´åˆï¼‰ã€‚

ãƒšãƒ«ã‚½ãƒŠå®šç¾©ã¯ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ã§ã™: `knowledge/persona_definitions/`

---

### Q: ãƒãƒ¼ãƒ åˆ©ç”¨ã®å ´åˆã€APIã¸ã®æ‹¡å¼µãŒå¿…è¦ã§ã™ã‹ï¼Ÿ

**A:** ç¾åœ¨ã®å®Ÿè£…ã¯stdioçµŒç”±ã®ãƒ­ãƒ¼ã‚«ãƒ«åˆ©ç”¨ã«é™å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒãƒ¼ãƒ åˆ©ç”¨ã«ã¯ä»¥ä¸‹ã®é¸æŠè‚¢ãŒã‚ã‚Šã¾ã™ï¼š

| æ–¹å¼ | è¿½åŠ å®Ÿè£… | é©åˆè¦æ¨¡ |
|------|----------|----------|
| **Gitå…±æœ‰** | ä¸è¦ | å°è¦æ¨¡ãƒãƒ¼ãƒ ï¼ˆ2-5äººï¼‰ |
| **SSHãƒˆãƒ³ãƒãƒªãƒ³ã‚°** | ä¸è¦ | LANãƒãƒ¼ãƒ ï¼ˆ2-10äººï¼‰ |
| **HTTP APIåŒ–** | å¿…è¦ | ä¸­è¦æ¨¡ãƒãƒ¼ãƒ ï¼ˆ5-20äººï¼‰ |
| **MCP over SSE** | å¿…è¦ | ãƒªãƒ¢ãƒ¼ãƒˆæ¥ç¶šãŒå¿…è¦ãªå ´åˆ |

**Gitå…±æœ‰ï¼ˆæœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ï¼‰:**
```
# knowledge/, skills/, data/blockchain.json ã‚’Gitã§ç®¡ç†
# å„ãƒ¡ãƒ³ãƒãƒ¼ãŒãƒ­ãƒ¼ã‚«ãƒ«ã§MCPã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
# å¤‰æ›´ã¯GitçµŒç”±ã§åŒæœŸ
```

**SSHãƒˆãƒ³ãƒãƒªãƒ³ã‚°ï¼ˆLANãƒãƒ¼ãƒ ã€ã‚³ãƒ¼ãƒ‰å¤‰æ›´ä¸è¦ï¼‰:**

åŒä¸€LANå†…ã®ãƒãƒ¼ãƒ ã§ã¯ã€SSHçµŒç”±ã§ãƒªãƒ¢ãƒ¼ãƒˆMCPã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã§ãã¾ã™ã€‚è¿½åŠ å®Ÿè£…ã¯ä¸è¦ã§ã€ã‚µãƒ¼ãƒãƒ¼ãƒã‚·ãƒ³ã¸ã®SSHã‚¢ã‚¯ã‚»ã‚¹ãŒã‚ã‚Œã°åˆ©ç”¨å¯èƒ½ã§ã™ã€‚

**ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—:**

1. å…±æœ‰ãƒã‚·ãƒ³ï¼ˆä¾‹ï¼š`server.local`ï¼‰ã§MCPã‚µãƒ¼ãƒãƒ¼ã‚’æº–å‚™ï¼š
   ```bash
   # ã‚µãƒ¼ãƒãƒ¼ãƒã‚·ãƒ³ä¸Šã§
   cd /path/to/KairosChain_mcp_server
   # ã‚µãƒ¼ãƒãƒ¼æº–å‚™å®Œäº†ï¼ˆstdioãƒ™ãƒ¼ã‚¹ã€ãƒ‡ãƒ¼ãƒ¢ãƒ³ä¸è¦ï¼‰
   ```

2. MCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’SSHçµŒç”±ã§æ¥ç¶šã™ã‚‹ã‚ˆã†è¨­å®šï¼š

   **Cursorã®å ´åˆï¼ˆ`~/.cursor/mcp.json`ï¼‰:**
   ```json
   {
     "mcpServers": {
       "kairos-chain": {
         "command": "ssh",
         "args": [
           "-o", "StrictHostKeyChecking=accept-new",
           "user@server.local",
           "cd /path/to/KairosChain_mcp_server && ruby bin/kairos_mcp_server"
         ]
       }
     }
   }
   ```

   **Claude Codeã®å ´åˆ:**
   ```bash
   claude mcp add kairos-chain ssh -- -o StrictHostKeyChecking=accept-new user@server.local "cd /path/to/KairosChain_mcp_server && ruby bin/kairos_mcp_server"
   ```

3. ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã—ã‚¢ã‚¯ã‚»ã‚¹ã®ãŸã‚SSHéµèªè¨¼ã‚’è¨­å®šï¼š
   ```bash
   # éµãŒãªã‘ã‚Œã°ç”Ÿæˆ
   ssh-keygen -t ed25519
   
   # ã‚µãƒ¼ãƒãƒ¼ã«ã‚³ãƒ”ãƒ¼
   ssh-copy-id user@server.local
   ```

**SSHãƒˆãƒ³ãƒãƒªãƒ³ã‚°ã®åˆ©ç‚¹:**
- ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã‚„HTTPã‚µãƒ¼ãƒãƒ¼å®Ÿè£…ãŒä¸è¦
- æ—¢å­˜ã®SSHã‚¤ãƒ³ãƒ•ãƒ©ã¨èªè¨¼ã‚’æ´»ç”¨
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æš—å·åŒ–é€šä¿¡
- stdioãƒ™ãƒ¼ã‚¹ã®MCPãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’ãã®ã¾ã¾åˆ©ç”¨å¯èƒ½

**SSHãƒˆãƒ³ãƒãƒªãƒ³ã‚°ã®åˆ¶é™:**
- ã‚µãƒ¼ãƒãƒ¼ãƒã‚·ãƒ³ã¸ã®SSHã‚¢ã‚¯ã‚»ã‚¹ãŒå¿…è¦
- å„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒæ–°ã—ã„ã‚µãƒ¼ãƒãƒ¼ãƒ—ãƒ­ã‚»ã‚¹ã‚’èµ·å‹•ï¼ˆæ¥ç¶šé–“ã§çŠ¶æ…‹å…±æœ‰ãªã—ï¼‰
- åŒæ™‚æ›¸ãè¾¼ã¿ã®å ´åˆã€Gitã§`storage/blockchain.json`ã¨`knowledge/`ã‚’åŒæœŸ

**HTTP APIåŒ–ãŒå¿…è¦ãªå ´åˆ:**
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸãŒå¿…è¦
- èªè¨¼ãƒ»èªå¯ãŒå¿…è¦
- åŒæ™‚ç·¨é›†ã®ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±ºãŒå¿…è¦

---

### Q: ãƒãƒ¼ãƒ é‹ç”¨ã§kairos.rbã‚„kairos.mdã®å¤‰æ›´ã«æŠ•ç¥¨ã‚·ã‚¹ãƒ†ãƒ ã¯å¿…è¦ã§ã™ã‹ï¼Ÿ

**A:** ãƒãƒ¼ãƒ è¦æ¨¡ã¨è¦ä»¶ã«ã‚ˆã‚Šã¾ã™ã€‚

**ç¾åœ¨ã®å®Ÿè£…ï¼ˆå˜ä¸€æ‰¿èªè€…ãƒ¢ãƒ‡ãƒ«ï¼‰:**
```yaml
require_human_approval: true  # 1äººãŒæ‰¿èªã™ã‚Œã°OK
```

**ãƒãƒ¼ãƒ é‹ç”¨ã§å¿…è¦ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹æ©Ÿèƒ½:**

| æ©Ÿèƒ½ | L0 | L1 | L2 |
|------|----|----|----| 
| æŠ•ç¥¨ã‚·ã‚¹ãƒ†ãƒ  | æ¨å¥¨ | ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | ä¸è¦ |
| å®šè¶³æ•°ï¼ˆQuorumï¼‰ | æ¨å¥¨ | - | - |
| ææ¡ˆæœŸé–“ | æ¨å¥¨ | - | - |
| æ‹’å¦æ¨©ï¼ˆVetoï¼‰ | å ´åˆã«ã‚ˆã‚‹ | - | - |

**å°†æ¥çš„ã«å¿…è¦ãªãƒ„ãƒ¼ãƒ«ï¼ˆæœªå®Ÿè£…ï¼‰:**
```
governance_propose    - å¤‰æ›´ææ¡ˆã‚’ä½œæˆ
governance_vote       - ææ¡ˆã«æŠ•ç¥¨ï¼ˆè³›æˆ/åå¯¾/æ£„æ¨©ï¼‰
governance_status     - ææ¡ˆã®æŠ•ç¥¨çŠ¶æ³ã‚’ç¢ºèª
governance_execute    - é–¾å€¤ã‚’è¶…ãˆãŸææ¡ˆã‚’å®Ÿè¡Œ
```

**kairos.mdã®ç‰¹æ®Šæ€§:**

`kairos.md`ã¯ã€Œæ†²æ³•ã€ã«ç›¸å½“ã™ã‚‹ãŸã‚ã€ã‚·ã‚¹ãƒ†ãƒ å¤–ã§ã®åˆæ„å½¢æˆï¼ˆGitHub Discussionç­‰ï¼‰ã‚’æ¨å¥¨ã—ã¾ã™ï¼š

1. GitHub Issue / Discussionã§ææ¡ˆ
2. ãƒãƒ¼ãƒ å…¨å“¡ã§ã‚ªãƒ•ãƒ©ã‚¤ãƒ³è­°è«–
3. å…¨å“¡ä¸€è‡´ï¼ˆã¾ãŸã¯ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¸ãƒ§ãƒªãƒ†ã‚£ï¼‰ã§åˆæ„
4. æ‰‹å‹•ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ã‚³ãƒŸãƒƒãƒˆ

---

### Q: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ–¹æ³•ã¯ï¼Ÿ

**A:** ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã¾ã™ï¼š

```bash
cd KairosChain_mcp_server
ruby test_local.rb
```

ãƒ†ã‚¹ãƒˆå†…å®¹ï¼š
- Layer Registry ã®å‹•ä½œç¢ºèª
- 18å€‹ã®ã‚³ã‚¢MCPãƒ„ãƒ¼ãƒ«ä¸€è¦§
- ãƒªã‚½ãƒ¼ã‚¹ãƒ„ãƒ¼ãƒ«ï¼ˆresource_list, resource_readï¼‰
- L1 Knowledge ã®èª­ã¿æ›¸ã
- L2 Context ã®èª­ã¿æ›¸ã
- L0 Skills DSLï¼ˆ6ã‚¹ã‚­ãƒ«ï¼‰ã®èª­ã¿è¾¼ã¿

ãƒ†ã‚¹ãƒˆå¾Œã«ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆï¼ˆ`context/test_session`ï¼‰ãŒä½œæˆã•ã‚Œã‚‹ã®ã§ã€ä¸è¦ãªã‚‰å‰Šé™¤ã—ã¦ãã ã•ã„ï¼š
```bash
rm -rf context/test_session
```

---

### Q: kairos.rbã«å«ã¾ã‚Œã‚‹ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ã¯ä½•ã§ã™ã‹ï¼Ÿ

**A:** ç¾åœ¨8ã¤ã®ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ï¼š

| ã‚¹ã‚­ãƒ« | èª¬æ˜ | æ”¹å¤‰å¯èƒ½æ€§ |
|--------|------|------------|
| `l0_governance` | L0è‡ªå·±çµ±æ²»ãƒ«ãƒ¼ãƒ« | contentã®ã¿å¯ |
| `core_safety` | å®‰å…¨æ€§ã®åŸºç›¤ | ä¸å¯ï¼ˆ`deny :all`ï¼‰ |
| `evolution_rules` | é€²åŒ–ãƒ«ãƒ¼ãƒ«ã®å®šç¾© | contentã®ã¿å¯ |
| `layer_awareness` | ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ ã®èªè­˜ | contentã®ã¿å¯ |
| `approval_workflow` | æ‰¿èªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆä»˜ãï¼‰ | contentã®ã¿å¯ |
| `self_inspection` | è‡ªå·±æ¤œæŸ»èƒ½åŠ› | contentã®ã¿å¯ |
| `chain_awareness` | ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³èªè­˜ | contentã®ã¿å¯ |
| `audit_rules` | çŸ¥è­˜ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç›£æŸ»ãƒ«ãƒ¼ãƒ« | contentã®ã¿å¯ |

`l0_governance`ã‚¹ã‚­ãƒ«ã¯ç‰¹åˆ¥ãªå­˜åœ¨ã§ã™ï¼šã©ã®ã‚¹ã‚­ãƒ«ãŒL0ã«å­˜åœ¨ã§ãã‚‹ã‹ã‚’å®šç¾©ã—ã€è‡ªå·±å‚ç…§çš„çµ±æ²»ã¨ã„ã†Pure Agent Skillã®åŸå‰‡ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚

è©³ç´°ã¯ `skills/kairos.rb` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

### Q: L0ã‚¹ã‚­ãƒ«ã‚’å¤‰æ›´ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã§ã™ã‹ï¼Ÿæ‰‹é †ã¯ï¼Ÿ

**A:** L0ã®å¤‰æ›´ã«ã¯ã€äººé–“ã®ç›£è¦–ã‚’ä¼´ã†å³æ ¼ãªè¤‡æ•°ã‚¹ãƒ†ãƒƒãƒ—ã®æ‰‹é †ãŒå¿…è¦ã§ã™ã€‚ã“ã‚Œã¯æ„å›³çš„ãªè¨­è¨ˆã§ã™ â€” L0ã¯KairosChainã®ã€Œæ†²æ³•ã€ã§ã™ã€‚

**å‰ææ¡ä»¶ï¼š**
- `skills/config.yml`ã§`evolution_enabled: true`ï¼ˆæ‰‹å‹•ã§è¨­å®šãŒå¿…è¦ï¼‰
- ã‚»ãƒƒã‚·ãƒ§ãƒ³å†…ã®é€²åŒ–å›æ•° < `max_evolutions_per_session`ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 3ï¼‰
- å¯¾è±¡ã‚¹ã‚­ãƒ«ãŒ`immutable_skills`ã«å«ã¾ã‚Œã¦ã„ãªã„ï¼ˆ`core_safety`ã¯å¤‰æ›´ä¸å¯ï¼‰
- å¤‰æ›´ãŒã‚¹ã‚­ãƒ«ã®`evolve`ãƒ–ãƒ­ãƒƒã‚¯ã§è¨±å¯ã•ã‚Œã¦ã„ã‚‹

**ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã®æ‰‹é †ï¼š**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. äººé–“: config.ymlã§evolution_enabled: trueã‚’æ‰‹å‹•è¨­å®š          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. AI: skills_evolve command="propose" skill_id="..." def="..." â”‚
â”‚    - æ§‹æ–‡æ¤œè¨¼                                                    â”‚
â”‚    - l0_governanceã®allowed_skillsãƒã‚§ãƒƒã‚¯                      â”‚
â”‚    - evolveãƒ«ãƒ¼ãƒ«ãƒã‚§ãƒƒã‚¯                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. äººé–“: 15é …ç›®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆapproval_workflowï¼‰     â”‚
â”‚    - Traceabilityï¼ˆè¿½è·¡å¯èƒ½æ€§ï¼‰: 3é …ç›®                          â”‚
â”‚    - Consistencyï¼ˆæ•´åˆæ€§ï¼‰: 3é …ç›®                               â”‚
â”‚    - Scopeï¼ˆç¯„å›²ï¼‰: 3é …ç›®                                       â”‚
â”‚    - Authorityï¼ˆæ¨©é™ï¼‰: 3é …ç›®                                   â”‚
â”‚    - Pure Agent Complianceï¼ˆPureæº–æ‹ ï¼‰: 3é …ç›®                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. AI: skills_evolve command="apply" ... approved=true          â”‚
â”‚    - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä½œæˆ                               â”‚
â”‚    - kairos.rbæ›´æ–°                                              â”‚
â”‚    - ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«è¨˜éŒ²                                       â”‚
â”‚    - Kairos.reload!                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. æ¤œè¨¼: skills_dsl_get, chain_history, chain_verify            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. äººé–“: evolution_enabled: falseã«æˆ»ã™ï¼ˆæ¨å¥¨ï¼‰                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆï¼š**

| è¦³ç‚¹ | èª¬æ˜ |
|------|------|
| **é€²åŒ–ã®æœ‰åŠ¹åŒ–** | æ‰‹å‹•ã§è¨­å®šãŒå¿…è¦ï¼ˆAIã¯config.ymlã‚’å¤‰æ›´ã§ããªã„ï¼‰ |
| **æ‰¿èª** | äººé–“ãŒ15é …ç›®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’ç¢ºèª |
| **è¨˜éŒ²** | ã™ã¹ã¦ã®å¤‰æ›´ãŒãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«è¨˜éŒ² |
| **ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯** | `skills_rollback`ã§ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‹ã‚‰å¾©å…ƒå¯èƒ½ |
| **ä¸å¤‰** | `core_safety`ã¯å¤‰æ›´ä¸å¯ï¼ˆ`evolve deny :all`ï¼‰ |

**æ–°ã—ã„L0ã‚¹ã‚­ãƒ«ã‚¿ã‚¤ãƒ—ã‚’è¿½åŠ ã™ã‚‹å ´åˆï¼š**

å®Œå…¨ã«æ–°ã—ã„ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ã‚¿ã‚¤ãƒ—ï¼ˆä¾‹ï¼š`my_new_meta_skill`ï¼‰ã‚’è¿½åŠ ã™ã‚‹ã«ã¯ï¼š

1. ã¾ãš`l0_governance`ã‚’é€²åŒ–ã•ã›ã¦`allowed_skills`ãƒªã‚¹ãƒˆã«è¿½åŠ 
2. æ¬¡ã«`skills_evolve command="add"`ã§æ–°ã—ã„ã‚¹ã‚­ãƒ«ã‚’ä½œæˆ

ä¸¡æ–¹ã®ã‚¹ãƒ†ãƒƒãƒ—ã§äººé–“æ‰¿èªã¨ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆç¢ºèªãŒå¿…è¦ã§ã™ã€‚

**L1/L2ã¯å½±éŸ¿ã‚’å—ã‘ã¾ã›ã‚“ï¼š**

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | ãƒ„ãƒ¼ãƒ« | äººé–“æ‰¿èª | é€²åŒ–æœ‰åŠ¹åŒ– |
|---------|--------|----------|-----------|
| **L0** | `skills_evolve` | å¿…è¦ | å¿…è¦ |
| **L1** | `knowledge_update` | ä¸è¦ | ä¸è¦ |
| **L2** | `context_save` | ä¸è¦ | ä¸è¦ |

L1ã¨L2ã¯å¾“æ¥é€šã‚ŠAIãŒè‡ªç”±ã«å¤‰æ›´ã§ãã¾ã™ã€‚

---

### Q: L0 Auto-Checkã¨ã¯ä½•ã§ã™ã‹ï¼Ÿ15é …ç›®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’ã©ã†åŠ©ã‘ã¾ã™ã‹ï¼Ÿ

**A:** L0 Auto-Checkã¯ã€L0å¤‰æ›´å‰ã«**æ©Ÿæ¢°çš„ãªãƒã‚§ãƒƒã‚¯ã‚’è‡ªå‹•æ¤œè¨¼**ã™ã‚‹æ©Ÿèƒ½ã§ã€äººé–“ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼è² æ‹…ã‚’è»½æ¸›ã—ã¾ã™ã€‚

**ä»•çµ„ã¿ï¼š**

`skills_evolve command="propose"`ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ã‚·ã‚¹ãƒ†ãƒ ã¯`approval_workflow`ã‚¹ã‚­ãƒ«ï¼ˆL0ã®ä¸€éƒ¨ï¼‰ã§å®šç¾©ã•ã‚ŒãŸãƒã‚§ãƒƒã‚¯ã‚’è‡ªå‹•å®Ÿè¡Œã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šãƒã‚§ãƒƒã‚¯åŸºæº–ãŒè‡ªå·±å‚ç…§çš„ã«ä¿ãŸã‚Œã¾ã™ï¼ˆPure Agent Skillæº–æ‹ ï¼‰ã€‚

**ãƒã‚§ãƒƒã‚¯ã‚«ãƒ†ã‚´ãƒªï¼š**

| ã‚«ãƒ†ã‚´ãƒª | ã‚¿ã‚¤ãƒ— | é …ç›®æ•° | èª¬æ˜ |
|---------|-------|-------|------|
| **Consistency** | æ©Ÿæ¢°çš„ | 4 | allowed_skillså†…ã€éä¸å¤‰ã€æ§‹æ–‡æœ‰åŠ¹ã€evolveãƒ«ãƒ¼ãƒ« |
| **Authority** | æ©Ÿæ¢°çš„ | 2 | evolution_enabledã€ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ¶é™å†… |
| **Scope** | æ©Ÿæ¢°çš„ | 1 | ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯èƒ½ |
| **Traceability** | äººé–“ | 2 | ç†ç”±è¨˜è¼‰ã€L0ãƒ«ãƒ¼ãƒ«ã¸ã®è¿½è·¡å¯èƒ½ |
| **Pure Compliance** | äººé–“ | 2 | å¤–éƒ¨ä¾å­˜ãªã—ã€LLMéä¾å­˜ |

**å‡ºåŠ›ä¾‹ï¼š**

```
ğŸ“‹ L0 AUTO-CHECK REPORT
============================================================

âœ… All 7 mechanical checks PASSED. 3 items require human verification.

### Consistency
âœ… Skill in allowed_skills
   evolution_rules is in allowed_skills
âœ… Skill not immutable
   evolution_rules is not immutable
âœ… Ruby syntax valid
   Syntax is valid
âœ… Evolve rules permit change
   Skill's evolve rules allow modification

### Authority
âœ… Evolution enabled
   evolution_enabled: true in config
âœ… Within session limit
   1/3 evolutions used

### Scope
âœ… Rollback possible
   Version snapshots directory exists

### Traceability
âœ… Reason documented
   Reason: Updating for clarity
âš ï¸ Traceable to L0 rule
   âš ï¸ HUMAN CHECK: Verify this change can be traced to an explicit L0 rule.

### Pure Compliance
âš ï¸ No external dependencies
   âš ï¸ HUMAN CHECK: Verify the change doesn't introduce external dependencies.
âš ï¸ LLM-independent semantics
   âš ï¸ HUMAN CHECK: Would different LLMs interpret this change the same way?

------------------------------------------------------------
âš ï¸  3 item(s) require HUMAN verification.
    Review the âš ï¸ items above before approving.
------------------------------------------------------------
```

**ãƒ¡ãƒªãƒƒãƒˆï¼š**

| Auto-Checkãªã— | Auto-Checkã‚ã‚Š |
|---------------|---------------|
| äººé–“ãŒ15é …ç›®ã™ã¹ã¦ã‚’ç¢ºèª | AIãŒ7é …ç›®ã®æ©Ÿæ¢°çš„ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿæ–½ |
| æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã‚’è¦‹è½ã¨ã—ã‚„ã™ã„ | æ§‹æ–‡ãŒè‡ªå‹•æ¤œè¨¼ã•ã‚Œã‚‹ |
| l0_governanceã‚’æ‰‹å‹•ãƒã‚§ãƒƒã‚¯ | allowed_skillsã‚’è‡ªå‹•ãƒã‚§ãƒƒã‚¯ |
| æ§‹é€ åŒ–ã•ã‚ŒãŸãƒ¬ãƒãƒ¼ãƒˆãªã— | æ˜ç¢ºãªãƒ‘ã‚¹/ãƒ•ã‚§ã‚¤ãƒ«ãƒ¬ãƒãƒ¼ãƒˆ |

**ä½¿ç”¨æ–¹æ³•ï¼š**

```bash
# è¿½è·¡å¯èƒ½æ€§ã®ãŸã‚ã«ç†ç”±ã‚’å«ã‚ã‚‹
skills_evolve command="propose" skill_id="evolution_rules" definition="..." reason="é€²åŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’æ˜ç¢ºåŒ–"
```

**Pure Agent Skillæº–æ‹ ï¼š**

ãƒã‚§ãƒƒã‚¯ãƒ­ã‚¸ãƒƒã‚¯ã¯**L0å†…**ï¼ˆ`approval_workflow`ã‚¹ã‚­ãƒ«ã®behaviorãƒ–ãƒ­ãƒƒã‚¯å†…ï¼‰ã«å®šç¾©ã•ã‚Œã¦ãŠã‚Šã€å¤–éƒ¨ã‚³ãƒ¼ãƒ‰ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã‚Œã¯L0å¤‰æ›´ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹åŸºæº–è‡ªä½“ãŒL0ã®ä¸€éƒ¨ã§ã‚ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã€è‡ªå·±å‚ç…§çš„æ•´åˆæ€§ã‚’ç¶­æŒã—ã¦ã„ã¾ã™ã€‚

---

### Q: KairosChainã¯ã©ã®ã‚ˆã†ãªåˆ¤æ–­ã§è‡ªåˆ†ã®ã‚¹ã‚­ãƒ«ã‚’é€²åŒ–ã•ã›ã‚ˆã†ã¨ã—ã¾ã™ã‹ï¼Ÿãã®ãŸã‚ã®ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ

**A:** **KairosChainã¯æ„å›³çš„ã«ã€Œã„ã¤é€²åŒ–ã™ã¹ãã‹ã€ã‚’åˆ¤æ–­ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å«ã‚“ã§ã„ã¾ã›ã‚“ã€‚** ã“ã®åˆ¤æ–­ã¯äººé–“å´ï¼ˆã¾ãŸã¯äººé–“ã¨å¯¾è©±ã™ã‚‹AIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼‰ã«å§”ã­ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

**ç¾åœ¨ã®è¨­è¨ˆã«ãŠã‘ã‚‹è²¬ä»»åˆ†æ‹…ï¼š**

| è²¬ä»» | æ‹…å½“è€… | è©³ç´° |
|------|--------|------|
| **é€²åŒ–ã®åˆ¤æ–­ï¼ˆã„ã¤ãƒ»ä½•ã‚’ï¼‰** | äººé–“ / AIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ | KairosChainã®å¤–å´ |
| **é€²åŒ–ã®åˆ¶ç´„ï¼ˆè¨±å¯/æ‹’å¦ï¼‰** | KairosChain | å†…éƒ¨ãƒ«ãƒ¼ãƒ«ã§æ¤œè¨¼ |
| **é€²åŒ–ã®æ‰¿èª** | äººé–“ | æ˜ç¤ºçš„ãª `approved: true` |
| **é€²åŒ–ã®è¨˜éŒ²** | KairosChain | ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«è‡ªå‹•è¨˜éŒ² |

**æ—¢ã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ï¼š**
- âœ… é€²åŒ–ã®åˆ¶ç´„ï¼ˆ`SafeEvolver`ï¼‰
- âœ… ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆpropose â†’ review â†’ applyï¼‰
- âœ… ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ ï¼ˆL0/L1/L2ï¼‰
- âœ… 8ã¤ã®ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«å®šç¾©

**å®Ÿè£…ã•ã‚Œã¦ã„ãªã„ã‚‚ã®ï¼ˆè¨­è¨ˆä¸Šæ„å›³çš„ï¼‰ï¼š**
- âŒ ã€Œã„ã¤é€²åŒ–ã™ã¹ãã‹ã€ã®åˆ¤æ–­ãƒ­ã‚¸ãƒƒã‚¯
- âŒ èƒ½åŠ›ä¸è¶³ã®è‡ªå·±æ¤œçŸ¥
- âŒ å­¦ç¿’æ©Ÿä¼šã®èªè­˜
- âŒ é€²åŒ–ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶

**è¨­è¨ˆã®æ ¹æ‹ ï¼š**

ã“ã‚Œã¯æ„å›³çš„ãªã‚‚ã®ã§ã™ã€‚`kairos.md`ï¼ˆPHILOSOPHY-020 Minimum-Nomicï¼‰ã‚ˆã‚Šï¼š

| ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ | å•é¡Œ |
|-----------|------|
| å®Œå…¨å›ºå®šãƒ«ãƒ¼ãƒ« | é©å¿œä¸å¯ã€ã‚·ã‚¹ãƒ†ãƒ ãŒé™³è…åŒ– |
| **ç„¡åˆ¶é™ã®è‡ªå·±æ”¹å¤‰** | **ã‚«ã‚ªã‚¹ã€èª¬æ˜è²¬ä»»ãªã—** |

ã€Œç„¡åˆ¶é™ã®è‡ªå·±æ”¹å¤‰ã€ã‚’é¿ã‘ã‚‹ãŸã‚ã€KairosChainã¯é€²åŒ–ã®ãƒˆãƒªã‚¬ãƒ¼ã‚’æ„å›³çš„ã«å¤–éƒ¨ã‚¢ã‚¯ã‚¿ãƒ¼ã«å§”ã­ã¦ã„ã¾ã™ã€‚KairosChainã¯**ã‚²ãƒ¼ãƒˆã‚­ãƒ¼ãƒ‘ãƒ¼**ã¨**è¨˜éŒ²ä¿‚**ã¨ã—ã¦æ©Ÿèƒ½ã—ã€è‡ªå¾‹çš„ãªè‡ªå·±æ”¹å¤‰è€…ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

**å°†æ¥ã®æ‹¡å¼µå¯èƒ½æ€§ï¼š**

ã€Œã„ã¤é€²åŒ–ã™ã¹ãã‹ã€ã®ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ã‚’è¿½åŠ ã—ãŸã„å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã§ãã¾ã™ï¼š

```ruby
skill :evolution_trigger do
  version "1.0"
  title "Evolution Trigger Logic"
  
  evolve do
    allow :content      # ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶ã¯å¤‰æ›´å¯èƒ½
    deny :behavior      # åˆ¤æ–­ãƒ­ã‚¸ãƒƒã‚¯è‡ªä½“ã¯å›ºå®š
  end
  
  content <<~MD
    ## é€²åŒ–ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶
    
    1. åŒã˜ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒ3å›ä»¥ä¸Šç™ºç”Ÿã—ãŸå ´åˆ
    2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ˜ç¤ºçš„ã«ã€Œã“ã‚Œã‚’è¦šãˆã¦ã€ã¨è¨€ã£ãŸå ´åˆ
    3. æ–°ã—ã„ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ãŒæä¾›ã•ã‚ŒãŸå ´åˆ
    â†’ L1ã¸ã®ä¿å­˜ã‚’ææ¡ˆ
  MD
end
```

ãŸã ã—ã€ãã®ã‚ˆã†ãªãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ã‚’è¿½åŠ ã—ã¦ã‚‚ã€**æœ€çµ‚çš„ãªæ‰¿èªã¯äººé–“ãŒè¡Œã†ã¹ãã§ã™**ã€‚ã“ã‚Œã¯KairosChainã®å®‰å…¨è¨­è¨ˆã®æ ¸å¿ƒéƒ¨åˆ†ã§ã™ã€‚

---

### Q: ã‚¹ã‚­ãƒ«-ãƒ„ãƒ¼ãƒ«çµ±ä¸€ã¨ã¯ä½•ã§ã™ã‹ï¼ŸRubyãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã›ãšã«MCPãƒ„ãƒ¼ãƒ«ã‚’è¿½åŠ ã§ãã¾ã™ã‹ï¼Ÿ

**A:** ã¯ã„ï¼`kairos.rb`ã®ã‚¹ã‚­ãƒ«ã¯`tool`ãƒ–ãƒ­ãƒƒã‚¯ã§MCPãƒ„ãƒ¼ãƒ«ã‚’å®šç¾©ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚ŠL0-Bã§ã‚¹ã‚­ãƒ«ã¨ãƒ„ãƒ¼ãƒ«ãŒçµ±ä¸€ã•ã‚Œã¾ã™ã€‚

**ä»•çµ„ã¿ï¼š**

```ruby
# kairos.rbå†…
skill :my_custom_tool do
  version "1.0"
  title "My Custom Tool"
  
  # å¾“æ¥ã®behaviorï¼ˆã‚¹ã‚­ãƒ«å†…çœç”¨ï¼‰
  behavior do
    { capability: "..." }
  end
  
  # ãƒ„ãƒ¼ãƒ«å®šç¾©ï¼ˆMCPãƒ„ãƒ¼ãƒ«ã¨ã—ã¦å…¬é–‹ï¼‰
  tool do
    name "my_custom_tool"
    description "ä¾¿åˆ©ãªå‡¦ç†ã‚’è¡Œã†"
    
    input do
      property :arg, type: "string", description: "å¼•æ•°"
      required :arg
    end
    
    execute do |args|
      # ãƒ„ãƒ¼ãƒ«å®Ÿè£…
      { result: process(args["arg"]) }
    end
  end
end
```

**è¨­å®šã§æœ‰åŠ¹åŒ–ï¼š**

```yaml
# skills/config.yml
skill_tools_enabled: true   # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: false
```

**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆï¼š**
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯**ç„¡åŠ¹**ï¼ˆä¿å®ˆçš„ï¼‰
- ãƒ„ãƒ¼ãƒ«ã®è¿½åŠ ãƒ»å¤‰æ›´ã«ã¯`kairos.rb`ã®ç·¨é›†ãŒå¿…è¦ï¼ˆL0åˆ¶ç´„ãŒé©ç”¨ï¼‰
- å¤‰æ›´ã«ã¯äººé–“ã®æ‰¿èªãŒå¿…è¦ï¼ˆ`approved: true`ï¼‰
- ã™ã¹ã¦ã®å¤‰æ›´ã¯ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«è¨˜éŒ²
- Minimum-Nomicã«åˆè‡´ï¼šã€Œå¤‰æ›´ã§ãã‚‹ãŒã€è¨˜éŒ²ã•ã‚Œã‚‹ã€

**ãªãœã“ã‚Œã»ã©å³æ ¼ãªã®ã‹ï¼Ÿ**

L0ï¼ˆ`kairos.rb`ï¼‰ã¯æ„å›³çš„ã«**ä¸‰é‡ã®ä¿è­·**ã§ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã¾ã™ï¼š

| ä¿è­· | è¨­å®š | åŠ¹æœ |
|------|------|------|
| 1 | `evolution_enabled: false` | kairos.rbã®å¤‰æ›´ã‚’ãƒ–ãƒ­ãƒƒã‚¯ |
| 2 | `require_human_approval: true` | æ˜ç¤ºçš„ãªäººé–“ã®æ‰¿èªãŒå¿…è¦ |
| 3 | `skill_tools_enabled: false` | ã‚¹ã‚­ãƒ«ãŒãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ç™»éŒ²ã•ã‚Œãªã„ |

**é‡è¦ï¼š** `config.yml`ã‚’å¤‰æ›´ã™ã‚‹MCPãƒ„ãƒ¼ãƒ«ã¯å­˜åœ¨ã—ã¾ã›ã‚“ã€‚LLMã«ã€Œã“ã®è¨­å®šã‚’å¤‰æ›´ã—ã¦ã€ã¨é ¼ã‚“ã§ã‚‚ã€LLMã«ã¯å¤‰æ›´ã™ã‚‹æ‰‹æ®µãŒã‚ã‚Šã¾ã›ã‚“ã€‚äººé–“ãŒæ‰‹å‹•ã§`config.yml`ã‚’ç·¨é›†ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ã“ã‚Œã¯è¨­è¨ˆä¸Šã®æ„å›³ã§ã™ï¼šL0ã¯æ³•çš„é¡æ¨ã«ãŠã‘ã‚‹ã€Œæ†²æ³•ãƒ»æ³•å¾‹ã€ã«ç›¸å½“ã—ã€é »ç¹ã«å¤‰æ›´ã•ã‚Œã‚‹ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚é »ç¹ãªãƒ„ãƒ¼ãƒ«è¿½åŠ ãŒå¿…è¦ãªå ´åˆã¯ã€ä»¥ä¸‹ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ï¼š

- **ç¾åœ¨ã®åˆ¶é™**ï¼š`tool`ãƒ–ãƒ­ãƒƒã‚¯ã¯L0ã®ã¿ã§ã‚µãƒãƒ¼ãƒˆ
- **å°†æ¥ã®å¯èƒ½æ€§**ï¼šL1ã§ã®ãƒ„ãƒ¼ãƒ«å®šç¾©ã‚µãƒãƒ¼ãƒˆï¼ˆè»½é‡ãªåˆ¶ç´„ã€äººé–“æ‰¿èªä¸è¦ã€ãƒãƒƒã‚·ãƒ¥ã®ã¿è¨˜éŒ²ï¼‰

ã»ã¨ã‚“ã©ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã¯ã€**L0ãƒ„ãƒ¼ãƒ«ã‚’é »ç¹ã«å¤‰æ›´ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“**ã€‚å³æ ¼ãªãƒ­ãƒƒã‚¯ã¯ã‚·ã‚¹ãƒ†ãƒ ã®æ•´åˆæ€§ã‚’ç¢ºä¿ã—ã¾ã™ã€‚

---

### Q: kairos.rbçµŒç”±ã§ãƒ„ãƒ¼ãƒ«ã‚’è¿½åŠ ã™ã‚‹å ´åˆã¨ã€tools/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç›´æ¥è¿½åŠ ã™ã‚‹å ´åˆã®é•ã„ã¯ï¼Ÿ

**A:** KairosChainã«MCPãƒ„ãƒ¼ãƒ«ã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•ã¯2ã¤ã‚ã‚Šã¾ã™ï¼š

1. **`kairos.rb`çµŒç”±ï¼ˆL0ï¼‰**: ã‚¹ã‚­ãƒ«å®šç¾©å†…ã§`tool`ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ç”¨
2. **`tools/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªçµŒç”±**: `lib/kairos_mcp/tools/`ã«Rubyãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥è¿½åŠ 

**æ©Ÿèƒ½çš„ãªåŒç­‰æ€§:** ã©ã¡ã‚‰ã®æ–¹æ³•ã‚‚LLMã‹ã‚‰å‘¼ã³å‡ºã—å¯èƒ½ãªMCPãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ç™»éŒ²ã•ã‚Œã¾ã™ã€‚

**ä¸»ãªé•ã„:**

| è¦³ç‚¹ | `kairos.rb` (L0) | `tools/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª |
|------|------------------|---------------------|
| è¿½åŠ æ–¹æ³• | `skills_evolve`ãƒ„ãƒ¼ãƒ«çµŒç”± | æ‰‹å‹•ã§ãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ  |
| äººé–“æ‰¿èª | **å¿…é ˆ** | ä¸è¦ |
| ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ² | **ã‚ã‚Š**ï¼ˆå®Œå…¨è¨˜éŒ²ï¼‰ | ãªã— |
| æœ‰åŠ¹åŒ–æ¡ä»¶ | `skill_tools_enabled: true` | å¸¸ã«æœ‰åŠ¹ |
| KairosChainç®¡ç†ä¸‹ | **ã¯ã„** | ã„ã„ãˆ |

**é‡è¦:** `tools/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸ã®ç›´æ¥è¿½åŠ ã¯**KairosChainçµŒç”±ã§ã¯ã‚ã‚Šã¾ã›ã‚“**ã€‚é€šå¸¸ã®ã‚³ãƒ¼ãƒ‰å¤‰æ›´ï¼ˆgitã§è¿½è·¡ã•ã‚Œã‚‹ãŒã€KairosChainã®ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã§ã¯ç›£æŸ»ã•ã‚Œãªã„ï¼‰ã§ã™ã€‚

**è¨­è¨ˆä¸Šã®æ„å›³:**

- **ã‚³ã‚¢ã‚¤ãƒ³ãƒ•ãƒ©**ï¼ˆ`tools/`ï¼‰: KairosChainè‡ªä½“ãŒå‹•ä½œã™ã‚‹ãŸã‚ã«å¿…è¦ãªãƒ„ãƒ¼ãƒ«ã€‚é »ç¹ã«å¤‰æ›´ã•ã‚Œã‚‹ã¹ãã§ã¯ãªã„
- **æ‹¡å¼µãƒ„ãƒ¼ãƒ«**ï¼ˆ`kairos.rb`ï¼‰: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¿½åŠ ã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒ„ãƒ¼ãƒ«ã€‚å¤‰æ›´å±¥æ­´ã‚’ç›£æŸ»ã—ãŸã„å ´åˆã«ä½¿ç”¨

ã¤ã¾ã‚Šï¼š
- `kairos.rb`çµŒç”±: ã€Œå³æ ¼ã ãŒç›£æŸ»å¯èƒ½ã€
- `tools/`çµŒç”±: ã€Œè‡ªç”±ã ãŒç›£æŸ»å¯¾è±¡å¤–ã€

**å°†æ¥ã®æ¤œè¨äº‹é …:** L1ã§ã®ãƒ„ãƒ¼ãƒ«å®šç¾©ã‚µãƒãƒ¼ãƒˆï¼ˆè»½é‡ãªåˆ¶ç´„ã€ãƒãƒƒã‚·ãƒ¥ã®ã¿è¨˜éŒ²ï¼‰ãŒè¿½åŠ ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚L0ã®å³æ ¼ãªåˆ¶å¾¡ã¯ä¸è¦ã ãŒä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«ã®è¿½åŠ ã«é©ã—ã¦ã„ã¾ã™ã€‚

---

### Q: KairosChainã¯LLMã«å¯¾ã—ã¦ã‚¹ã‚­ãƒ«ä½œæˆã‚’è‡ªç™ºçš„ã«æ¨å¥¨ã™ã¹ãã§ã™ã‹ï¼Ÿ

**A:** **ã„ã„ãˆã€‚KairosChainã¯ã€Œè¨˜éŒ²ã¨åˆ¶ç´„ã€ã«å°‚å¿µã™ã¹ãã§ã‚ã‚Šã€ã€Œã„ã¤å­¦ã¶ã¹ãã‹ã€ã‚’æ¨å¥¨ã™ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚** ã‚¹ã‚­ãƒ«ä½œæˆã‚’æ¨å¥¨ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã¯ã€LLM/AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå´ï¼ˆCursor Rulesã€system_promptãªã©ï¼‰ã«å§”ã­ã‚‹ã¹ãã§ã™ã€‚

**ãªãœã“ã®åˆ†é›¢ãŒé‡è¦ã‹ï¼Ÿ**

| è¦³ç‚¹ | KairosChainå´ã§å®Ÿè£… | LLM/ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå´ã«å§”è­² |
|------|---------------------|------------------------|
| **Minimum-NomicåŸå‰‡** | ã€Œå¤‰æ›´ã¯ç¨€ã§é«˜ã‚³ã‚¹ãƒˆã§ã‚ã‚‹ã¹ãã€ | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå­¦ç¿’ã®ä¾¡å€¤ã‚’åˆ¤æ–­ |
| **è²¬ä»»ã®åˆ†é›¢** | KairosChain = ã‚²ãƒ¼ãƒˆã‚­ãƒ¼ãƒ‘ãƒ¼ï¼†è¨˜éŒ²ä¿‚ | LLM = å­¦ç¿’ãƒˆãƒªã‚¬ãƒ¼ã®æ±ºå®šè€… |
| **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§** | å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«åŒã˜åˆ¶ç´„ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«ç•°ãªã‚‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¨­å®šãŒå¯èƒ½ |
| **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ³¨å…¥ãƒªã‚¹ã‚¯** | æ¨å¥¨ãƒ­ã‚¸ãƒƒã‚¯è‡ªä½“ãŒæ”»æ’ƒå¯¾è±¡ã« | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå´ã§é˜²å¾¡å¯èƒ½ |

**KairosChainã®å½¹å‰²ï¼š**
- âœ… ã‚¹ã‚­ãƒ«å¤‰æ›´ã‚’ä¸å¤‰çš„ã«è¨˜éŒ²
- âœ… é€²åŒ–ã®åˆ¶ç´„ã‚’å¼·åˆ¶ï¼ˆæ‰¿èªã€ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ«ãƒ¼ãƒ«ï¼‰
- âœ… ã‚¹ã‚­ãƒ«ç®¡ç†ã®ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã‚’æä¾›
- âŒ ã€Œã„ã¤ã€ã€Œä½•ã‚’ã€å­¦ã¶ã‹ã‚’æ±ºå®š

**è‡ªç™ºçš„ãªã‚¹ã‚­ãƒ«æ¨å¥¨ã®æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼š**

AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆCursor Rulesã€Claude system_promptãªã©ï¼‰ã«ä»¥ä¸‹ã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼š

```markdown
# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå­¦ç¿’ãƒ«ãƒ¼ãƒ«

## ã‚¹ã‚­ãƒ«ä½œæˆã‚’æ¨å¥¨ã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°
- è¤‡æ•°å›ã®è©¦è¡Œã‚’å¿…è¦ã¨ã—ãŸå•é¡Œã‚’è§£æ±ºã—ãŸå¾Œ
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã„ã¤ã‚‚å¿˜ã‚Œã‚‹...ã€ã‚„ã€Œã“ã‚Œã¯ã‚ˆãã‚ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã€ã¨è¨€ã£ãŸå ´åˆ
- ä¼¼ãŸã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒç¹°ã‚Šè¿”ã—ç”Ÿæˆã•ã‚ŒãŸå ´åˆ

## æ¨å¥¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
ã€Œ[ãƒ‘ã‚¿ãƒ¼ãƒ³]ã«æ°—ã¥ãã¾ã—ãŸã€‚ã“ã‚Œã‚’KairosChainã‚¹ã‚­ãƒ«ã¨ã—ã¦ä¿å­˜ã—ã¾ã™ã‹ï¼Ÿã€

## KairosChainãƒ„ãƒ¼ãƒ«ã®ä½¿ç”¨ï¼š
- L2: ä¸€æ™‚çš„ãªä»®èª¬ã«ã¯ `context_save`
- L1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ã«ã¯ `knowledge_update`ï¼ˆãƒãƒƒã‚·ãƒ¥ã®ã¿è¨˜éŒ²ï¼‰
- L0: ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ã«ã¯ `skills_evolve`ï¼ˆäººé–“æ‰¿èªãŒå¿…è¦ï¼‰
```

ã“ã‚Œã«ã‚ˆã‚Šã€KairosChainã¯**ä¸­ç«‹çš„ãªã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£**ã¨ã—ã¦ç¶­æŒã•ã‚Œã€å„ãƒãƒ¼ãƒ /ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ¬ãƒ™ãƒ«ã§ç‹¬è‡ªã®å­¦ç¿’ãƒãƒªã‚·ãƒ¼ã‚’å®šç¾©ã§ãã¾ã™ã€‚

**ã‚¹ã‚­ãƒ«æ˜‡æ ¼ãƒˆãƒªã‚¬ãƒ¼ï¼ˆåŒã˜åŸå‰‡ãŒé©ç”¨ï¼‰ï¼š**

KairosChainã¯ã‚¹ã‚­ãƒ«æ˜‡æ ¼ï¼ˆL2â†’L1â†’L0ï¼‰ã‚‚è‡ªç™ºçš„ã«ææ¡ˆã—ã¾ã›ã‚“ã€‚AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«æ˜‡æ ¼ã‚’ææ¡ˆã•ã›ã‚‹ã‚ˆã†è¨­å®šã—ã¦ãã ã•ã„ï¼š

```markdown
# ã‚¹ã‚­ãƒ«æ˜‡æ ¼ãƒ«ãƒ¼ãƒ«ï¼ˆä¸Šè¨˜ã«è¿½åŠ ï¼‰

## L2 â†’ L1 æ˜‡æ ¼ã‚’ææ¡ˆã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°
- åŒã˜ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒ3å›ä»¥ä¸Šã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ã¾ãŸã„ã§å‚ç…§ã•ã‚ŒãŸ
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã“ã‚Œã¯ä¾¿åˆ©ã€ã€Œã“ã‚Œã‚’æ®‹ã—ãŸã„ã€ã¨è¨€ã£ãŸ
- ä»®èª¬ãŒå®Ÿéš›ã®ä½¿ç”¨ã§æ¤œè¨¼ã•ã‚ŒãŸ

## L1 â†’ L0 æ˜‡æ ¼ã‚’ææ¡ˆã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°
- çŸ¥è­˜ãŒKairosChainè‡ªä½“ã®å‹•ä½œã‚’è¦å®šã™ã‚‹
- æˆç†Ÿã—ãŸå®‰å®šãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã€é »ç¹ã«å¤‰æ›´ã™ã¹ãã§ãªã„
- ãƒãƒ¼ãƒ åˆæ„ãŒå¾—ã‚‰ã‚ŒãŸï¼ˆå…±æœ‰ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®å ´åˆï¼‰

## æ˜‡æ ¼ææ¡ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
ã€Œã“ã®çŸ¥è­˜ã¯è¤‡æ•°ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§æœ‰ç”¨ã§ã—ãŸã€‚
L2ã‹ã‚‰L1ã«æ˜‡æ ¼ã—ã¦æ°¸ç¶šåŒ–ã—ã¾ã™ã‹ï¼Ÿã€

## KairosChainãƒ„ãƒ¼ãƒ«ã®ä½¿ç”¨ï¼š
- `skills_promote command="analyze"` - Persona Assemblyã§è­°è«–
- `skills_promote command="promote"` - ç›´æ¥æ˜‡æ ¼
```

---

### Q: ã‚¹ã‚­ãƒ«ã‚„ãƒŠãƒ¬ãƒƒã‚¸åŒå£«ã§çŸ›ç›¾ãŒç”Ÿã˜ãŸã‚‰ã©ã†ãªã‚Šã¾ã™ã‹ï¼Ÿ

**A:** ç¾çŠ¶ã€KairosChainã¯ã‚¹ã‚­ãƒ«/ãƒŠãƒ¬ãƒƒã‚¸é–“ã®**çŸ›ç›¾ã‚’è‡ªå‹•æ¤œå‡ºã™ã‚‹æ©Ÿèƒ½ã‚’æŒã£ã¦ã„ã¾ã›ã‚“**ã€‚ã“ã‚Œã¯è¨­è¨ˆãƒšãƒ¼ãƒ‘ãƒ¼ã§ã‚‚èªè­˜ã•ã‚Œã¦ã„ã‚‹åˆ¶é™äº‹é …ã§ã™ã€‚

**ãªãœè‡ªå‹•æ¤œå‡ºã—ãªã„ã®ã‹ï¼Ÿ**

KairosChainã¯æ„å›³çš„ã«ã€Œåˆ¤æ–­ã€ã‚’å¤–éƒ¨ï¼ˆLLM/äººé–“ï¼‰ã«å§”ã­ã¦ã„ã¾ã™ï¼š

| KairosChainã®è²¬å‹™ | å¤–éƒ¨ã«å§”ã­ã‚‹ |
|------------------|-------------|
| å¤‰æ›´ã‚’è¨˜éŒ²ã™ã‚‹ | ä½•ã‚’ä¿å­˜ã™ã¹ãã‹åˆ¤æ–­ã™ã‚‹ |
| åˆ¶ç´„ã‚’å¼·åˆ¶ã™ã‚‹ | å†…å®¹ã®å¦¥å½“æ€§ã‚’åˆ¤æ–­ã™ã‚‹ |
| å±¥æ­´ã‚’ä¿æŒã™ã‚‹ | çŸ›ç›¾ã‚’è§£æ±ºã™ã‚‹ |

**çŸ›ç›¾ãŒç”Ÿã˜ãŸå ´åˆã®ç¾åœ¨ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼š**

1. **æš—é»™ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼å„ªå…ˆé †ä½**: `L0ï¼ˆãƒ¡ã‚¿ãƒ«ãƒ¼ãƒ«ï¼‰> L1ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ï¼‰> L2ï¼ˆä¸€æ™‚ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼‰` â€” ã‚ˆã‚Šä½ã„ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒå„ªå…ˆ
2. **LLMã®è§£é‡ˆ**: è¤‡æ•°ã®ã‚¹ã‚­ãƒ«ãŒå‚ç…§ã•ã‚ŒãŸå ´åˆã€LLMãŒæ–‡è„ˆã«å¿œã˜ã¦è§£é‡ˆãƒ»èª¿åœ
3. **äººé–“ã«ã‚ˆã‚‹è§£æ±º**: é‡è¦ãªçŸ›ç›¾ã¯ã€äººé–“ãŒé–¢é€£ã‚¹ã‚­ãƒ«ã‚’æ›´æ–°ã—ã¦è§£æ±º

**å°†æ¥ã®å¯èƒ½æ€§ï¼š**

çŸ›ç›¾æ¤œå‡ºã‚’L1ãƒŠãƒ¬ãƒƒã‚¸ã¾ãŸã¯L0ã‚¹ã‚­ãƒ«ã¨ã—ã¦è¿½åŠ ã™ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã™ï¼š

```markdown
# çŸ›ç›¾æ¤œå‡ºã‚¹ã‚­ãƒ«ï¼ˆä¾‹ï¼‰

## æ¤œå‡ºãƒ«ãƒ¼ãƒ«
- åŒã˜ãƒˆãƒ”ãƒƒã‚¯ã§ç•°ãªã‚‹æ¨å¥¨äº‹é …
- ç›¸åã™ã‚‹constraintå®šç¾©
- å¾ªç’°ä¾å­˜

## è§£æ±ºãƒ•ãƒ­ãƒ¼
1. æ¤œå‡ºæ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è­¦å‘Š
2. Persona Assemblyã§è­°è«–ã‚’ç”Ÿæˆ
3. äººé–“ãŒæœ€çµ‚åˆ¤æ–­
```

ãŸã ã—ã€ã€Œä½•ã‚’çŸ›ç›¾ã¨ã¿ãªã™ã‹ã€è‡ªä½“ãŒå“²å­¦çš„ãªå•é¡Œã§ã‚ã‚Šã€KairosChainã®ç¾è¨­è¨ˆã¯æ„å›³çš„ã«ãã“ã«è¸ã¿è¾¼ã‚“ã§ã„ã¾ã›ã‚“ã€‚

---

### Q: ã‚¹ã‚­ãƒ«ãŒæºœã¾ã‚Šã™ããŸã‚‰ã©ã†ãªã‚Šã¾ã™ã‹ï¼Ÿã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã®ä»•çµ„ã¿ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ

**A:** KairosChainã¯ `skills_audit` ãƒ„ãƒ¼ãƒ«ã§å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®çŸ¥è­˜ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚

**`skills_audit` ãƒ„ãƒ¼ãƒ«ã®æ©Ÿèƒ½ï¼š**

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|---------|------|
| `check` | L0/L1/L2ãƒ¬ã‚¤ãƒ¤ãƒ¼å…¨ä½“ã®å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯ |
| `stale` | å¤ããªã£ãŸé …ç›®ã‚’æ¤œå‡ºï¼ˆãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥é–¾å€¤ï¼‰ |
| `conflicts` | çŸ¥è­˜é–“ã®æ½œåœ¨çš„ãªçŸ›ç›¾ã‚’æ¤œå‡º |
| `dangerous` | L0å®‰å…¨æ€§ã¨çŸ›ç›¾ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œå‡º |
| `recommend` | æ˜‡æ ¼/ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã®æ¨å¥¨ã‚’å–å¾— |
| `archive` | L1çŸ¥è­˜ã‚’ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆäººé–“ã®æ‰¿èªãŒå¿…è¦ï¼‰ |
| `unarchive` | ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‹ã‚‰å¾©å…ƒï¼ˆäººé–“ã®æ‰¿èªãŒå¿…è¦ï¼‰ |

**ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥ã®å¤ã•é–¾å€¤ï¼š**

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | é–¾å€¤ | ç†ç”± |
|---------|------|------|
| L0 | æ—¥ä»˜ãƒã‚§ãƒƒã‚¯ãªã— | å®‰å®šæ€§ã¯æ©Ÿèƒ½ã§ã‚ã‚Šå¤ã•ã§ã¯ãªã„ |
| L1 | 180æ—¥ | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ã¯å®šæœŸçš„ã«ãƒ¬ãƒ“ãƒ¥ãƒ¼ã™ã¹ã |
| L2 | 14æ—¥ | ä¸€æ™‚ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¯ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã™ã¹ã |

**ä½¿ç”¨ä¾‹ï¼š**

```bash
# å…¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯
skills_audit command="check" layer="all"

# å¤ã„L1çŸ¥è­˜ã‚’æ¤œå‡º
skills_audit command="stale" layer="L1"

# ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã¨æ˜‡æ ¼ã®æ¨å¥¨ã‚’å–å¾—
skills_audit command="recommend"

# Persona Assemblyã§è©³ç´°åˆ†æ
skills_audit command="check" with_assembly=true assembly_mode="discussion"

# å¤ã„çŸ¥è­˜ã‚’ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆäººé–“ã®æ‰¿èªãŒå¿…è¦ï¼‰
skills_audit command="archive" target="old_knowledge" reason="1å¹´ä»¥ä¸Šæœªä½¿ç”¨" approved=true
```

**ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã®ä»•çµ„ã¿ï¼š**

- ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã•ã‚ŒãŸçŸ¥è­˜ã¯ `knowledge/.archived/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
- ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆç†ç”±ã€æ—¥ä»˜ã€å¾Œç¶™ï¼‰ã¯ `.archive_meta.yml` ã«ä¿å­˜
- ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã•ã‚ŒãŸé …ç›®ã¯é€šå¸¸ã®æ¤œç´¢ã‹ã‚‰é™¤å¤–ã•ã‚Œã‚‹ãŒå¾©å…ƒå¯èƒ½
- ã™ã¹ã¦ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–/å¾©å…ƒæ“ä½œã¯ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«è¨˜éŒ²

**äººé–“ã®ç›£è¦–ï¼š**

ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã¨å¾©å…ƒæ“ä½œã«ã¯æ˜ç¤ºçš„ãªäººé–“ã®æ‰¿èªï¼ˆ`approved: true`ï¼‰ãŒå¿…è¦ã§ã™ã€‚ã“ã®ãƒ«ãƒ¼ãƒ«ã¯L0ã® `audit_rules` ã‚¹ã‚­ãƒ«ã§å®šç¾©ã•ã‚Œã¦ãŠã‚Šã€ãã‚Œè‡ªä½“ã‚‚å¤‰æ›´å¯èƒ½ï¼ˆL0-Bï¼‰ã§ã™ã€‚

---

### Q: ã‚¹ã‚­ãƒ«ãŒé–“é•ã£ã¦ã„ãŸã‚Šå¤ããªã£ã¦ã„ãŸã‚Šã—ãŸå ´åˆã€ã©ã†ã‚„ã£ã¦ä¿®æ­£ã—ã¾ã™ã‹ï¼Ÿ

**A:** KairosChainã¯å•é¡Œã®ã‚ã‚‹çŸ¥è­˜ã‚’ç‰¹å®šãƒ»ä¿®æ­£ã™ã‚‹ãŸã‚ã®è¤‡æ•°ã®ãƒ„ãƒ¼ãƒ«ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚

**ã‚¹ãƒ†ãƒƒãƒ—1: `skills_audit`ã§å•é¡Œã‚’ç‰¹å®š**

```bash
# å±é™ºãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ãƒã‚§ãƒƒã‚¯ï¼ˆå®‰å…¨æ€§ã®çŸ›ç›¾ï¼‰
skills_audit command="dangerous" layer="L1"

# å¤ã„çŸ¥è­˜ã‚’ãƒã‚§ãƒƒã‚¯
skills_audit command="stale" layer="L1"

# Persona Assemblyã§è©³ç´°ãªå¥å…¨æ€§ãƒã‚§ãƒƒã‚¯
skills_audit command="check" with_assembly=true
```

**ã‚¹ãƒ†ãƒƒãƒ—2: çŸ¥è­˜ãƒ„ãƒ¼ãƒ«ã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ä¿®æ­£**

| ãƒ„ãƒ¼ãƒ« | ç”¨é€” |
|--------|------|
| `knowledge_get` | ã‚¹ã‚­ãƒ«å†…å®¹ã‚’å–å¾—ã—ã¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ |
| `knowledge_update command="update"` | ã‚¹ã‚­ãƒ«ã‚’ä¿®æ­£ï¼ˆãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«è¨˜éŒ²ï¼‰ |
| `skills_audit command="archive"` | å»ƒæ­¢ã•ã‚ŒãŸã‚‚ã®ã‚’ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆäººé–“ã®æ‰¿èªãŒå¿…è¦ï¼‰ |

**ä¿®æ­£ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼š**

```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼šã€Œãã®å›ç­”ãŠã‹ã—ã„ã€‚å‚ç…§ã—ãŸã‚¹ã‚­ãƒ«ã‚’è¦‹ã›ã¦ã€
2. LLMï¼šknowledge_get name="skill_name" ã‚’å‘¼ã³å‡ºã—
3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼šã€ŒXã«ã¤ã„ã¦ã®éƒ¨åˆ†ãŒå¤ã„ã€‚ç›´ã—ã¦ã€
4. LLMï¼šä¿®æ­£å†…å®¹ã‚’ææ¡ˆ
5. ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼šå¤‰æ›´ã‚’æ‰¿èª
6. LLMï¼šknowledge_update command="update" content="..." reason="ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯: å¤ã„æƒ…å ±"
```

**å»ƒæ­¢ã•ã‚ŒãŸçŸ¥è­˜ã®å ´åˆï¼ˆå‰Šé™¤ã§ã¯ãªãã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼‰ï¼š**

```bash
# å»ƒæ­¢ã•ã‚ŒãŸçŸ¥è­˜ã‚’ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆå±¥æ­´ã‚’ä¿æŒã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ¤œç´¢ã‹ã‚‰é™¤å¤–ï¼‰
skills_audit command="archive" target="outdated_skill" reason="new_skillã«ç½®ãæ›ãˆ" approved=true

# å¾Œã§å¿…è¦ã«ãªã£ãŸå ´åˆã€ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‹ã‚‰å¾©å…ƒ
skills_audit command="unarchive" target="outdated_skill" reason="ã¾ã é–¢é€£æ€§ã‚ã‚Š" approved=true
```

**å±é™ºãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¤œå‡ºï¼š**

`skills_audit command="dangerous"` ã¯ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ï¼š
- å®‰å…¨ãƒã‚§ãƒƒã‚¯ã®ãƒã‚¤ãƒ‘ã‚¹ã‚’ç¤ºå”†ã™ã‚‹è¨€è‘‰
- ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸèªè¨¼æƒ…å ±ã‚„APIã‚­ãƒ¼
- L0ã® `core_safety` ã¨çŸ›ç›¾ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³

**ç©æ¥µçš„ãªãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ï¼š**

AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆCursor Rules / system_promptï¼‰ã«å®šæœŸçš„ãªç›£æŸ»ã‚’æ¨å¥¨ã™ã‚‹ã‚ˆã†è¨­å®šã—ã¦ãã ã•ã„ï¼š

```markdown
# ã‚¹ã‚­ãƒ«å“è³ªãƒ«ãƒ¼ãƒ«

## å®šæœŸç›£æŸ»
- æœˆæ¬¡ã¾ãŸã¯å•é¡Œç™ºç”Ÿæ™‚ã« `skills_audit command="check"` ã‚’å®Ÿè¡Œ
- `skills_audit command="recommend"` ã®æ¨å¥¨ã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼

## ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå•é¡Œã‚’å ±å‘Šã—ãŸå ´åˆ
1. `skills_audit command="dangerous"` ã§å®‰å…¨æ€§ã®å•é¡Œã‚’ãƒã‚§ãƒƒã‚¯
2. `knowledge_get` ã§ç‰¹å®šã®ã‚¹ã‚­ãƒ«ã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼
3. `knowledge_update` ã§ä¿®æ­£ã€ã¾ãŸã¯å»ƒæ­¢ã•ã‚Œã¦ã„ã‚Œã°ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–
```

---

### Q: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¨SQLiteã®é•ã„ã¯ä½•ã§ã™ã‹ï¼Ÿ

**A:** KairosChainã¯2ç¨®é¡ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ï¼š

| è¦³ç‚¹ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ | SQLite |
|------|----------------------------|--------|
| è¨­å®š | ä¸è¦ | gemã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« + configå¤‰æ›´ |
| åŒæ™‚ã‚¢ã‚¯ã‚»ã‚¹ | é™å®šçš„ | WALãƒ¢ãƒ¼ãƒ‰ã§æ”¹å–„ |
| äººé–“å¯èª­æ€§ | ç›´æ¥JSONã‚’ç¢ºèªå¯èƒ½ | ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãŒå¿…è¦ |
| ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— | ãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ”ãƒ¼ | .dbãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ”ãƒ¼ |
| é©åˆè¦æ¨¡ | å€‹äºº | å°è¦æ¨¡ãƒãƒ¼ãƒ ï¼ˆ2-10äººï¼‰ |

**ç§»è¡Œã¯ç°¡å˜ï¼š**

1. `gem install sqlite3`
2. config.ymlã§`backend: sqlite`ã«å¤‰æ›´
3. `Importer.rebuild_from_files`ã§ç§»è¡Œ
4. ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•

è©³ç´°ã¯ã€Œã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šSQLiteã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

### Q: Pure Agent Skillã¨ã¯ä½•ã§ã™ã‹ï¼Ÿãªãœé‡è¦ã§ã™ã‹ï¼Ÿ

**A:** Pure Agent Skillã¯ã€L0ã®æ„å‘³è«–çš„è‡ªå·±å®Œçµæ€§ã‚’ä¿è¨¼ã™ã‚‹è¨­è¨ˆåŸå‰‡ã§ã™ã€‚æ ¹æœ¬çš„ãªå•ã„ã«ç­”ãˆã¾ã™ï¼š**AIã‚·ã‚¹ãƒ†ãƒ ã¯å¤–éƒ¨ä¾å­˜ãªã—ã«è‡ªèº«ã®é€²åŒ–ã‚’ã©ã†çµ±æ²»ã§ãã‚‹ã‹ï¼Ÿ**

**æ ¸å¿ƒåŸå‰‡ï¼š**

> L0ã‚’å¤‰æ›´ã™ã‚‹ãŸã‚ã®ã™ã¹ã¦ã®ãƒ«ãƒ¼ãƒ«ã€åŸºæº–ã€æ­£å½“åŒ–ã¯ã€L0è‡ªèº«ã®ä¸­ã«æ˜ç¤ºçš„ã«è¨˜è¿°ã•ã‚Œã¦ã„ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚

**ã“ã®æ–‡è„ˆã§ã®ã€ŒPureã€ã®æ„å‘³ï¼š**

Pureã¯ä»¥ä¸‹ã‚’æ„å‘³**ã—ã¾ã›ã‚“**ï¼š
- å‰¯ä½œç”¨ã®å®Œå…¨ãªä¸åœ¨
- ãƒã‚¤ãƒˆãƒ¬ãƒ™ãƒ«ã§åŒä¸€ã®å‡ºåŠ›

Pureã¯ä»¥ä¸‹ã‚’**æ„å‘³ã—ã¾ã™**ï¼š
- ã‚¹ã‚­ãƒ«ã®æ„å‘³ãŒã©ã®LLMãŒè§£é‡ˆã™ã‚‹ã‹ã§å¤‰ã‚ã‚‰ãªã„
- æ„å‘³ãŒæ‰¿èªè€…ã«ã‚ˆã£ã¦å¤‰ã‚ã‚‰ãªã„
- æ„å‘³ãŒå®Ÿè¡Œå±¥æ­´ã‚„æ™‚é–“ã«ä¾å­˜ã—ãªã„

**KairosChainã§ã®å®Ÿè£…ï¼š**

| ä»¥å‰ | ç¾åœ¨ |
|------|------|
| `config.yml`ãŒè¨±å¯ã•ã‚Œã‚‹L0ã‚¹ã‚­ãƒ«ã‚’å®šç¾©ï¼ˆå¤–éƒ¨ï¼‰ | `l0_governance`ã‚¹ã‚­ãƒ«ãŒã“ã‚Œã‚’å®šç¾©ï¼ˆè‡ªå·±å‚ç…§çš„ï¼‰ |
| æ‰¿èªåŸºæº–ãŒæš—é»™çš„ | `approval_workflow`ã«æ˜ç¤ºçš„ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ |
| L0ã®èªè­˜ãªã—ã«å¤‰æ›´ãŒå¯èƒ½ | L0ãŒè‡ªèº«ã®ãƒ«ãƒ¼ãƒ«ã‚’é€šã˜ã¦è‡ªå·±çµ±æ²» |

**`l0_governance`ã‚¹ã‚­ãƒ«ï¼š**

```ruby
skill :l0_governance do
  behavior do
    {
      allowed_skills: [:core_safety, :l0_governance, ...],
      immutable_skills: [:core_safety],
      purity_requirements: { all_criteria_in_l0: true, ... }
    }
  end
end
```

ã“ã‚Œã«ã‚ˆã‚Šã€Œä½•ãŒL0ã«å…¥ã‚Œã‚‹ã‹ã€ãŒL0è‡ªèº«ã®ä¸€éƒ¨ã¨ãªã‚Šã€å¤–éƒ¨è¨­å®šã§ã¯ãªããªã‚Šã¾ã™ã€‚

**ç†è«–çš„é™ç•Œï¼ˆã‚²ãƒ¼ãƒ‡ãƒ«çš„ï¼‰ï¼š**

å®Œå…¨ãªè‡ªå·±å®Œçµã¯ç†è«–çš„ã«ä¸å¯èƒ½ã§ã™ã€‚ä»¥ä¸‹ã®ç†ç”±ã«ã‚ˆã‚Šï¼š

1. **åœæ­¢å•é¡Œ**ï¼šå¤‰æ›´ãŒã™ã¹ã¦ã®åŸºæº–ã‚’æº€ãŸã™ã‹ã‚’æ©Ÿæ¢°çš„ã«å¸¸ã«æ¤œè¨¼ã§ããªã„
2. **ãƒ¡ã‚¿ãƒ¬ãƒ™ãƒ«ä¾å­˜**ï¼šL0ãƒ«ãƒ¼ãƒ«ã®è§£é‡ˆè€…ï¼ˆã‚³ãƒ¼ãƒ‰/LLMï¼‰ã¯L0ã®å¤–éƒ¨ã«å­˜åœ¨
3. **ãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—**ï¼šæœ€åˆã®L0ã¯å¤–éƒ¨ã‹ã‚‰ä½œæˆã•ã‚Œãªã‘ã‚Œã°ãªã‚‰ãªã„

KairosChainã¯ã“ã‚Œã‚‰ã®é™ç•Œã‚’èªè­˜ã—ã¤ã¤ã€**ååˆ†ãªPurity**ã‚’ç›®æŒ‡ã—ã¾ã™ï¼š

> ç‹¬ç«‹ã—ãŸãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¢ãŒL0ã®æ–‡æ›¸åŒ–ã•ã‚ŒãŸãƒ«ãƒ¼ãƒ«ã®ã¿ã‚’ä½¿ç”¨ã—ã¦ã€ä»»æ„ã®L0å¤‰æ›´ã®æ­£å½“åŒ–ã‚’å†æ§‹ç¯‰ã§ãã‚‹ãªã‚‰ã€L0ã¯ååˆ†ã«Pureã§ã‚ã‚‹ã€‚

**å®Ÿè·µçš„ãªãƒ¡ãƒªãƒƒãƒˆï¼š**

- **ç›£æŸ»å¯èƒ½æ€§**ï¼šã™ã¹ã¦ã®çµ±æ²»åŸºæº–ãŒä¸€ç®‡æ‰€ã«
- **ãƒ‰ãƒªãƒ•ãƒˆè€æ€§**ï¼šçµ±æ²»ã‚’èª¤ã£ã¦å£Šã—ã«ãã„
- **æ˜ç¤ºçš„ãªæ‰¿èªåŸºæº–**ï¼šäººé–“ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¢ã«ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- **è‡ªå·±æ–‡æ›¸åŒ–**ï¼šL0ãŒè‡ªèº«ã‚’èª¬æ˜ã™ã‚‹

å®Œå…¨ãªä»•æ§˜ã¯ `skills/kairos.md` ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ [SPEC-010] ã¨ [SPEC-020] ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

### Q: ãªãœKairosChainã¯Rubyã€ç‰¹ã«DSLã¨ASTã‚’ä½¿ã†ã®ã§ã™ã‹ï¼Ÿ

**A:** KairosChainãŒRuby DSL/ASTã‚’é¸æŠã—ãŸã®ã¯å¶ç„¶ã§ã¯ãªãã€è‡ªå·±æ”¹å¤‰AIã‚·ã‚¹ãƒ†ãƒ ã«ã¨ã£ã¦æœ¬è³ªçš„ãªé¸æŠã§ã™ã€‚è‡ªå·±è¨€åŠçš„ãªã‚¹ã‚­ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã¯ã€ä»¥ä¸‹ã®3ã¤ã®åˆ¶ç´„ã‚’åŒæ™‚ã«æº€ãŸã™å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š

| è¦ä»¶ | èª¬æ˜ | Rubyã§ã®å®Ÿç¾ |
|------|------|-------------|
| **é™çš„è§£æå¯èƒ½æ€§** | å®Ÿè¡Œå‰ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ¤œè¨¼ | `RubyVM::AbstractSyntaxTree`ï¼ˆæ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰ |
| **å®Ÿè¡Œæ™‚ä¿®æ­£å¯èƒ½æ€§** | é‹ç”¨ä¸­ã«ã‚¹ã‚­ãƒ«ã‚’è¿½åŠ ãƒ»ä¿®æ­£ | `define_method`ã€`class_eval`ã€ã‚ªãƒ¼ãƒ—ãƒ³ã‚¯ãƒ©ã‚¹ |
| **äººé–“å¯èª­æ€§** | ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆãŒèª­ã‚ã‚‹ä»•æ§˜ | è‡ªç„¶è¨€èªã«è¿‘ã„DSLæ§‹æ–‡ |

**ãªãœã“ã®3ã¤ãŒè‡ªå·±å‚ç…§ã«é‡è¦ã‹ï¼š**

KairosChainã¯**ã‚¹ã‚­ãƒ«ãŒã‚¹ã‚­ãƒ«è‡ªä½“ã«ã‚ˆã£ã¦åˆ¶ç´„ã•ã‚Œã‚‹**ã¨ã„ã†ç‹¬è‡ªã®è‡ªå·±è¨€åŠæ§‹é€ ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚ä¾‹ãˆã°ã€`evolution_rules`ã‚¹ã‚­ãƒ«ã«ã¯ä»¥ä¸‹ãŒå«ã¾ã‚Œã¾ã™ï¼š

```ruby
evolve do
  allow :content
  deny :guarantees, :evolve, :behavior
end
```

ã“ã‚Œã¯ã€Œé€²åŒ–ã«é–¢ã™ã‚‹ãƒ«ãƒ¼ãƒ«ã¯ã€ãã‚Œè‡ªä½“ã‚’é€²åŒ–ã•ã›ã‚‹ã“ã¨ãŒã§ããªã„ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚ã“ã®ãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—åˆ¶ç´„ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ï¼š
1. ãƒ«ãƒ¼ãƒ«å®šç¾©ã‚’**ãƒ‘ãƒ¼ã‚¹**ï¼ˆASTçµŒç”±ã®é™çš„è§£æï¼‰
2. åˆ¶ç´„ã‚’å®Ÿè¡Œæ™‚ã«**è©•ä¾¡**ï¼ˆãƒ¡ã‚¿ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ï¼‰
3. ãƒ«ãƒ¼ãƒ«ã®æ„å‘³ã‚’**ç†è§£**ï¼ˆäººé–“å¯èª­ãªDSLï¼‰

ãŒå¿…è¦ã§ã™ã€‚

**ä»–ã®è¨€èªã¨ã®æ¯”è¼ƒï¼š**

| è¦³ç‚¹ | Lisp/Clojure | Ruby | Python | JavaScript |
|------|-------------|------|--------|------------|
| **ãƒ›ãƒ¢ã‚¤ã‚³ãƒ‹ã‚·ãƒ†ã‚£ï¼ˆã‚³ãƒ¼ãƒ‰=ãƒ‡ãƒ¼ã‚¿ï¼‰** | â—‹ å®Œå…¨ | Ã— ãªã— | Ã— ãªã— | Ã— ãªã— |
| **äººé–“å¯èª­æ€§** | â–³ Så¼ã¯èª­ã¿ã«ãã„ | â—‹ è‡ªç„¶ | â–³ æ‹¬å¼§å¿…é ˆ | â–³ æ§‹æ–‡åˆ¶ç´„ |
| **æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ASTãƒ„ãƒ¼ãƒ«** | Ã— ä¸è¦ã ãŒç›£æŸ»å›°é›£ | â—‹ å®Œå‚™ | â–³ é™å®šçš„ | â–³ å¤–éƒ¨ä¾å­˜ |
| **DSLè¡¨ç¾åŠ›** | â—‹ | â—‹ | â–³ | â–³ |
| **æœ¬ç•ªã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ** | â–³ | â—‹ å®Ÿç¸¾ã‚ã‚Šï¼ˆRails, RSpecï¼‰ | â—‹ | â—‹ |

**ç†è«–çš„ã«æœ€é©:** Lisp/Clojureï¼ˆãƒ›ãƒ¢ã‚¤ã‚³ãƒ‹ã‚·ãƒ†ã‚£ã«ã‚ˆã‚Šè‡ªå·±æ”¹å¤‰ãŒè‡ªç„¶ï¼‰  
**å®Ÿç”¨çš„ã«æœ€é©:** **Ruby**ï¼ˆå¯èª­æ€§ + è§£æå¯èƒ½æ€§ + é€²åŒ–å¯èƒ½æ€§ã®ãƒãƒ©ãƒ³ã‚¹ï¼‰

**æ±ºå®šçš„ãªå¼·ã¿ â€” åˆ†é›¢å¯èƒ½æ€§ï¼š**

KairosChainã®è‡ªå·±è¨€åŠã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã€**å®šç¾©**ã€**è§£æ**ã€**å®Ÿè¡Œ**ã®åˆ†é›¢ãŒé‡è¦ã§ã™ï¼š

```ruby
# 1. å®šç¾©ï¼šäººé–“ãŒèª­ã‚ã‚‹
skill :evolution_rules do
  evolve { deny :evolve }  # è‡ªå·±åˆ¶ç´„
end

# 2. è§£æï¼šå®Ÿè¡Œå‰ã«æ¤œè¨¼
RubyVM::AbstractSyntaxTree.parse(definition)  # é™çš„è§£æ

# 3. å®Ÿè¡Œï¼šåˆ¶ç´„ã‚’è©•ä¾¡
skill.evolution_rules.can_evolve?(:evolve)  # => false
```

Lispã§ã¯ã‚³ãƒ¼ãƒ‰=ãƒ‡ãƒ¼ã‚¿ãªã®ã§ã€ã€Œè§£æã€ã¨ã€Œå®Ÿè¡Œã€ã®å¢ƒç•ŒãŒæ›–æ˜§ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã¯è‡ªç”±åº¦ã¯é«˜ã„ã§ã™ãŒã€**ç›£æŸ»å¯èƒ½æ€§**ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯è¿½åŠ ã®ä»•çµ„ã¿ãŒå¿…è¦ã§ã™ã€‚

**çµè«–:** KairosChainã®ç›®çš„ãŒã€ŒAIã‚¹ã‚­ãƒ«ã®ç›£æŸ»å¯èƒ½ãªé€²åŒ–ã€ã§ã‚ã‚‹ä»¥ä¸Šã€Rubyã¯**å®Ÿç”¨çš„ãªæœ€é©è§£**ã§ã™ã€‚å”¯ä¸€ã®æ­£è§£ã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€3ã¤ã®åˆ¶ç´„ã‚’åŒæ™‚ã«æº€ãŸã™ç¾å®Ÿçš„ãªé¸æŠã§ã™ã€‚

---

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

[LICENSE](./LICENSE)ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 0.8.0  
**æœ€çµ‚æ›´æ–°**: 2026-01-27

> *ã€ŒKairosChainã¯ã€ã“ã®çµæœã¯æ­£ã—ã„ã‹ï¼Ÿã€ã§ã¯ãªãã€ã“ã®çŸ¥æ€§ã¯ã©ã®ã‚ˆã†ã«å½¢æˆã•ã‚ŒãŸã‹ï¼Ÿã€ã«ç­”ãˆã¾ã™ã€*
