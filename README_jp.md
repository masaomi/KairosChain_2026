# KairosChain MCP Server

**AIã‚¹ã‚­ãƒ«é€²åŒ–ã‚’è¨˜éŒ²ã™ã‚‹ãƒ¡ã‚¿å°å¸³**

> ğŸ“– [English README is here](README.md)

KairosChainã¯ã€AIã®èƒ½åŠ›é€²åŒ–ã‚’ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«è¨˜éŒ²ã™ã‚‹Model Context Protocol (MCP)ã‚µãƒ¼ãƒãƒ¼ã§ã™ã€‚Pure Skillsè¨­è¨ˆï¼ˆRuby DSL/ASTï¼‰ã¨ä¸å¤‰å°å¸³æŠ€è¡“ã‚’çµ„ã¿åˆã‚ã›ã€AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒç›£æŸ»å¯èƒ½ã§ã€é€²åŒ–å¯èƒ½ã§ã€è‡ªå·±å‚ç…§çš„ãªã‚¹ã‚­ãƒ«å®šç¾©ã‚’æŒã¤ã“ã¨ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚

## å“²å­¦

### å•é¡Œ

LLM/AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ãŠã‘ã‚‹æœ€å¤§ã®ãƒ–ãƒ©ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã¯ï¼š

> **ç¾åœ¨ã®èƒ½åŠ›ãŒã©ã®ã‚ˆã†ã«å½¢æˆã•ã‚ŒãŸã‹ã‚’èª¬æ˜ã§ããªã„ã“ã¨ã€‚**

- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯æ®ç™ºçš„
- ãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—å±¥æ­´ã¯æ–­ç‰‡çš„
- ã‚¹ã‚­ãƒ«ã®é€²åŒ–ï¼ˆå†å®šç¾©ã€åˆæˆã€å‰Šé™¤ï¼‰ã¯ç—•è·¡ã‚’æ®‹ã•ãªã„

ãã®çµæœã€AIã¯ä»¥ä¸‹ã®ã‚ˆã†ãªå ´åˆã§ã‚‚**å› æœãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¬¬ä¸‰è€…ãŒæ¤œè¨¼ã§ããªã„**å­˜åœ¨ã¨ãªã‚Šã¾ã™ï¼š
- ã‚ˆã‚Šé«˜ã„èƒ½åŠ›ã‚’ç²å¾—ã—ãŸ
- å‹•ä½œãŒå¤‰åŒ–ã—ãŸ
- æ½œåœ¨çš„ã«å±é™ºã«ãªã£ãŸ

### è§£æ±ºç­–ï¼šKairosChain

KairosChainã¯ã“ã‚Œã«ä»¥ä¸‹ã®ã‚ˆã†ã«å¯¾å‡¦ã—ã¾ã™ï¼š

1. **ã‚¹ã‚­ãƒ«ã‚’å®Ÿè¡Œå¯èƒ½ãªæ§‹é€ ã¨ã—ã¦å®šç¾©**ï¼ˆRuby DSLï¼‰ã€å˜ãªã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ãªã
2. **ã™ã¹ã¦ã®ã‚¹ã‚­ãƒ«å¤‰æ›´ã‚’ä¸å¤‰ã®ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«è¨˜éŒ²**
3. **è‡ªå·±å‚ç…§ã‚’å¯èƒ½ã«ã—**ã€AIãŒè‡ªèº«ã®èƒ½åŠ›ã‚’æ¤œæŸ»ã§ãã‚‹
4. **å®‰å…¨ãªé€²åŒ–ã‚’å¼·åˆ¶**ã€æ‰¿èªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¨ä¸å¤‰æ€§ãƒ«ãƒ¼ãƒ«ã§

KairosChainã¯ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€é€šè²¨ã€DAOã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚**ãƒ¡ã‚¿å°å¸³**ã§ã™ â€” èƒ½åŠ›é€²åŒ–ã®ç›£æŸ»è¨¼è·¡ã§ã™ã€‚

### Minimum-Nomicã®åŸå‰‡

KairosChainã¯**Minimum-Nomic**ã‚’å®Ÿè£…ã—ã¾ã™ â€” ä»¥ä¸‹ã®ã‚ˆã†ãªã‚·ã‚¹ãƒ†ãƒ ï¼š

- ãƒ«ãƒ¼ãƒ«ï¼ˆã‚¹ã‚­ãƒ«ï¼‰ã¯**å¤‰æ›´å¯èƒ½**
- ã—ã‹ã—**èª°ãŒ**ã€**ã„ã¤**ã€**ä½•ã‚’**ã€**ã©ã®ã‚ˆã†ã«**å¤‰æ›´ã—ãŸã‹ã¯å¸¸ã«è¨˜éŒ²ã•ã‚Œã€æ¶ˆå»ã§ããªã„

ã“ã‚Œã«ã‚ˆã‚Šä¸¡æ¥µç«¯ã‚’å›é¿ã—ã¾ã™ï¼š
- âŒ å®Œå…¨ã«å›ºå®šã•ã‚ŒãŸãƒ«ãƒ¼ãƒ«ï¼ˆé©å¿œä¸å¯ï¼‰
- âŒ ç„¡åˆ¶é™ã®è‡ªå·±æ”¹å¤‰ï¼ˆã‚«ã‚ªã‚¹ï¼‰

ä»£ã‚ã‚Šã«é”æˆã™ã‚‹ã®ã¯ï¼š**é€²åŒ–å¯èƒ½ã ãŒã‚²ãƒ¼ãƒ åŒ–ã§ããªã„ã‚·ã‚¹ãƒ†ãƒ **ã€‚

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

![KairosChain ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](docs/kairoschain_linkedin_diagram.png)

*å›³ï¼šKairosChainã®æ³•åˆ¶åº¦ã«ç€æƒ³ã‚’å¾—ãŸAIã‚¹ã‚­ãƒ«ç®¡ç†ã®ãŸã‚ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£*

### ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ (Cursor / Claude Code)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚ STDIO (JSON-RPC)
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    KairosChain MCPã‚µãƒ¼ãƒãƒ¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    Server    â”‚ â”‚   Protocol   â”‚ â”‚     Tool Registry        â”‚ â”‚
â”‚  â”‚  STDIOãƒ«ãƒ¼ãƒ— â”‚ â”‚  JSON-RPC    â”‚ â”‚  12+ãƒ„ãƒ¼ãƒ«åˆ©ç”¨å¯èƒ½       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    ã‚¹ã‚­ãƒ«ãƒ¬ã‚¤ãƒ¤ãƒ¼                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚  â”‚  â”‚ kairos.rb  â”‚ â”‚ kairos.md  â”‚ â”‚    Kairosãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«    â”‚â”‚   â”‚
â”‚  â”‚  â”‚ (DSL)      â”‚ â”‚ (Markdown) â”‚ â”‚  (è‡ªå·±å‚ç…§)            â”‚â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ãƒ¬ã‚¤ãƒ¤ãƒ¼                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚  â”‚  â”‚   Block    â”‚ â”‚   Chain    â”‚ â”‚     MerkleTree         â”‚â”‚   â”‚
â”‚  â”‚  â”‚ (SHA-256)  â”‚ â”‚ (JSON)     â”‚ â”‚  (è¨¼æ˜ç”Ÿæˆ)            â”‚â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ãƒ¬ã‚¤ãƒ¤ãƒ¼åŒ–ã•ã‚ŒãŸã‚¹ã‚­ãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

KairosChainã¯ã€çŸ¥è­˜ç®¡ç†ã®ãŸã‚ã®**æ³•åˆ¶åº¦ã«ç€æƒ³ã‚’å¾—ãŸãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ï¼š

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æ³•çš„é¡æ¨ | ãƒ‘ã‚¹ | ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ² | å¯å¤‰æ€§ |
|---------|----------|------|---------------------|--------|
| **L0-A** | æ†²æ³• | `skills/kairos.md` | - | èª­ã¿å–ã‚Šå°‚ç”¨ |
| **L0-B** | æ³•å¾‹ | `skills/kairos.rb` | å®Œå…¨ãªãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ | äººé–“ã®æ‰¿èªãŒå¿…è¦ |
| **L1** | æ¡ä¾‹ | `knowledge/` | ãƒãƒƒã‚·ãƒ¥å‚ç…§ã®ã¿ | è»½é‡ãªåˆ¶ç´„ |
| **L2** | æŒ‡ä»¤ | `context/` | ãªã— | è‡ªç”±ã«å¤‰æ›´å¯èƒ½ |

### L0ï¼šKairosã‚³ã‚¢ï¼ˆ`skills/`ï¼‰

KairosChainã®åŸºç›¤ã€‚è‡ªå·±æ”¹å¤‰ã«é–¢ã™ã‚‹ãƒ¡ã‚¿ãƒ«ãƒ¼ãƒ«ã‚’å«ã¿ã¾ã™ã€‚

- **kairos.md**ï¼šå“²å­¦ã¨åŸå‰‡ï¼ˆä¸å¤‰ã€èª­ã¿å–ã‚Šå°‚ç”¨ï¼‰
- **kairos.rb**ï¼šRuby DSLã§ã®ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ï¼ˆå®Œå…¨ãªãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²ã§å¤‰æ›´å¯èƒ½ï¼‰

L0ã«é…ç½®ã§ãã‚‹ã®ã¯ã“ã‚Œã‚‰ã®ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ã®ã¿ï¼š
- `core_safety`, `evolution_rules`, `layer_awareness`, `approval_workflow`, `self_inspection`, `chain_awareness`

> **æ³¨æ„ï¼šã‚¹ã‚­ãƒ«-ãƒ„ãƒ¼ãƒ«çµ±ä¸€**  
> `kairos.rb`ã®ã‚¹ã‚­ãƒ«ã¯`tool`ãƒ–ãƒ­ãƒƒã‚¯ã§MCPãƒ„ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚`skill_tools_enabled: true`ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã€ã“ã‚Œã‚‰ã®ã‚¹ã‚­ãƒ«ã¯è‡ªå‹•çš„ã«MCPãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ç™»éŒ²ã•ã‚Œã¾ã™ã€‚ã¤ã¾ã‚Šã€**L0-Bã§ã¯ã‚¹ã‚­ãƒ«ã¨ãƒ„ãƒ¼ãƒ«ãŒçµ±ä¸€ã•ã‚Œã¦ã„ã¾ã™** â€” `kairos.rb`ã‚’ç·¨é›†ã™ã‚‹ã“ã¨ã§ãƒ„ãƒ¼ãƒ«ã®è¿½åŠ ã€å¤‰æ›´ã€å‰Šé™¤ãŒã§ãã¾ã™ï¼ˆL0ã®åˆ¶ç´„ãŒé©ç”¨ï¼šäººé–“ã®æ‰¿èªãŒå¿…è¦ã€å®Œå…¨ãªãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²ï¼‰ã€‚

### L1ï¼šçŸ¥è­˜ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆ`knowledge/`ï¼‰

**Anthropic Skillsãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**ã§ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®æ™®éçš„çŸ¥è­˜ã€‚

```
knowledge/
â””â”€â”€ skill_name/
    â”œâ”€â”€ skill_name.md       # YAMLãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ + Markdown
    â”œâ”€â”€ scripts/            # å®Ÿè¡Œå¯èƒ½ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (Python, Bash, Node)
    â”œâ”€â”€ assets/             # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ç”»åƒã€CSS
    â””â”€â”€ references/         # å‚è€ƒè³‡æ–™ã€ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ
```

`skill_name.md`ã®ä¾‹ï¼š

```markdown
---
name: coding_rules
description: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„
version: "1.0"
layer: L1
tags: [style, convention]
---

# ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«

## å‘½åè¦å‰‡
- ã‚¯ãƒ©ã‚¹åï¼šPascalCase
- ãƒ¡ã‚½ãƒƒãƒ‰åï¼šsnake_case
```

### L2ï¼šã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆ`context/`ï¼‰

ã‚»ãƒƒã‚·ãƒ§ãƒ³ç”¨ã®ä¸€æ™‚çš„ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã€‚L1ã¨åŒã˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã™ãŒã€**ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²ãªã—**ã€‚

```
context/
â””â”€â”€ session_id/
    â””â”€â”€ hypothesis/
        â””â”€â”€ hypothesis.md
```

ç”¨é€”ï¼š
- ä½œæ¥­ä»®èª¬
- ã‚¹ã‚¯ãƒ©ãƒƒãƒãƒãƒ¼ãƒˆ
- è©¦è¡ŒéŒ¯èª¤çš„ãªæ¢ç´¢

### ãªãœãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‹ï¼Ÿ

1. **ã™ã¹ã¦ã®çŸ¥è­˜ãŒåŒã˜åˆ¶ç´„ã‚’å¿…è¦ã¨ã™ã‚‹ã‚ã‘ã§ã¯ãªã„** â€” ä¸€æ™‚çš„ãªæ€è€ƒã«ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²ã¯ä¸è¦
2. **é–¢å¿ƒã®åˆ†é›¢** â€” Kairosãƒ¡ã‚¿ãƒ«ãƒ¼ãƒ« vs ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ vs ä¸€æ™‚çš„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
3. **èª¬æ˜è²¬ä»»ã‚’ä¼´ã†AIè‡ªå¾‹æ€§** â€” L2ã§ã¯è‡ªç”±ãªæ¢ç´¢ã€L1ã§ã¯è¿½è·¡ã•ã‚ŒãŸå¤‰æ›´ã€L0ã§ã¯å³æ ¼ãªåˆ¶å¾¡

## ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ï¼šSkillStateTransition

ã™ã¹ã¦ã®ã‚¹ã‚­ãƒ«å¤‰æ›´ã¯`SkillStateTransition`ã¨ã—ã¦è¨˜éŒ²ã•ã‚Œã¾ã™ï¼š

```ruby
{
  skill_id: String,        # ã‚¹ã‚­ãƒ«è­˜åˆ¥å­
  prev_ast_hash: String,   # å‰ã®ASTã®SHA-256
  next_ast_hash: String,   # æ–°ã—ã„ASTã®SHA-256
  diff_hash: String,       # å·®åˆ†ã®SHA-256
  actor: String,           # "Human" / "AI" / "System"
  agent_id: String,        # Kairosã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè­˜åˆ¥å­
  timestamp: ISO8601,
  reason_ref: String       # ã‚ªãƒ•ãƒã‚§ãƒ¼ãƒ³ç†ç”±å‚ç…§
}
```

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶

- Ruby 3.3+ï¼ˆåŸºæœ¬æ©Ÿèƒ½ã¯æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã¿ä½¿ç”¨ã€gemä¸è¦ï¼‰
- Claude Code CLIï¼ˆ`claude`ï¼‰ã¾ãŸã¯Cursor IDE

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/masaomi/KairosChain_2026.git
cd KairosChain_2026/KairosChain_mcp_server

# å®Ÿè¡Œå¯èƒ½ã«ã™ã‚‹
chmod +x bin/kairos_mcp_server

# åŸºæœ¬å‹•ä½œã‚’ãƒ†ã‚¹ãƒˆ
echo '{"jsonrpc":"2.0","id":1,"method":"initialize","params":{}}' | bin/kairos_mcp_server
```

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šRAGï¼ˆã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢ï¼‰ã‚µãƒãƒ¼ãƒˆ

KairosChainã¯ãƒ™ã‚¯ãƒˆãƒ«åŸ‹ã‚è¾¼ã¿ã‚’ä½¿ç”¨ã—ãŸã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€å®Œå…¨ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ä¸€è‡´ã§ã¯ãªãæ„å‘³ã§ã‚¹ã‚­ãƒ«ã‚’æ¤œç´¢ã§ãã¾ã™ï¼ˆä¾‹ï¼šã€Œèªè¨¼ã€ã§æ¤œç´¢ã™ã‚‹ã¨ã€Œãƒ­ã‚°ã‚¤ãƒ³ã€ã‚„ã€Œãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€ã«é–¢ã™ã‚‹ã‚¹ã‚­ãƒ«ã‚‚è¦‹ã¤ã‹ã‚Šã¾ã™ï¼‰ã€‚

**RAG gemãªã—:** æ­£è¦è¡¨ç¾ãƒ™ãƒ¼ã‚¹ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸è¦ï¼‰  
**RAG gemã‚ã‚Š:** æ–‡ç« åŸ‹ã‚è¾¼ã¿ã‚’ä½¿ç”¨ã—ãŸã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢

#### å¿…è¦è¦ä»¶

- C++ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ï¼ˆãƒã‚¤ãƒ†ã‚£ãƒ–æ‹¡å¼µã®ãŸã‚ï¼‰
- ~90MBã®ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ï¼ˆåŸ‹ã‚è¾¼ã¿ãƒ¢ãƒ‡ãƒ«ç”¨ã€åˆå›ä½¿ç”¨æ™‚ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼‰

#### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
cd KairosChain_mcp_server

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³1: Bundlerã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰
bundle install --with rag

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³2: ç›´æ¥gemã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
gem install hnswlib informers
```

#### ä½¿ç”¨ã™ã‚‹gem

| Gem | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|-----|-----------|------|
| `hnswlib` | ~> 0.9 | HNSWè¿‘ä¼¼æœ€è¿‘å‚æ¢ç´¢ |
| `informers` | ~> 1.0 | ONNXãƒ™ãƒ¼ã‚¹ã®æ–‡ç« åŸ‹ã‚è¾¼ã¿ |

#### å¯¾å¿œãƒ¬ã‚¤ãƒ¤ãƒ¼

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | å¯¾è±¡ | RAGå¯¾å¿œ | ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ‘ã‚¹ |
|---------|------|---------|-----------------|
| **L0** | `skills/kairos.rb`ï¼ˆãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ï¼‰ | ã‚ã‚Š | `storage/embeddings/skills/` |
| **L1** | `knowledge/`ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ï¼‰ | ã‚ã‚Š | `storage/embeddings/knowledge/` |
| **L2** | `context/`ï¼ˆä¸€æ™‚ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼‰ | ãªã— | N/Aï¼ˆæ­£è¦è¡¨ç¾æ¤œç´¢ã®ã¿ï¼‰ |

L2ã¯ä¸€æ™‚çš„ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§çŸ­å‘½ã‹ã¤é€šå¸¸ã¯æ•°ãŒå°‘ãªã„ãŸã‚ã€æ­£è¦è¡¨ç¾æ¤œç´¢ã§ååˆ†ã§ã™ã€‚

#### è¨­å®š

`skills/config.yml`ã®RAGè¨­å®šï¼š

```yaml
vector_search:
  enabled: true                                      # gemãŒåˆ©ç”¨å¯èƒ½ãªå ´åˆã«æœ‰åŠ¹åŒ–
  model: "sentence-transformers/all-MiniLM-L6-v2"    # åŸ‹ã‚è¾¼ã¿ãƒ¢ãƒ‡ãƒ«
  dimension: 384                                     # ãƒ¢ãƒ‡ãƒ«ã¨ä¸€è‡´ã•ã›ã‚‹å¿…è¦ã‚ã‚Š
  index_path: "storage/embeddings"                   # ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä¿å­˜ãƒ‘ã‚¹
  auto_index: true                                   # å¤‰æ›´æ™‚ã«è‡ªå‹•å†æ§‹ç¯‰
```

#### ç¢ºèªæ–¹æ³•

```bash
# RAGãŒåˆ©ç”¨å¯èƒ½ã‹ç¢ºèª
ruby -e "require 'hnswlib'; require 'informers'; puts 'RAG gems installed!'"

# ã¾ãŸã¯MCPçµŒç”±ã§ãƒ†ã‚¹ãƒˆ
echo '{"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"hello_world","arguments":{}}}' | bin/kairos_mcp_server
```

#### å‹•ä½œã®ä»•çµ„ã¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ¤œç´¢ã‚¯ã‚¨ãƒª                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  VectorSearch.available?  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                               â”‚
              â–¼                               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢ â”‚             â”‚ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ¤œç´¢ â”‚
    â”‚ (hnswlib +      â”‚             â”‚ (æ­£è¦è¡¨ç¾ãƒ™ãƒ¼ã‚¹)  â”‚
    â”‚  informers)     â”‚             â”‚                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                               â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    æ¤œç´¢çµæœ     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š

### Claude Codeè¨­å®šï¼ˆè©³ç´°ï¼‰

Claude Codeã¯CLIãƒ™ãƒ¼ã‚¹ã®AIã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚

#### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šClaude Codeã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª

```bash
# Claude CodeãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
claude --version

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„å ´åˆã¯å…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
# https://docs.anthropic.com/claude-code
```

#### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šMCPã‚µãƒ¼ãƒãƒ¼ã‚’ç™»éŒ²

```bash
# KairosChain MCPã‚µãƒ¼ãƒãƒ¼ã‚’ç™»éŒ²
claude mcp add kairos-chain ruby /path/to/KairosChain_mcp_server/bin/kairos_mcp_server

```

#### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šç™»éŒ²ã‚’ç¢ºèª

```bash
# ç™»éŒ²ã•ã‚ŒãŸMCPã‚µãƒ¼ãƒãƒ¼ã‚’ä¸€è¦§è¡¨ç¤º
claude mcp list

# ãƒªã‚¹ãƒˆã«kairos-chainãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™
```

#### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

`~/.claude.json`ã«ä»¥ä¸‹ã®è¨­å®šãŒè¿½åŠ ã•ã‚Œã¾ã™ï¼š

```json
{
  "mcpServers": {
    "kairos-chain": {
      "command": "ruby",
      "args": ["/path/to/KairosChain_mcp_server/bin/kairos_mcp_server"],
      "env": {}
    }
  }
}
```

#### æ‰‹å‹•è¨­å®šï¼ˆä¸Šç´šè€…å‘ã‘ï¼‰

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥ç·¨é›†ã™ã‚‹å ´åˆï¼š

```bash
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã
vim ~/.claude.json

# ã¾ãŸã¯VS Codeã‚’ä½¿ç”¨
code ~/.claude.json
```

### Cursor IDEè¨­å®šï¼ˆè©³ç´°ï¼‰

Cursorã¯VS Codeãƒ™ãƒ¼ã‚¹ã®AIã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°IDEã§ã™ã€‚

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³Aï¼šGUIã‹ã‚‰ï¼ˆæ¨å¥¨ï¼‰

1. **Cursor Settings**ã‚’é–‹ãï¼ˆCmd/Ctrl + ,ï¼‰
2. **Tools & MCP**ã«ç§»å‹•
3. **New MCP Server**ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ã‚µãƒ¼ãƒãƒ¼è©³ç´°ã‚’å…¥åŠ›ï¼š
   - Name: `kairos-chain`
   - Command: `ruby`
   - Args: `/path/to/KairosChain_mcp_server/bin/kairos_mcp_server`

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³Bï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰

#### ã‚¹ãƒ†ãƒƒãƒ—1ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ã‚’ç¢ºèª

```bash
# macOS / Linux
~/.cursor/mcp.json

# Windows
%USERPROFILE%\.cursor\mcp.json
```

#### ã‚¹ãƒ†ãƒƒãƒ—2ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ/ç·¨é›†

```bash
# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ä½œæˆ
mkdir -p ~/.cursor

# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†
vim ~/.cursor/mcp.json
```

#### ã‚¹ãƒ†ãƒƒãƒ—3ï¼šMCPã‚µãƒ¼ãƒãƒ¼ã‚’è¿½åŠ 

```json
{
  "mcpServers": {
    "kairos-chain": {
      "command": "ruby",
      "args": ["/path/to/KairosChain_mcp_server/bin/kairos_mcp_server"],
      "env": {}
    }
  }
}
```

**è¤‡æ•°ã®MCPã‚µãƒ¼ãƒãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆï¼š**

```json
{
  "mcpServers": {
    "kairos-chain": {
      "command": "ruby",
      "args": ["/Users/yourname/KairosChain_mcp_server/bin/kairos_mcp_server"],
      "env": {}
    },
    "sushi-mcp-server": {
      "command": "ruby",
      "args": ["/path/to/SUSHI_self_maintenance_mcp_server/bin/sushi_mcp_server"],
      "env": {}
    }
  }
}
```

#### ã‚¹ãƒ†ãƒƒãƒ—4ï¼šCursorã‚’å†èµ·å‹•

è¨­å®šã‚’ä¿å­˜ã—ãŸå¾Œã€**Cursorã‚’å®Œå…¨ã«å†èµ·å‹•ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™**ã€‚

#### ã‚¹ãƒ†ãƒƒãƒ—5ï¼šMCPã‚µãƒ¼ãƒãƒ¼æ¥ç¶šã‚’ç¢ºèª

1. Cursorã‚’é–‹ã
2. å³ä¸Šã®ã€ŒMCPã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆã§ã€ŒMCPã€ã‚’æ¤œç´¢ï¼‰
3. `kairos-chain`ãŒãƒªã‚¹ãƒˆã«ç·‘è‰²ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã§è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª

---

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®ãƒ†ã‚¹ãƒˆ

### 1. åŸºæœ¬çš„ãªã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ

#### åˆæœŸåŒ–ãƒ†ã‚¹ãƒˆ

```bash
cd /path/to/KairosChain_mcp_server

# initializeãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡
echo '{"jsonrpc":"2.0","id":1,"method":"initialize","params":{}}' | bin/kairos_mcp_server

# æœŸå¾…ã•ã‚Œã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆæŠœç²‹ï¼‰ï¼š
# {"jsonrpc":"2.0","id":1,"result":{"protocolVersion":"2024-11-05","capabilities":...}}
```

#### ãƒ„ãƒ¼ãƒ«ä¸€è¦§ãƒ†ã‚¹ãƒˆ

```bash
# åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«ã®ãƒªã‚¹ãƒˆã‚’å–å¾—
echo '{"jsonrpc":"2.0","id":2,"method":"tools/list","params":{}}' | bin/kairos_mcp_server

# jqãŒã‚ã‚‹å ´åˆã€ãƒ„ãƒ¼ãƒ«åã®ã¿ã‚’è¡¨ç¤º
echo '{"jsonrpc":"2.0","id":2,"method":"tools/list","params":{}}' | bin/kairos_mcp_server 2>/dev/null | jq '.result.tools[].name'
```

#### Hello Worldãƒ†ã‚¹ãƒˆ

```bash
# hello_worldãƒ„ãƒ¼ãƒ«ã‚’å‘¼ã³å‡ºã™
echo '{"jsonrpc":"2.0","id":3,"method":"tools/call","params":{"name":"hello_world","arguments":{}}}' | bin/kairos_mcp_server 2>/dev/null | jq -r '.result.content[0].text'

# å‡ºåŠ›ï¼šHello from KairosChain MCP Server!
```

### 2. ã‚¹ã‚­ãƒ«ãƒ„ãƒ¼ãƒ«ãƒ†ã‚¹ãƒˆ

```bash
# ã‚¹ã‚­ãƒ«ä¸€è¦§ã‚’å–å¾—
echo '{"jsonrpc":"2.0","id":4,"method":"tools/call","params":{"name":"skills_dsl_list","arguments":{}}}' | bin/kairos_mcp_server 2>/dev/null | jq -r '.result.content[0].text'

# ç‰¹å®šã®ã‚¹ã‚­ãƒ«ã‚’å–å¾—
echo '{"jsonrpc":"2.0","id":5,"method":"tools/call","params":{"name":"skills_dsl_get","arguments":{"skill_id":"core_safety"}}}' | bin/kairos_mcp_server 2>/dev/null | jq -r '.result.content[0].text'
```

### 3. ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ãƒ„ãƒ¼ãƒ«ãƒ†ã‚¹ãƒˆ

```bash
# ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèª
echo '{"jsonrpc":"2.0","id":6,"method":"tools/call","params":{"name":"chain_status","arguments":{}}}' | bin/kairos_mcp_server 2>/dev/null | jq -r '.result.content[0].text'

# ãƒã‚§ãƒ¼ãƒ³ã®æ•´åˆæ€§ã‚’æ¤œè¨¼
echo '{"jsonrpc":"2.0","id":7,"method":"tools/call","params":{"name":"chain_verify","arguments":{}}}' | bin/kairos_mcp_server 2>/dev/null | jq -r '.result.content[0].text'
```

### 4. Claude Codeã§ã®ãƒ†ã‚¹ãƒˆ

```bash
# Claude Codeã‚’èµ·å‹•
claude

# Claude Codeã§ã“ã‚Œã‚‰ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è©¦ã™ï¼š
# "List the available KairosChain tools"
# "Run skills_dsl_list"
# "Check chain_status"
```

### 5. Cursorã§ã®ãƒ†ã‚¹ãƒˆ

1. Cursorã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã
2. ãƒãƒ£ãƒƒãƒˆãƒ‘ãƒãƒ«ã‚’é–‹ãï¼ˆCmd/Ctrl + Lï¼‰
3. ã“ã‚Œã‚‰ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è©¦ã™ï¼š
   - "List all KairosChain skills"
   - "Check the blockchain status"
   - "Show me the core_safety skill content"

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ãªã„

```bash
# Rubyãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª
ruby --version  # 3.3+ãŒå¿…è¦

# æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª
ruby -c bin/kairos_mcp_server

# å®Ÿè¡Œæ¨©é™ã‚’ç¢ºèª
ls -la bin/kairos_mcp_server
chmod +x bin/kairos_mcp_server
```

#### JSON-RPCã‚¨ãƒ©ãƒ¼

```bash
# stderrã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª
echo '{"jsonrpc":"2.0","id":1,"method":"initialize","params":{}}' | bin/kairos_mcp_server

# stderrã‚’æŠ‘åˆ¶ã›ãšã«å®Ÿè¡Œï¼ˆ2>/dev/nullã‚’å‰Šé™¤ï¼‰
```

#### Cursoræ¥ç¶šã®å•é¡Œ

1. `~/.cursor/mcp.json`ã®ãƒ‘ã‚¹ãŒçµ¶å¯¾ãƒ‘ã‚¹ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
2. JSONæ§‹æ–‡ã‚’ç¢ºèªï¼ˆã‚«ãƒ³ãƒã®æ¬ è½/éå‰°ãªã©ï¼‰
3. Cursorã‚’å®Œå…¨ã«çµ‚äº†ã—ã¦å†èµ·å‹•

---

## ä½¿ç”¨ã®ãƒ’ãƒ³ãƒˆ

### åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

#### 1. ã‚¹ã‚­ãƒ«ã‚’æ“ä½œã™ã‚‹

KairosChainã¯AIèƒ½åŠ›å®šç¾©ã‚’ã€Œã‚¹ã‚­ãƒ«ã€ã¨ã—ã¦ç®¡ç†ã—ã¾ã™ã€‚

```
# Cursor / Claude Codeã§ï¼š
"List all current skills"
"Show me the core_safety skill content"
"Use self_introspection to check Kairos state"
```

#### 2. ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²

AIé€²åŒ–ãƒ—ãƒ­ã‚»ã‚¹ã¯ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«è¨˜éŒ²ã•ã‚Œã¾ã™ã€‚

```
# è¨˜éŒ²ã‚’ç¢ºèª
"Show me the chain_history"
"Verify chain integrity with chain_verify"
```

### å®Ÿè·µçš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³

#### ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼šé–‹ç™ºã‚»ãƒƒã‚·ãƒ§ãƒ³ã®é–‹å§‹

```
# ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
1. "Check blockchain status with chain_status"
2. "List available skills with skills_dsl_list"
3. "Verify chain integrity with chain_verify"
```

#### ãƒ‘ã‚¿ãƒ¼ãƒ³2ï¼šã‚¹ã‚­ãƒ«é€²åŒ–ï¼ˆäººé–“ã®æ‰¿èªãŒå¿…è¦ï¼‰

```yaml
# config/safety.ymlã§é€²åŒ–ã‚’æœ‰åŠ¹ã«ã™ã‚‹
evolution_enabled: true
require_human_approval: true
```

```
# é€²åŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼š
1. "Propose a change to my_skill using skills_evolve"
2. [äººé–“] ææ¡ˆã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦æ‰¿èª
3. "Apply the change with skills_evolve (approved=true)"
4. "Verify the record with chain_history"
```

#### ãƒ‘ã‚¿ãƒ¼ãƒ³3ï¼šç›£æŸ»ã¨ãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£

```
# ç‰¹å®šã®å¤‰æ›´å±¥æ­´ã‚’è¿½è·¡
"Show recent skill changes with chain_history"
"Get details of a specific block"

# å®šæœŸçš„ãªæ•´åˆæ€§æ¤œè¨¼
"Verify the entire chain with chain_verify"
```

### ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

#### 1. é€²åŒ–ã«ã¯æ…é‡ã«

- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯`evolution_enabled: false`ã‚’ç¶­æŒ
- é€²åŒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æ˜ç¤ºçš„ã«é–‹å§‹ã—ã€å®Œäº†å¾Œã«ç„¡åŠ¹ã«ã™ã‚‹
- ã™ã¹ã¦ã®å¤‰æ›´ã‚’äººé–“ã®æ‰¿èªã‚’é€šã™

#### 2. å®šæœŸçš„ãªæ¤œè¨¼

```bash
# æ¯æ—¥/æ¯é€±å®Ÿè¡Œ
echo '{"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"chain_verify","arguments":{}}}' | bin/kairos_mcp_server
```

#### 3. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

```bash
# storage/blockchain.jsonã‚’å®šæœŸçš„ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cp storage/blockchain.json storage/backups/blockchain_$(date +%Y%m%d).json

# ã‚¹ã‚­ãƒ«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‚ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cp -r skills/versions skills/backups/versions_$(date +%Y%m%d)
```

#### 4. è¤‡æ•°ã®AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã§ã®å…±æœ‰

åŒã˜`blockchain.json`ã‚’å…±æœ‰ã™ã‚‹ã“ã¨ã§ã€è¤‡æ•°ã®AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã§é€²åŒ–å±¥æ­´ã‚’åŒæœŸã§ãã¾ã™ã€‚

```json
// ~/.cursor/mcp.json ã¾ãŸã¯ ~/.claude.json ã§
{
  "mcpServers": {
    "kairos-chain": {
      "command": "ruby",
      "args": ["/shared/path/KairosChain_mcp_server/bin/kairos_mcp_server"],
      "env": {
        "KAIROS_STORAGE": "/shared/storage"
      }
    }
  }
}
```

### ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

| ã‚¿ã‚¹ã‚¯ | Cursor/Claude Codeãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ |
|--------|------------------------------|
| ã‚¹ã‚­ãƒ«ä¸€è¦§ | "Run skills_dsl_list" |
| ç‰¹å®šã®ã‚¹ã‚­ãƒ«ã‚’å–å¾— | "Get core_safety with skills_dsl_get" |
| ãƒã‚§ãƒ¼ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | "Check chain_status" |
| å±¥æ­´ã‚’è¡¨ç¤º | "Show chain_history" |
| æ•´åˆæ€§æ¤œè¨¼ | "Run chain_verify" |
| ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜éŒ² | "Record a log with chain_record" |

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

1. **å®‰å…¨ãªé€²åŒ–è¨­å®š**
   - `require_human_approval: true`ã‚’ç¶­æŒ
   - å¿…è¦ãªæ™‚ã®ã¿`evolution_enabled: true`ã«è¨­å®š

2. **ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡**
   - `config/safety.yml`ã§è¨±å¯ãƒ‘ã‚¹ã‚’åˆ¶é™
   - æ©Ÿå¯†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ–ãƒ­ãƒƒã‚¯ãƒªã‚¹ãƒˆã«è¿½åŠ 

3. **ç›£æŸ»ãƒ­ã‚°**
   - ã™ã¹ã¦ã®æ“ä½œã¯`action_log`ã«è¨˜éŒ²ã•ã‚Œã‚‹
   - å®šæœŸçš„ã«ãƒ­ã‚°ã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼

## åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«ï¼ˆã‚³ã‚¢21å€‹ + ã‚¹ã‚­ãƒ«ãƒ„ãƒ¼ãƒ«ï¼‰

åŸºæœ¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ã¯21å€‹ã®ãƒ„ãƒ¼ãƒ«ãŒæä¾›ã•ã‚Œã¾ã™ã€‚`skill_tools_enabled: true`ã®å ´åˆã€`kairos.rb`ã®`tool`ãƒ–ãƒ­ãƒƒã‚¯ã§è¿½åŠ ã®ãƒ„ãƒ¼ãƒ«ã‚’å®šç¾©ã§ãã¾ã™ã€‚

### L0-Aï¼šã‚¹ã‚­ãƒ«ãƒ„ãƒ¼ãƒ«ï¼ˆMarkdownï¼‰ - èª­ã¿å–ã‚Šå°‚ç”¨

| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `skills_list` | kairos.mdã‹ã‚‰ã™ã¹ã¦ã®ã‚¹ã‚­ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä¸€è¦§è¡¨ç¤º |
| `skills_get` | IDã§ç‰¹å®šã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å–å¾— |

### L0-Bï¼šã‚¹ã‚­ãƒ«ãƒ„ãƒ¼ãƒ«ï¼ˆDSLï¼‰ - å®Œå…¨ãªãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²

| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `skills_dsl_list` | kairos.rbã‹ã‚‰ã™ã¹ã¦ã®ã‚¹ã‚­ãƒ«ã‚’ä¸€è¦§è¡¨ç¤º |
| `skills_dsl_get` | IDã§ã‚¹ã‚­ãƒ«å®šç¾©ã‚’å–å¾— |
| `skills_evolve` | ã‚¹ã‚­ãƒ«å¤‰æ›´ã‚’ææ¡ˆ/é©ç”¨ |
| `skills_rollback` | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’ç®¡ç† |

> **ã‚¹ã‚­ãƒ«å®šç¾©ãƒ„ãƒ¼ãƒ«**ï¼š`skill_tools_enabled: true`ã®å ´åˆã€`kairos.rb`å†…ã®`tool`ãƒ–ãƒ­ãƒƒã‚¯ã‚’æŒã¤ã‚¹ã‚­ãƒ«ã‚‚ã“ã“ã«MCPãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ç™»éŒ²ã•ã‚Œã¾ã™ã€‚

### L1ï¼šçŸ¥è­˜ãƒ„ãƒ¼ãƒ« - ãƒãƒƒã‚·ãƒ¥å‚ç…§è¨˜éŒ²

| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `knowledge_list` | ã™ã¹ã¦ã®çŸ¥è­˜ã‚¹ã‚­ãƒ«ã‚’ä¸€è¦§è¡¨ç¤º |
| `knowledge_get` | åå‰ã§çŸ¥è­˜ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾— |
| `knowledge_update` | çŸ¥è­˜ã‚’ä½œæˆ/æ›´æ–°/å‰Šé™¤ï¼ˆãƒãƒƒã‚·ãƒ¥è¨˜éŒ²ï¼‰ |
| `knowledge_scripts` | çŸ¥è­˜ã‚¹ã‚­ãƒ«å†…ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸€è¦§è¡¨ç¤º |
| `knowledge_assets` | çŸ¥è­˜ã‚¹ã‚­ãƒ«å†…ã®ã‚¢ã‚»ãƒƒãƒˆã‚’ä¸€è¦§è¡¨ç¤º |

### L2ï¼šã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ„ãƒ¼ãƒ« - ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²ãªã—

| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `context_sessions` | ã™ã¹ã¦ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä¸€è¦§è¡¨ç¤º |
| `context_list` | ã‚»ãƒƒã‚·ãƒ§ãƒ³å†…ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸€è¦§è¡¨ç¤º |
| `context_get` | ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾— |
| `context_save` | ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¿å­˜ï¼ˆè‡ªç”±ã«å¤‰æ›´å¯èƒ½ï¼‰ |
| `context_create_subdir` | scripts/assets/referencesã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ |

### ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ãƒ„ãƒ¼ãƒ«

| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ |
|--------|------|
| `chain_status` | ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å–å¾— |
| `chain_record` | ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜éŒ² |
| `chain_verify` | ãƒã‚§ãƒ¼ãƒ³ã®æ•´åˆæ€§ã‚’æ¤œè¨¼ |
| `chain_history` | ãƒ–ãƒ­ãƒƒã‚¯å±¥æ­´ã‚’è¡¨ç¤º |

## ä½¿ç”¨ä¾‹

### åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚­ãƒ«ã‚’ä¸€è¦§è¡¨ç¤º

```bash
echo '{"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"skills_dsl_list","arguments":{}}}' | bin/kairos_mcp_server
```

### ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèª

```bash
echo '{"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"chain_status","arguments":{}}}' | bin/kairos_mcp_server
```

### ã‚¹ã‚­ãƒ«é·ç§»ã‚’è¨˜éŒ²

```bash
echo '{"jsonrpc":"2.0","id":1,"method":"tools/call","params":{"name":"chain_record","arguments":{"logs":["Skill X modified","Reason: improved accuracy"]}}}' | bin/kairos_mcp_server
```

## è‡ªå·±é€²åŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

KairosChainã¯**å®‰å…¨ãªè‡ªå·±é€²åŒ–**ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ï¼š

1. **é€²åŒ–ã‚’æœ‰åŠ¹ã«ã™ã‚‹**ï¼ˆ`skills/config.yml`ã§ï¼‰ï¼š
   ```yaml
   evolution_enabled: true
   require_human_approval: true
   ```

2. **AIãŒå¤‰æ›´ã‚’ææ¡ˆ**ï¼š
   ```bash
   skills_evolve command=propose skill_id=my_skill definition="..."
   ```

3. **äººé–“ãŒãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦æ‰¿èª**ï¼š
   ```bash
   skills_evolve command=apply skill_id=my_skill definition="..." approved=true
   ```

4. **å¤‰æ›´ãŒé©ç”¨ã•ã‚Œè¨˜éŒ²ã•ã‚Œã‚‹**ï¼š
   - `skills/versions/`ã«ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãŒä½œæˆã•ã‚Œã‚‹
   - ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«é·ç§»ãŒè¨˜éŒ²ã•ã‚Œã‚‹
   - `Kairos.reload!`ãŒãƒ¡ãƒ¢ãƒªå†…ã®çŠ¶æ…‹ã‚’æ›´æ–°

5. **æ¤œè¨¼**ï¼š
   ```bash
   chain_verify  # æ•´åˆæ€§ã‚’ç¢ºèª
   chain_history # é·ç§»è¨˜éŒ²ã‚’è¡¨ç¤º
   ```

## Pure Skillsè¨­è¨ˆ

### skills.md vs skills.rb

| è¦³ç‚¹ | skills.md (Markdown) | skills.rb (Ruby DSL) |
|------|---------------------|---------------------|
| æ€§è³ª | è¨˜è¿° | å®šç¾© |
| å®Ÿè¡Œå¯èƒ½æ€§ | âŒ è©•ä¾¡ä¸å¯ | âœ… ãƒ‘ãƒ¼ã‚¹å¯èƒ½ã€æ¤œè¨¼å¯èƒ½ |
| è‡ªå·±å‚ç…§ | ãªã— | `Kairos`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«çµŒç”± |
| ç›£æŸ»å¯èƒ½æ€§ | Gitã‚³ãƒŸãƒƒãƒˆã®ã¿ | ãƒã‚¤ãƒ†ã‚£ãƒ–ï¼ˆASTãƒ™ãƒ¼ã‚¹ã®å·®åˆ†ï¼‰ |
| AIã®å½¹å‰² | èª­è€… | æ§‹é€ ã®ä¸€éƒ¨ |

### ã‚¹ã‚­ãƒ«å®šç¾©ã®ä¾‹

```ruby
skill :core_safety do
  version "1.0"
  title "Core Safety Rules"
  
  guarantees do
    immutable
    always_enforced
  end
  
  evolve do
    deny :all  # å¤‰æ›´ä¸å¯
  end
  
  content <<~MD
    ## ã‚³ã‚¢å®‰å…¨æ€§ä¸å¤‰æ¡ä»¶
    1. é€²åŒ–ã«ã¯æ˜ç¤ºçš„ãªæœ‰åŠ¹åŒ–ãŒå¿…è¦
    2. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§äººé–“ã®æ‰¿èªãŒå¿…è¦
    3. ã™ã¹ã¦ã®å¤‰æ›´ãŒãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²ã‚’ä½œæˆ
  MD
end
```

### è‡ªå·±å‚ç…§çš„å†…çœ

```ruby
skill :self_inspection do
  version "1.0"
  
  behavior do
    Kairos.skills.map do |skill|
      {
        id: skill.id,
        version: skill.version,
        can_evolve: skill.can_evolve?(:content)
      }
    end
  end
end
```

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
KairosChain_mcp_server/
â”œâ”€â”€ bin/
â”‚   â””â”€â”€ kairos_mcp_server         # å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ config/
â”‚   â””â”€â”€ safety.yml                # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ kairos_mcp/
â”‚       â”œâ”€â”€ server.rb             # STDIOã‚µãƒ¼ãƒãƒ¼
â”‚       â”œâ”€â”€ protocol.rb           # JSON-RPCãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚       â”œâ”€â”€ kairos.rb             # è‡ªå·±å‚ç…§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚       â”œâ”€â”€ safe_evolver.rb       # å®‰å…¨æ€§ã‚’ä¼´ã†é€²åŒ–
â”‚       â”œâ”€â”€ layer_registry.rb     # ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç®¡ç†
â”‚       â”œâ”€â”€ anthropic_skill_parser.rb  # YAMLãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ + MDãƒ‘ãƒ¼ã‚µãƒ¼
â”‚       â”œâ”€â”€ knowledge_provider.rb # L1çŸ¥è­˜ç®¡ç†
â”‚       â”œâ”€â”€ context_manager.rb    # L2ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†
â”‚       â”œâ”€â”€ kairos_chain/         # ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³å®Ÿè£…
â”‚       â”‚   â”œâ”€â”€ block.rb
â”‚       â”‚   â”œâ”€â”€ chain.rb
â”‚       â”‚   â”œâ”€â”€ merkle_tree.rb
â”‚       â”‚   â””â”€â”€ skill_transition.rb
â”‚       â””â”€â”€ tools/                # MCPãƒ„ãƒ¼ãƒ«ï¼ˆã‚³ã‚¢21å€‹ï¼‰
â”‚           â”œâ”€â”€ skills_*.rb       # L0ãƒ„ãƒ¼ãƒ«
â”‚           â”œâ”€â”€ knowledge_*.rb    # L1ãƒ„ãƒ¼ãƒ«
â”‚           â””â”€â”€ context_*.rb      # L2ãƒ„ãƒ¼ãƒ«
â”œâ”€â”€ skills/                       # L0ï¼šKairosã‚³ã‚¢
â”‚   â”œâ”€â”€ kairos.md                 # L0-Aï¼šå“²å­¦ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰
â”‚   â”œâ”€â”€ kairos.rb                 # L0-Bï¼šãƒ¡ã‚¿ãƒ«ãƒ¼ãƒ«ï¼ˆRuby DSLï¼‰
â”‚   â”œâ”€â”€ config.yml                # ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨é€²åŒ–ã®è¨­å®š
â”‚   â””â”€â”€ versions/                 # ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ
â”œâ”€â”€ knowledge/                    # L1ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ï¼ˆAnthropicãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰
â”‚   â””â”€â”€ example_knowledge/
â”‚       â”œâ”€â”€ example_knowledge.md  # YAMLãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ + Markdown
â”‚       â”œâ”€â”€ scripts/              # å®Ÿè¡Œå¯èƒ½ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚       â”œâ”€â”€ assets/               # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ãƒªã‚½ãƒ¼ã‚¹
â”‚       â””â”€â”€ references/           # å‚è€ƒè³‡æ–™
â”œâ”€â”€ context/                      # L2ï¼šä¸€æ™‚çš„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼ˆAnthropicãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰
â”‚   â””â”€â”€ session_xxx/
â”‚       â””â”€â”€ hypothesis/
â”‚           â””â”€â”€ hypothesis.md
â”œâ”€â”€ storage/
â”‚   â”œâ”€â”€ blockchain.json           # ãƒã‚§ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿
â”‚   â””â”€â”€ off_chain/                # ASTå·®åˆ†ã€ç†ç”±
â”œâ”€â”€ test_local.rb                 # ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ README.md
```

## å°†æ¥ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

1. **Ethereumã‚¢ãƒ³ã‚«ãƒ¼**ï¼šå…¬é–‹ãƒã‚§ãƒ¼ãƒ³ã¸ã®å®šæœŸçš„ãªãƒãƒƒã‚·ãƒ¥ã‚¢ãƒ³ã‚«ãƒªãƒ³ã‚°
2. **ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚µãƒãƒ¼ãƒˆ**ï¼š`agent_id`ã§è¤‡æ•°ã®AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’è¿½è·¡
3. **ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜**ï¼šãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã‚’ä¿è­·ã—ãŸæ¤œè¨¼
4. **Webãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**ï¼šã‚¹ã‚­ãƒ«é€²åŒ–å±¥æ­´ã®å¯è¦–åŒ–
5. **ãƒãƒ¼ãƒ ã‚¬ãƒãƒŠãƒ³ã‚¹**ï¼šL0å¤‰æ›´ã®ãŸã‚ã®æŠ•ç¥¨ã‚·ã‚¹ãƒ†ãƒ ï¼ˆFAQã‚’å‚ç…§ï¼‰

---

## FAQ

### Q: LLMã¯L1/L2ã‚’è‡ªå‹•çš„ã«æ”¹å¤‰ã—ã¾ã™ã‹ï¼Ÿ

**A:** ã¯ã„ã€LLMã¯MCPãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦è‡ªç™ºçš„ã«ï¼ˆã¾ãŸã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä¾é ¼ã§ï¼‰L1/L2ã‚’æ”¹å¤‰ã§ãã¾ã™ã€‚

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | LLMã«ã‚ˆã‚‹æ”¹å¤‰ | æ¡ä»¶ |
|---------|---------------|------|
| **L0** (kairos.rb) | å¯èƒ½ã ãŒå³æ ¼ | `evolution_enabled: true` + `approved: true`ï¼ˆäººé–“æ‰¿èªï¼‰+ ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ² |
| **L1** (knowledge/) | å¯èƒ½ | ãƒãƒƒã‚·ãƒ¥ã®ã¿ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²ã€äººé–“æ‰¿èªä¸è¦ |
| **L2** (context/) | è‡ªç”± | è¨˜éŒ²ãªã—ã€æ‰¿èªä¸è¦ |

â€» `kairos.md` ã¯èª­ã¿å–ã‚Šå°‚ç”¨ã§ã€LLMã¯æ”¹å¤‰ã§ãã¾ã›ã‚“ã€‚

**ä½¿ç”¨ä¾‹:**
- L2: èª¿æŸ»ä¸­ã®ä»®èª¬ã‚’ `context_save` ã§ä¸€æ™‚ä¿å­˜
- L1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã‚’ `knowledge_update` ã§æ°¸ç¶šåŒ–
- L0: ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ã®å¤‰æ›´ã‚’ `skills_evolve` ã§ææ¡ˆï¼ˆäººé–“æ‰¿èªå¿…é ˆï¼‰

---

### Q: ãƒãƒ¼ãƒ åˆ©ç”¨ã®å ´åˆã€APIã¸ã®æ‹¡å¼µãŒå¿…è¦ã§ã™ã‹ï¼Ÿ

**A:** ç¾åœ¨ã®å®Ÿè£…ã¯stdioçµŒç”±ã®ãƒ­ãƒ¼ã‚«ãƒ«åˆ©ç”¨ã«é™å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒãƒ¼ãƒ åˆ©ç”¨ã«ã¯ä»¥ä¸‹ã®é¸æŠè‚¢ãŒã‚ã‚Šã¾ã™ï¼š

| æ–¹å¼ | è¿½åŠ å®Ÿè£… | é©åˆè¦æ¨¡ |
|------|----------|----------|
| **Gitå…±æœ‰** | ä¸è¦ | å°è¦æ¨¡ãƒãƒ¼ãƒ ï¼ˆ2-5äººï¼‰ |
| **HTTP APIåŒ–** | å¿…è¦ | ä¸­è¦æ¨¡ãƒãƒ¼ãƒ ï¼ˆ5-20äººï¼‰ |
| **MCP over SSE** | å¿…è¦ | ãƒªãƒ¢ãƒ¼ãƒˆæ¥ç¶šãŒå¿…è¦ãªå ´åˆ |

**Gitå…±æœ‰ï¼ˆæœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ï¼‰:**
```
# knowledge/, skills/, data/blockchain.json ã‚’Gitã§ç®¡ç†
# å„ãƒ¡ãƒ³ãƒãƒ¼ãŒãƒ­ãƒ¼ã‚«ãƒ«ã§MCPã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
# å¤‰æ›´ã¯GitçµŒç”±ã§åŒæœŸ
```

**HTTP APIåŒ–ãŒå¿…è¦ãªå ´åˆ:**
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸãŒå¿…è¦
- èªè¨¼ãƒ»èªå¯ãŒå¿…è¦
- åŒæ™‚ç·¨é›†ã®ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±ºãŒå¿…è¦

---

### Q: ãƒãƒ¼ãƒ é‹ç”¨ã§kairos.rbã‚„kairos.mdã®å¤‰æ›´ã«æŠ•ç¥¨ã‚·ã‚¹ãƒ†ãƒ ã¯å¿…è¦ã§ã™ã‹ï¼Ÿ

**A:** ãƒãƒ¼ãƒ è¦æ¨¡ã¨è¦ä»¶ã«ã‚ˆã‚Šã¾ã™ã€‚

**ç¾åœ¨ã®å®Ÿè£…ï¼ˆå˜ä¸€æ‰¿èªè€…ãƒ¢ãƒ‡ãƒ«ï¼‰:**
```yaml
require_human_approval: true  # 1äººãŒæ‰¿èªã™ã‚Œã°OK
```

**ãƒãƒ¼ãƒ é‹ç”¨ã§å¿…è¦ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹æ©Ÿèƒ½:**

| æ©Ÿèƒ½ | L0 | L1 | L2 |
|------|----|----|----| 
| æŠ•ç¥¨ã‚·ã‚¹ãƒ†ãƒ  | æ¨å¥¨ | ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | ä¸è¦ |
| å®šè¶³æ•°ï¼ˆQuorumï¼‰ | æ¨å¥¨ | - | - |
| ææ¡ˆæœŸé–“ | æ¨å¥¨ | - | - |
| æ‹’å¦æ¨©ï¼ˆVetoï¼‰ | å ´åˆã«ã‚ˆã‚‹ | - | - |

**å°†æ¥çš„ã«å¿…è¦ãªãƒ„ãƒ¼ãƒ«ï¼ˆæœªå®Ÿè£…ï¼‰:**
```
governance_propose    - å¤‰æ›´ææ¡ˆã‚’ä½œæˆ
governance_vote       - ææ¡ˆã«æŠ•ç¥¨ï¼ˆè³›æˆ/åå¯¾/æ£„æ¨©ï¼‰
governance_status     - ææ¡ˆã®æŠ•ç¥¨çŠ¶æ³ã‚’ç¢ºèª
governance_execute    - é–¾å€¤ã‚’è¶…ãˆãŸææ¡ˆã‚’å®Ÿè¡Œ
```

**kairos.mdã®ç‰¹æ®Šæ€§:**

`kairos.md`ã¯ã€Œæ†²æ³•ã€ã«ç›¸å½“ã™ã‚‹ãŸã‚ã€ã‚·ã‚¹ãƒ†ãƒ å¤–ã§ã®åˆæ„å½¢æˆï¼ˆGitHub Discussionç­‰ï¼‰ã‚’æ¨å¥¨ã—ã¾ã™ï¼š

1. GitHub Issue / Discussionã§ææ¡ˆ
2. ãƒãƒ¼ãƒ å…¨å“¡ã§ã‚ªãƒ•ãƒ©ã‚¤ãƒ³è­°è«–
3. å…¨å“¡ä¸€è‡´ï¼ˆã¾ãŸã¯ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¸ãƒ§ãƒªãƒ†ã‚£ï¼‰ã§åˆæ„
4. æ‰‹å‹•ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ã‚³ãƒŸãƒƒãƒˆ

---

### Q: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ–¹æ³•ã¯ï¼Ÿ

**A:** ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã¾ã™ï¼š

```bash
cd KairosChain_mcp_server
ruby test_local.rb
```

ãƒ†ã‚¹ãƒˆå†…å®¹ï¼š
- Layer Registry ã®å‹•ä½œç¢ºèª
- 21å€‹ã®ã‚³ã‚¢MCPãƒ„ãƒ¼ãƒ«ä¸€è¦§
- L1 Knowledge ã®èª­ã¿æ›¸ã
- L2 Context ã®èª­ã¿æ›¸ã
- L0 Skills DSLï¼ˆ6ã‚¹ã‚­ãƒ«ï¼‰ã®èª­ã¿è¾¼ã¿

ãƒ†ã‚¹ãƒˆå¾Œã«ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆï¼ˆ`context/test_session`ï¼‰ãŒä½œæˆã•ã‚Œã‚‹ã®ã§ã€ä¸è¦ãªã‚‰å‰Šé™¤ã—ã¦ãã ã•ã„ï¼š
```bash
rm -rf context/test_session
```

---

### Q: kairos.rbã«å«ã¾ã‚Œã‚‹ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ã¯ä½•ã§ã™ã‹ï¼Ÿ

**A:** ç¾åœ¨6ã¤ã®ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ï¼š

| ã‚¹ã‚­ãƒ« | èª¬æ˜ | æ”¹å¤‰å¯èƒ½æ€§ |
|--------|------|------------|
| `core_safety` | å®‰å…¨æ€§ã®åŸºç›¤ | ä¸å¯ï¼ˆ`deny :all`ï¼‰ |
| `evolution_rules` | é€²åŒ–ãƒ«ãƒ¼ãƒ«ã®å®šç¾© | contentã®ã¿å¯ |
| `layer_awareness` | ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ ã®èªè­˜ | contentã®ã¿å¯ |
| `approval_workflow` | æ‰¿èªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ | contentã®ã¿å¯ |
| `self_inspection` | è‡ªå·±æ¤œæŸ»èƒ½åŠ› | contentã®ã¿å¯ |
| `chain_awareness` | ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³èªè­˜ | contentã®ã¿å¯ |

è©³ç´°ã¯ `skills/kairos.rb` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

### Q: KairosChainã¯ã©ã®ã‚ˆã†ãªåˆ¤æ–­ã§è‡ªåˆ†ã®ã‚¹ã‚­ãƒ«ã‚’é€²åŒ–ã•ã›ã‚ˆã†ã¨ã—ã¾ã™ã‹ï¼Ÿãã®ãŸã‚ã®ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ

**A:** **KairosChainã¯æ„å›³çš„ã«ã€Œã„ã¤é€²åŒ–ã™ã¹ãã‹ã€ã‚’åˆ¤æ–­ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å«ã‚“ã§ã„ã¾ã›ã‚“ã€‚** ã“ã®åˆ¤æ–­ã¯äººé–“å´ï¼ˆã¾ãŸã¯äººé–“ã¨å¯¾è©±ã™ã‚‹AIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼‰ã«å§”ã­ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

**ç¾åœ¨ã®è¨­è¨ˆã«ãŠã‘ã‚‹è²¬ä»»åˆ†æ‹…ï¼š**

| è²¬ä»» | æ‹…å½“è€… | è©³ç´° |
|------|--------|------|
| **é€²åŒ–ã®åˆ¤æ–­ï¼ˆã„ã¤ãƒ»ä½•ã‚’ï¼‰** | äººé–“ / AIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ | KairosChainã®å¤–å´ |
| **é€²åŒ–ã®åˆ¶ç´„ï¼ˆè¨±å¯/æ‹’å¦ï¼‰** | KairosChain | å†…éƒ¨ãƒ«ãƒ¼ãƒ«ã§æ¤œè¨¼ |
| **é€²åŒ–ã®æ‰¿èª** | äººé–“ | æ˜ç¤ºçš„ãª `approved: true` |
| **é€²åŒ–ã®è¨˜éŒ²** | KairosChain | ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«è‡ªå‹•è¨˜éŒ² |

**æ—¢ã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ï¼š**
- âœ… é€²åŒ–ã®åˆ¶ç´„ï¼ˆ`SafeEvolver`ï¼‰
- âœ… ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆpropose â†’ review â†’ applyï¼‰
- âœ… ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ ï¼ˆL0/L1/L2ï¼‰
- âœ… 6ã¤ã®ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«å®šç¾©

**å®Ÿè£…ã•ã‚Œã¦ã„ãªã„ã‚‚ã®ï¼ˆè¨­è¨ˆä¸Šæ„å›³çš„ï¼‰ï¼š**
- âŒ ã€Œã„ã¤é€²åŒ–ã™ã¹ãã‹ã€ã®åˆ¤æ–­ãƒ­ã‚¸ãƒƒã‚¯
- âŒ èƒ½åŠ›ä¸è¶³ã®è‡ªå·±æ¤œçŸ¥
- âŒ å­¦ç¿’æ©Ÿä¼šã®èªè­˜
- âŒ é€²åŒ–ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶

**è¨­è¨ˆã®æ ¹æ‹ ï¼š**

ã“ã‚Œã¯æ„å›³çš„ãªã‚‚ã®ã§ã™ã€‚`kairos.md`ï¼ˆPHILOSOPHY-020 Minimum-Nomicï¼‰ã‚ˆã‚Šï¼š

| ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ | å•é¡Œ |
|-----------|------|
| å®Œå…¨å›ºå®šãƒ«ãƒ¼ãƒ« | é©å¿œä¸å¯ã€ã‚·ã‚¹ãƒ†ãƒ ãŒé™³è…åŒ– |
| **ç„¡åˆ¶é™ã®è‡ªå·±æ”¹å¤‰** | **ã‚«ã‚ªã‚¹ã€èª¬æ˜è²¬ä»»ãªã—** |

ã€Œç„¡åˆ¶é™ã®è‡ªå·±æ”¹å¤‰ã€ã‚’é¿ã‘ã‚‹ãŸã‚ã€KairosChainã¯é€²åŒ–ã®ãƒˆãƒªã‚¬ãƒ¼ã‚’æ„å›³çš„ã«å¤–éƒ¨ã‚¢ã‚¯ã‚¿ãƒ¼ã«å§”ã­ã¦ã„ã¾ã™ã€‚KairosChainã¯**ã‚²ãƒ¼ãƒˆã‚­ãƒ¼ãƒ‘ãƒ¼**ã¨**è¨˜éŒ²ä¿‚**ã¨ã—ã¦æ©Ÿèƒ½ã—ã€è‡ªå¾‹çš„ãªè‡ªå·±æ”¹å¤‰è€…ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

**å°†æ¥ã®æ‹¡å¼µå¯èƒ½æ€§ï¼š**

ã€Œã„ã¤é€²åŒ–ã™ã¹ãã‹ã€ã®ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ã‚’è¿½åŠ ã—ãŸã„å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã§ãã¾ã™ï¼š

```ruby
skill :evolution_trigger do
  version "1.0"
  title "Evolution Trigger Logic"
  
  evolve do
    allow :content      # ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶ã¯å¤‰æ›´å¯èƒ½
    deny :behavior      # åˆ¤æ–­ãƒ­ã‚¸ãƒƒã‚¯è‡ªä½“ã¯å›ºå®š
  end
  
  content <<~MD
    ## é€²åŒ–ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶
    
    1. åŒã˜ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒ3å›ä»¥ä¸Šç™ºç”Ÿã—ãŸå ´åˆ
    2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ˜ç¤ºçš„ã«ã€Œã“ã‚Œã‚’è¦šãˆã¦ã€ã¨è¨€ã£ãŸå ´åˆ
    3. æ–°ã—ã„ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ãŒæä¾›ã•ã‚ŒãŸå ´åˆ
    â†’ L1ã¸ã®ä¿å­˜ã‚’ææ¡ˆ
  MD
end
```

ãŸã ã—ã€ãã®ã‚ˆã†ãªãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ã‚’è¿½åŠ ã—ã¦ã‚‚ã€**æœ€çµ‚çš„ãªæ‰¿èªã¯äººé–“ãŒè¡Œã†ã¹ãã§ã™**ã€‚ã“ã‚Œã¯KairosChainã®å®‰å…¨è¨­è¨ˆã®æ ¸å¿ƒéƒ¨åˆ†ã§ã™ã€‚

---

### Q: ã‚¹ã‚­ãƒ«-ãƒ„ãƒ¼ãƒ«çµ±ä¸€ã¨ã¯ä½•ã§ã™ã‹ï¼ŸRubyãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã›ãšã«MCPãƒ„ãƒ¼ãƒ«ã‚’è¿½åŠ ã§ãã¾ã™ã‹ï¼Ÿ

**A:** ã¯ã„ï¼`kairos.rb`ã®ã‚¹ã‚­ãƒ«ã¯`tool`ãƒ–ãƒ­ãƒƒã‚¯ã§MCPãƒ„ãƒ¼ãƒ«ã‚’å®šç¾©ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚ŠL0-Bã§ã‚¹ã‚­ãƒ«ã¨ãƒ„ãƒ¼ãƒ«ãŒçµ±ä¸€ã•ã‚Œã¾ã™ã€‚

**ä»•çµ„ã¿ï¼š**

```ruby
# kairos.rbå†…
skill :my_custom_tool do
  version "1.0"
  title "My Custom Tool"
  
  # å¾“æ¥ã®behaviorï¼ˆã‚¹ã‚­ãƒ«å†…çœç”¨ï¼‰
  behavior do
    { capability: "..." }
  end
  
  # ãƒ„ãƒ¼ãƒ«å®šç¾©ï¼ˆMCPãƒ„ãƒ¼ãƒ«ã¨ã—ã¦å…¬é–‹ï¼‰
  tool do
    name "my_custom_tool"
    description "ä¾¿åˆ©ãªå‡¦ç†ã‚’è¡Œã†"
    
    input do
      property :arg, type: "string", description: "å¼•æ•°"
      required :arg
    end
    
    execute do |args|
      # ãƒ„ãƒ¼ãƒ«å®Ÿè£…
      { result: process(args["arg"]) }
    end
  end
end
```

**è¨­å®šã§æœ‰åŠ¹åŒ–ï¼š**

```yaml
# skills/config.yml
skill_tools_enabled: true   # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: false
```

**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆï¼š**
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯**ç„¡åŠ¹**ï¼ˆä¿å®ˆçš„ï¼‰
- ãƒ„ãƒ¼ãƒ«ã®è¿½åŠ ãƒ»å¤‰æ›´ã«ã¯`kairos.rb`ã®ç·¨é›†ãŒå¿…è¦ï¼ˆL0åˆ¶ç´„ãŒé©ç”¨ï¼‰
- å¤‰æ›´ã«ã¯äººé–“ã®æ‰¿èªãŒå¿…è¦ï¼ˆ`approved: true`ï¼‰
- ã™ã¹ã¦ã®å¤‰æ›´ã¯ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«è¨˜éŒ²
- Minimum-Nomicã«åˆè‡´ï¼šã€Œå¤‰æ›´ã§ãã‚‹ãŒã€è¨˜éŒ²ã•ã‚Œã‚‹ã€

**ãªãœã“ã‚Œã»ã©å³æ ¼ãªã®ã‹ï¼Ÿ**

L0ï¼ˆ`kairos.rb`ï¼‰ã¯æ„å›³çš„ã«**ä¸‰é‡ã®ä¿è­·**ã§ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã¾ã™ï¼š

| ä¿è­· | è¨­å®š | åŠ¹æœ |
|------|------|------|
| 1 | `evolution_enabled: false` | kairos.rbã®å¤‰æ›´ã‚’ãƒ–ãƒ­ãƒƒã‚¯ |
| 2 | `require_human_approval: true` | æ˜ç¤ºçš„ãªäººé–“ã®æ‰¿èªãŒå¿…è¦ |
| 3 | `skill_tools_enabled: false` | ã‚¹ã‚­ãƒ«ãŒãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ç™»éŒ²ã•ã‚Œãªã„ |

**é‡è¦ï¼š** `config.yml`ã‚’å¤‰æ›´ã™ã‚‹MCPãƒ„ãƒ¼ãƒ«ã¯å­˜åœ¨ã—ã¾ã›ã‚“ã€‚LLMã«ã€Œã“ã®è¨­å®šã‚’å¤‰æ›´ã—ã¦ã€ã¨é ¼ã‚“ã§ã‚‚ã€LLMã«ã¯å¤‰æ›´ã™ã‚‹æ‰‹æ®µãŒã‚ã‚Šã¾ã›ã‚“ã€‚äººé–“ãŒæ‰‹å‹•ã§`config.yml`ã‚’ç·¨é›†ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ã“ã‚Œã¯è¨­è¨ˆä¸Šã®æ„å›³ã§ã™ï¼šL0ã¯æ³•çš„é¡æ¨ã«ãŠã‘ã‚‹ã€Œæ†²æ³•ãƒ»æ³•å¾‹ã€ã«ç›¸å½“ã—ã€é »ç¹ã«å¤‰æ›´ã•ã‚Œã‚‹ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚é »ç¹ãªãƒ„ãƒ¼ãƒ«è¿½åŠ ãŒå¿…è¦ãªå ´åˆã¯ã€ä»¥ä¸‹ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ï¼š

- **ç¾åœ¨ã®åˆ¶é™**ï¼š`tool`ãƒ–ãƒ­ãƒƒã‚¯ã¯L0ã®ã¿ã§ã‚µãƒãƒ¼ãƒˆ
- **å°†æ¥ã®å¯èƒ½æ€§**ï¼šL1ã§ã®ãƒ„ãƒ¼ãƒ«å®šç¾©ã‚µãƒãƒ¼ãƒˆï¼ˆè»½é‡ãªåˆ¶ç´„ã€äººé–“æ‰¿èªä¸è¦ã€ãƒãƒƒã‚·ãƒ¥ã®ã¿è¨˜éŒ²ï¼‰

ã»ã¨ã‚“ã©ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã¯ã€**L0ãƒ„ãƒ¼ãƒ«ã‚’é »ç¹ã«å¤‰æ›´ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“**ã€‚å³æ ¼ãªãƒ­ãƒƒã‚¯ã¯ã‚·ã‚¹ãƒ†ãƒ ã®æ•´åˆæ€§ã‚’ç¢ºä¿ã—ã¾ã™ã€‚

---

### Q: KairosChainã¯LLMã«å¯¾ã—ã¦ã‚¹ã‚­ãƒ«ä½œæˆã‚’è‡ªç™ºçš„ã«æ¨å¥¨ã™ã¹ãã§ã™ã‹ï¼Ÿ

**A:** **ã„ã„ãˆã€‚KairosChainã¯ã€Œè¨˜éŒ²ã¨åˆ¶ç´„ã€ã«å°‚å¿µã™ã¹ãã§ã‚ã‚Šã€ã€Œã„ã¤å­¦ã¶ã¹ãã‹ã€ã‚’æ¨å¥¨ã™ã¹ãã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚** ã‚¹ã‚­ãƒ«ä½œæˆã‚’æ¨å¥¨ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã¯ã€LLM/AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå´ï¼ˆCursor Rulesã€system_promptãªã©ï¼‰ã«å§”ã­ã‚‹ã¹ãã§ã™ã€‚

**ãªãœã“ã®åˆ†é›¢ãŒé‡è¦ã‹ï¼Ÿ**

| è¦³ç‚¹ | KairosChainå´ã§å®Ÿè£… | LLM/ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå´ã«å§”è­² |
|------|---------------------|------------------------|
| **Minimum-NomicåŸå‰‡** | ã€Œå¤‰æ›´ã¯ç¨€ã§é«˜ã‚³ã‚¹ãƒˆã§ã‚ã‚‹ã¹ãã€ | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå­¦ç¿’ã®ä¾¡å€¤ã‚’åˆ¤æ–­ |
| **è²¬ä»»ã®åˆ†é›¢** | KairosChain = ã‚²ãƒ¼ãƒˆã‚­ãƒ¼ãƒ‘ãƒ¼ï¼†è¨˜éŒ²ä¿‚ | LLM = å­¦ç¿’ãƒˆãƒªã‚¬ãƒ¼ã®æ±ºå®šè€… |
| **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§** | å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«åŒã˜åˆ¶ç´„ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«ç•°ãªã‚‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¨­å®šãŒå¯èƒ½ |
| **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ³¨å…¥ãƒªã‚¹ã‚¯** | æ¨å¥¨ãƒ­ã‚¸ãƒƒã‚¯è‡ªä½“ãŒæ”»æ’ƒå¯¾è±¡ã« | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå´ã§é˜²å¾¡å¯èƒ½ |

**KairosChainã®å½¹å‰²ï¼š**
- âœ… ã‚¹ã‚­ãƒ«å¤‰æ›´ã‚’ä¸å¤‰çš„ã«è¨˜éŒ²
- âœ… é€²åŒ–ã®åˆ¶ç´„ã‚’å¼·åˆ¶ï¼ˆæ‰¿èªã€ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ«ãƒ¼ãƒ«ï¼‰
- âœ… ã‚¹ã‚­ãƒ«ç®¡ç†ã®ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã‚’æä¾›
- âŒ ã€Œã„ã¤ã€ã€Œä½•ã‚’ã€å­¦ã¶ã‹ã‚’æ±ºå®š

**è‡ªç™ºçš„ãªã‚¹ã‚­ãƒ«æ¨å¥¨ã®æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼š**

AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆCursor Rulesã€Claude system_promptãªã©ï¼‰ã«ä»¥ä¸‹ã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼š

```markdown
# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå­¦ç¿’ãƒ«ãƒ¼ãƒ«

## ã‚¹ã‚­ãƒ«ä½œæˆã‚’æ¨å¥¨ã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°
- è¤‡æ•°å›ã®è©¦è¡Œã‚’å¿…è¦ã¨ã—ãŸå•é¡Œã‚’è§£æ±ºã—ãŸå¾Œ
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã„ã¤ã‚‚å¿˜ã‚Œã‚‹...ã€ã‚„ã€Œã“ã‚Œã¯ã‚ˆãã‚ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã€ã¨è¨€ã£ãŸå ´åˆ
- ä¼¼ãŸã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒç¹°ã‚Šè¿”ã—ç”Ÿæˆã•ã‚ŒãŸå ´åˆ

## æ¨å¥¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
ã€Œ[ãƒ‘ã‚¿ãƒ¼ãƒ³]ã«æ°—ã¥ãã¾ã—ãŸã€‚ã“ã‚Œã‚’KairosChainã‚¹ã‚­ãƒ«ã¨ã—ã¦ä¿å­˜ã—ã¾ã™ã‹ï¼Ÿã€

## KairosChainãƒ„ãƒ¼ãƒ«ã®ä½¿ç”¨ï¼š
- L2: ä¸€æ™‚çš„ãªä»®èª¬ã«ã¯ `context_save`
- L1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ã«ã¯ `knowledge_update`ï¼ˆãƒãƒƒã‚·ãƒ¥ã®ã¿è¨˜éŒ²ï¼‰
- L0: ãƒ¡ã‚¿ã‚¹ã‚­ãƒ«ã«ã¯ `skills_evolve`ï¼ˆäººé–“æ‰¿èªãŒå¿…è¦ï¼‰
```

ã“ã‚Œã«ã‚ˆã‚Šã€KairosChainã¯**ä¸­ç«‹çš„ãªã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£**ã¨ã—ã¦ç¶­æŒã•ã‚Œã€å„ãƒãƒ¼ãƒ /ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ¬ãƒ™ãƒ«ã§ç‹¬è‡ªã®å­¦ç¿’ãƒãƒªã‚·ãƒ¼ã‚’å®šç¾©ã§ãã¾ã™ã€‚

---

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

[LICENSE](./LICENSE)ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 0.3.0  
**æœ€çµ‚æ›´æ–°**: 2026-01-19

> *ã€ŒKairosChainã¯ã€ã“ã®çµæœã¯æ­£ã—ã„ã‹ï¼Ÿã€ã§ã¯ãªãã€ã“ã®çŸ¥æ€§ã¯ã©ã®ã‚ˆã†ã«å½¢æˆã•ã‚ŒãŸã‹ï¼Ÿã€ã«ç­”ãˆã¾ã™ã€*
